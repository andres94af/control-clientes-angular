(self.webpackChunkcontrol_clientes=self.webpackChunkcontrol_clientes||[]).push([[179],{2011:(dt,De,V)=>{"use strict";V.d(De,{Dh:()=>me,GT:()=>ge,cc:()=>Te,hO:()=>ke,on:()=>K,pX:()=>ie,xv:()=>de});var I=V(4650),u=V(127),B=V(5813);dt=V.hmd(dt);const Q=["ngOnDestroy"],ie=(fe,ct,mt,Be={})=>new Proxy(fe,{get:(Ne,xe)=>mt.runOutsideAngular(()=>{var qe;if(fe[xe])return!(null===(qe=Be?.spy)||void 0===qe)&&qe.get&&Be.spy.get(xe,fe[xe]),fe[xe];if(Q.indexOf(xe)>-1)return()=>{};const Ye=ct.toPromise().then(z=>{const Ce=z&&z[xe];return"function"==typeof Ce?Ce.bind(z):Ce&&Ce.then?Ce.then(ee=>mt.run(()=>ee)):mt.run(()=>Ce)});return new Proxy(()=>{},{get:(z,Ce)=>Ye[Ce],apply:(z,Ce,ee)=>Ye.then(re=>{var ue;const ae=re&&re(...ee);return!(null===(ue=Be?.spy)||void 0===ue)&&ue.apply&&Be.spy.apply(xe,ee,ae),ae})})})}),ge=(fe,ct)=>{ct.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(Be=>{Object.defineProperty(fe.prototype,Be,Object.getOwnPropertyDescriptor(mt.prototype||mt,Be))})})};class we{constructor(ct){return ct}}const me=new I.InjectionToken("angularfire2.app.options"),de=new I.InjectionToken("angularfire2.app.name");function K(fe,ct,mt){const Ne="object"==typeof mt&&mt||{};Ne.name=Ne.name||"string"==typeof mt&&mt||"[DEFAULT]";const qe=u.Z.apps.filter(Ye=>Ye&&Ye.name===Ne.name)[0]||ct.runOutsideAngular(()=>u.Z.initializeApp(fe,Ne));try{JSON.stringify(fe)!==JSON.stringify(qe.options)&&q("error",`${qe.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(qe)}const q=(fe,...ct)=>{(0,I.isDevMode)()&&typeof console<"u"&&console[fe](...ct)},Z={provide:we,useFactory:K,deps:[me,I.NgZone,[new I.Optional,de]]};let ke=(()=>{class fe{constructor(mt){u.Z.registerVersion("angularfire",B.q4.full,"core"),u.Z.registerVersion("angularfire",B.q4.full,"app-compat"),u.Z.registerVersion("angular",I.VERSION.full,mt.toString())}static initializeApp(mt,Be){return{ngModule:fe,providers:[{provide:me,useValue:mt},{provide:de,useValue:Be}]}}}return fe.\u0275fac=function(mt){return new(mt||fe)(I.\u0275\u0275inject(I.PLATFORM_ID))},fe.\u0275mod=I.\u0275\u0275defineNgModule({type:fe}),fe.\u0275inj=I.\u0275\u0275defineInjector({providers:[Z]}),fe})();function Te(fe,ct,mt,Be,Ne){const[,xe,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===fe)||[];if(xe)return function Ie(fe,ct){try{return fe.toString()===ct.toString()}catch{return fe===ct}}(Ne,qe)||(Ee("error",`${ct} was already initialized on the ${mt} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Ne,was:qe})),xe;{const Ye=Be();return globalThis.\u0275AngularfireInstanceCache.push([fe,Ye,Ne]),Ye}}const Xe=!!dt.hot,Ee=(fe,...ct)=>{(0,I.isDevMode)()&&typeof console<"u"&&console[fe](...ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,De,V)=>{"use strict";V.d(De,{q4:()=>Fi,iC:()=>ws,HU:()=>Vo,vb:()=>tl,JM:()=>el});var I=V(4650),u=V(5867),B=V(5861),Q=V(9681),ie=V(2090),ge=V(4859),we=V(1877),me=V(8766);const de="@firebase/installations",K="0.5.13",Z=`w:${K}`,ke="FIS_v2",ct=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(S){return S instanceof ie.ZR&&S.code.includes("request-failed")}function Be({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Ne(S){return{token:S.token,requestStatus:2,expiresIn:re(S.expiresIn),creationTime:Date.now()}}function xe(S,N){return qe.apply(this,arguments)}function qe(){return(qe=(0,B.Z)(function*(S,N){const $=(yield N.json()).error;return ct.create("request-failed",{requestName:S,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function Ye({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function z(S,{refreshToken:N}){const k=Ye(S);return k.append("Authorization",function ue(S){return`${ke} ${S}`}(N)),k}function Ce(S){return ee.apply(this,arguments)}function ee(){return(ee=(0,B.Z)(function*(S){const N=yield S();return N.status>=500&&N.status<600?S():N})).apply(this,arguments)}function re(S){return Number(S.replace("s","000"))}function ae(S,N){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:N},{fid:k}){const $=Be(S),ne=Ye(S),pe=N.getImmediate({optional:!0});if(pe){const Mt=yield pe.getHeartbeatsHeader();Mt&&ne.append("x-firebase-client",Mt)}const Ke={method:"POST",headers:ne,body:JSON.stringify({fid:k,authVersion:ke,appId:S.appId,sdkVersion:Z})},Dt=yield Ce(()=>fetch($,Ke));if(Dt.ok){const Mt=yield Dt.json();return{fid:Mt.fid||k,registrationStatus:2,refreshToken:Mt.refreshToken,authToken:Ne(Mt.authToken)}}throw yield xe("Create Installation",Dt)})).apply(this,arguments)}function $e(S){return new Promise(N=>{setTimeout(N,S)})}const on=/^[cdef][\w-]{21}$/;function tt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const k=function cn(S){return function It(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return on.test(k)?k:""}catch{return""}}function xn(S){return`${S.appName}!${S.appId}`}const un=new Map;function an(S,N){const k=xn(S);dn(k,N),function qo(S,N){const k=function Zr(){return!ri&&"BroadcastChannel"in self&&(ri=new BroadcastChannel("[Firebase] FID Change"),ri.onmessage=S=>{dn(S.data.key,S.data.fid)}),ri}();k&&k.postMessage({key:S,fid:N}),function ii(){0===un.size&&ri&&(ri.close(),ri=null)}()}(k,N)}function dn(S,N){const k=un.get(S);if(k)for(const $ of k)$(N)}let ri=null;const Mr="firebase-installations-store";let bi=null;function ls(){return bi||(bi=(0,me.X3)("firebase-installations-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(Mr)}})),bi}function nt(S,N){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,B.Z)(function*(S,N){const k=xn(S),ne=(yield ls()).transaction(Mr,"readwrite"),pe=ne.objectStore(Mr),Ve=yield pe.get(k);return yield pe.put(N,k),yield ne.done,(!Ve||Ve.fid!==N.fid)&&an(S,N.fid),N})).apply(this,arguments)}function zi(S){return gr.apply(this,arguments)}function gr(){return(gr=(0,B.Z)(function*(S){const N=xn(S),$=(yield ls()).transaction(Mr,"readwrite");yield $.objectStore(Mr).delete(N),yield $.done})).apply(this,arguments)}function si(S,N){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,B.Z)(function*(S,N){const k=xn(S),ne=(yield ls()).transaction(Mr,"readwrite"),pe=ne.objectStore(Mr),Ve=yield pe.get(k),Ke=N(Ve);return void 0===Ke?yield pe.delete(k):yield pe.put(Ke,k),yield ne.done,Ke&&(!Ve||Ve.fid!==Ke.fid)&&an(S,Ke.fid),Ke})).apply(this,arguments)}function Bn(S){return Un.apply(this,arguments)}function Un(){return(Un=(0,B.Z)(function*(S){let N;const k=yield si(S.appConfig,$=>{const ne=Gt($),pe=Ct(S,ne);return N=pe.registrationPromise,pe.installationEntry});return""===k.fid?{installationEntry:yield N}:{installationEntry:k,registrationPromise:N}})).apply(this,arguments)}function Gt(S){return Vt(S||{fid:tt(),registrationStatus:0})}function Ct(S,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(ct.create("app-offline"))};const k={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},$=function vt(S,N){return Cn.apply(this,arguments)}(S,k);return{installationEntry:k,registrationPromise:$}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Xn(S)}:{installationEntry:N}}function Cn(){return(Cn=(0,B.Z)(function*(S,N){try{const k=yield ae(S,N);return nt(S.appConfig,k)}catch(k){throw mt(k)&&409===k.customData.serverCode?yield zi(S.appConfig):yield nt(S.appConfig,{fid:N.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Xn(S){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,B.Z)(function*(S){let N=yield oi(S.appConfig);for(;1===N.registrationStatus;)yield $e(100),N=yield oi(S.appConfig);if(0===N.registrationStatus){const{installationEntry:k,registrationPromise:$}=yield Bn(S);return $||k}return N})).apply(this,arguments)}function oi(S){return si(S,N=>{if(!N)throw ct.create("installation-not-found");return Vt(N)})}function Vt(S){return function xi(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function hn(S,N){return qi.apply(this,arguments)}function qi(){return(qi=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:N},k){const $=_n(S,k),ne=z(S,k),pe=N.getImmediate({optional:!0});if(pe){const Mt=yield pe.getHeartbeatsHeader();Mt&&ne.append("x-firebase-client",Mt)}const Ke={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:Z,appId:S.appId}})},Dt=yield Ce(()=>fetch($,Ke));if(Dt.ok)return Ne(yield Dt.json());throw yield xe("Generate Auth Token",Dt)})).apply(this,arguments)}function _n(S,{fid:N}){return`${Be(S)}/${N}/authTokens:generate`}function mr(S){return Br.apply(this,arguments)}function Br(){return(Br=(0,B.Z)(function*(S,N=!1){let k;const $=yield si(S.appConfig,pe=>{if(!G(pe))throw ct.create("not-registered");const Ve=pe.authToken;if(!N&&W(Ve))return pe;if(1===Ve.requestStatus)return k=pt(S,N),pe;{if(!navigator.onLine)throw ct.create("app-offline");const Ke=Ae(pe);return k=Ot(S,Ke),Ke}});return k?yield k:$.authToken})).apply(this,arguments)}function pt(S,N){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,B.Z)(function*(S,N){let k=yield ht(S.appConfig);for(;1===k.authToken.requestStatus;)yield $e(100),k=yield ht(S.appConfig);const $=k.authToken;return 0===$.requestStatus?mr(S,N):$})).apply(this,arguments)}function ht(S){return si(S,N=>{if(!G(N))throw ct.create("not-registered");return function le(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Ot(S,N){return kt.apply(this,arguments)}function kt(){return(kt=(0,B.Z)(function*(S,N){try{const k=yield hn(S,N),$=Object.assign(Object.assign({},N),{authToken:k});return yield nt(S.appConfig,$),k}catch(k){if(!mt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const $=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield nt(S.appConfig,$)}else yield zi(S.appConfig);throw k}})).apply(this,arguments)}function G(S){return void 0!==S&&2===S.registrationStatus}function W(S){return 2===S.requestStatus&&!function te(S){const N=Date.now();return N<S.creationTime||S.creationTime+S.expiresIn<N+36e5}(S)}function Ae(S){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:N})}function Et(){return(Et=(0,B.Z)(function*(S){const N=S,{installationEntry:k,registrationPromise:$}=yield Bn(N);return $?$.catch(console.error):mr(N).catch(console.error),k.fid})).apply(this,arguments)}function Wn(){return(Wn=(0,B.Z)(function*(S,N=!1){const k=S;return yield Dn(k),(yield mr(k,N)).token})).apply(this,arguments)}function Dn(S){return In.apply(this,arguments)}function In(){return(In=(0,B.Z)(function*(S){const{registrationPromise:N}=yield Bn(S);N&&(yield N)})).apply(this,arguments)}function Di(S){return ct.create("missing-app-config-values",{valueName:S})}const xr="installations",Ut=S=>{const N=S.getProvider("app").getImmediate(),k=function Rn(S){if(!S||!S.options)throw Di("App Configuration");if(!S.name)throw Di("App Name");const N=["projectId","apiKey","appId"];for(const k of N)if(!S.options[k])throw Di(k);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(N);return{app:N,appConfig:k,heartbeatServiceProvider:(0,Q._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Tn=S=>{const N=S.getProvider("app").getImmediate(),k=(0,Q._getProvider)(N,xr).getImmediate();return{getId:()=>function We(S){return Et.apply(this,arguments)}(k),getToken:ne=>function Zt(S){return Wn.apply(this,arguments)}(k,ne)}};(function gt(){(0,Q._registerComponent)(new ge.wA(xr,Ut,"PUBLIC")),(0,Q._registerComponent)(new ge.wA("installations-internal",Tn,"PRIVATE"))})(),(0,Q.registerVersion)(de,K),(0,Q.registerVersion)(de,K,"esm2017");const Ki="@firebase/remote-config",Fn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Au{constructor(N,k,$,ne){this.client=N,this.storage=k,this.storageCache=$,this.logger=ne}isCachedDataFresh(N,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-k,ne=$<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${ne}.`),ne}fetch(N){var k=this;return(0,B.Z)(function*(){const[$,ne]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ne&&k.isCachedDataFresh(N.cacheMaxAgeMillis,$))return ne;N.eTag=ne&&ne.eTag;const pe=yield k.client.fetch(N),Ve=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Ve.push(k.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Ve),pe})()}}function Aa(S=navigator){return S.languages&&S.languages[0]||S.language}class Ml{constructor(N,k,$,ne,pe,Ve){this.firebaseInstallations=N,this.sdkVersion=k,this.namespace=$,this.projectId=ne,this.apiKey=pe,this.appId=Ve}fetch(N){var k=this;return(0,B.Z)(function*(){var $,ne,pe;const[Ve,Ke]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,$t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},xt={sdk_version:k.sdkVersion,app_instance_id:Ve,app_instance_id_token:Ke,app_id:k.appId,language_code:Aa()},Gn={method:"POST",headers:$t,body:JSON.stringify(xt)},Ir=fetch(Mt,Gn),nl=new Promise((Kl,ca)=>{N.signal.addEventListener(()=>{const Fc=new Error("The operation was aborted.");Fc.name="AbortError",ca(Fc)})});let rl;try{yield Promise.race([Ir,nl]),rl=yield Ir}catch(Kl){let ca="fetch-client-network";throw"AbortError"===(null===($=Kl)||void 0===$?void 0:$.name)&&(ca="fetch-timeout"),Fn.create(ca,{originalErrorMessage:null===(ne=Kl)||void 0===ne?void 0:ne.message})}let uo=rl.status;const il=rl.headers.get("ETag")||void 0;let ho,la;if(200===rl.status){let Kl;try{Kl=yield rl.json()}catch(ca){throw Fn.create("fetch-client-parse",{originalErrorMessage:null===(pe=ca)||void 0===pe?void 0:pe.message})}ho=Kl.entries,la=Kl.state}if("INSTANCE_STATE_UNSPECIFIED"===la?uo=500:"NO_CHANGE"===la?uo=304:("NO_TEMPLATE"===la||"EMPTY_CONFIG"===la)&&(ho={}),304!==uo&&200!==uo)throw Fn.create("fetch-status",{httpStatus:uo});return{status:uo,eTag:il,config:ho}})()}}class Tf{constructor(N,k){this.client=N,this.storage=k}fetch(N){var k=this;return(0,B.Z)(function*(){const $=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(N,$)})()}attemptFetch(N,{throttleEndTimeMillis:k,backoffCount:$}){var ne=this;return(0,B.Z)(function*(){yield function yr(S,N){return new Promise((k,$)=>{const ne=Math.max(N-Date.now(),0),pe=setTimeout(k,ne);S.addEventListener(()=>{clearTimeout(pe),$(Fn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,k);try{const pe=yield ne.client.fetch(N);return yield ne.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function Mu(S){if(!(S instanceof ie.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}(pe))throw pe;const Ve={throttleEndTimeMillis:Date.now()+(0,ie.$s)($),backoffCount:$+1};return yield ne.storage.setThrottleMetadata(Ve),ne.attemptFetch(N,Ve)}})()}}class Sc{constructor(N,k,$,ne,pe){this.app=N,this._client=k,this._storageCache=$,this._storage=ne,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xl(S,N){var k;const $=S.target.error||void 0;return Fn.create(N,{originalErrorMessage:$&&(null===(k=$)||void 0===k?void 0:k.message)})}const Xs="app_namespace_store";class fn{constructor(N,k,$,ne=function Ma(){return new Promise((S,N)=>{var k;try{const $=indexedDB.open("firebase_remote_config",1);$.onerror=ne=>{N(xl(ne,"storage-open"))},$.onsuccess=ne=>{S(ne.target.result)},$.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Xs,{keyPath:"compositeKey"})}}catch($){N(Fn.create("storage-open",{originalErrorMessage:null===(k=$)||void 0===k?void 0:k.message}))}})}()){this.appId=N,this.appName=k,this.namespace=$,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var k=this;return(0,B.Z)(function*(){const $=yield k.openDbPromise;return new Promise((ne,pe)=>{var Ve;const Dt=$.transaction([Xs],"readonly").objectStore(Xs),Mt=k.createCompositeKey(N);try{const $t=Dt.get(Mt);$t.onerror=xt=>{pe(xl(xt,"storage-get"))},$t.onsuccess=xt=>{const Gn=xt.target.result;ne(Gn?Gn.value:void 0)}}catch($t){pe(Fn.create("storage-get",{originalErrorMessage:null===(Ve=$t)||void 0===Ve?void 0:Ve.message}))}})})()}set(N,k){var $=this;return(0,B.Z)(function*(){const ne=yield $.openDbPromise;return new Promise((pe,Ve)=>{var Ke;const Mt=ne.transaction([Xs],"readwrite").objectStore(Xs),$t=$.createCompositeKey(N);try{const xt=Mt.put({compositeKey:$t,value:k});xt.onerror=Gn=>{Ve(xl(Gn,"storage-set"))},xt.onsuccess=()=>{pe()}}catch(xt){Ve(Fn.create("storage-set",{originalErrorMessage:null===(Ke=xt)||void 0===Ke?void 0:Ke.message}))}})})()}delete(N){var k=this;return(0,B.Z)(function*(){const $=yield k.openDbPromise;return new Promise((ne,pe)=>{var Ve;const Dt=$.transaction([Xs],"readwrite").objectStore(Xs),Mt=k.createCompositeKey(N);try{const $t=Dt.delete(Mt);$t.onerror=xt=>{pe(xl(xt,"storage-delete"))},$t.onsuccess=()=>{ne()}}catch($t){pe(Fn.create("storage-delete",{originalErrorMessage:null===(Ve=$t)||void 0===Ve?void 0:Ve.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class hs{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,B.Z)(function*(){const k=N.storage.getLastFetchStatus(),$=N.storage.getLastSuccessfulFetchTimestampMillis(),ne=N.storage.getActiveConfig(),pe=yield k;pe&&(N.lastFetchStatus=pe);const Ve=yield $;Ve&&(N.lastSuccessfulFetchTimestampMillis=Ve);const Ke=yield ne;Ke&&(N.activeConfig=Ke)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Zn(){return li.apply(this,arguments)}function li(){return(li=(0,B.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Zi(){(0,Q._registerComponent)(new ge.wA("remote-config",function S(N,{instanceIdentifier:k}){const $=N.getProvider("app").getImmediate(),ne=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fn.create("registration-window");if(!(0,ie.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:pe,apiKey:Ve,appId:Ke}=$.options;if(!pe)throw Fn.create("registration-project-id");if(!Ve)throw Fn.create("registration-api-key");if(!Ke)throw Fn.create("registration-app-id");const Dt=new fn(Ke,$.name,k=k||"firebase"),Mt=new hs(Dt),$t=new we.Yd(Ki);$t.logLevel=we.in.ERROR;const xt=new Ml(ne,Q.SDK_VERSION,k,pe,Ve,Ke),Gn=new Tf(xt,Dt),Ir=new Au(Gn,Dt,Mt,$t),nl=new Sc($,Ir,Mt,Dt,$t);return function ar(S){const N=(0,ie.m9)(S);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(nl),nl},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(Ki,"0.3.12"),(0,Q.registerVersion)(Ki,"0.3.12","esm2017")}();const ci="/firebase-messaging-sw.js",ui="/firebase-cloud-messaging-push-scope",Yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ko="google.c.a.c_id",Zo="google.c.a.c_l",xa="google.c.a.ts",xu="google.c.a.e";var fs=(()=>{return(S=fs||(fs={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",fs;var S})();function En(S){const N=new Uint8Array(S);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vr(S){const k=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(k),ne=new Uint8Array($.length);for(let pe=0;pe<$.length;++pe)ne[pe]=$.charCodeAt(pe);return ne}const Ps="fcm_token_details_db",lr="fcm_token_object_Store";function Ra(S){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Ps))return null;let N=null;return(yield(0,me.X3)(Ps,5,{upgrade:($=(0,B.Z)(function*(ne,pe,Ve,Ke){var Dt;if(pe<2||!ne.objectStoreNames.contains(lr))return;const Mt=Ke.objectStore(lr),$t=yield Mt.index("fcmSenderId").get(S);if(yield Mt.clear(),$t)if(2===pe){const xt=$t;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;N={token:xt.fcmToken,createTime:null!==(Dt=xt.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:En(xt.vapidKey)}}}else if(3===pe){const xt=$t;N={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:En(xt.auth),p256dh:En(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:En(xt.vapidKey)}}}else if(4===pe){const xt=$t;N={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:En(xt.auth),p256dh:En(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:En(xt.vapidKey)}}}}),function(pe,Ve,Ke,Dt){return $.apply(this,arguments)})})).close(),yield(0,me.Lj)(Ps),yield(0,me.Lj)("fcm_vapid_details_db"),yield(0,me.Lj)("undefined"),jn(N)?N:null;var $}),Oa.apply(this,arguments)}function jn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:N}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const wi="firebase-messaging-store";let Qr=null;function ps(){return Qr||(Qr=(0,me.X3)("firebase-messaging-database",1,{upgrade:(S,N)=>{0===N&&S.createObjectStore(wi)}})),Qr}function eo(S){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,B.Z)(function*(S){const N=Ri(S),$=yield(yield ps()).transaction(wi).objectStore(wi).get(N);if($)return $;{const ne=yield Ra(S.appConfig.senderId);if(ne)return yield rn(S,ne),ne}})).apply(this,arguments)}function rn(S,N){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,B.Z)(function*(S,N){const k=Ri(S),ne=(yield ps()).transaction(wi,"readwrite");return yield ne.objectStore(wi).put(N,k),yield ne.done,N})).apply(this,arguments)}function to(S){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,B.Z)(function*(S){const N=Ri(S),$=(yield ps()).transaction(wi,"readwrite");yield $.objectStore(wi).delete(N),yield $.done})).apply(this,arguments)}function Ri({appConfig:S}){return S.appId}const On=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pt(S,N){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,B.Z)(function*(S,N){var k;const $=yield Fa(S),ne=Oe(N),pe={method:"POST",headers:$,body:JSON.stringify(ne)};let Ve;try{Ve=yield(yield fetch(Oi(S.appConfig),pe)).json()}catch(Ke){throw On.create("token-subscribe-failed",{errorInfo:null===(k=Ke)||void 0===k?void 0:k.toString()})}if(Ve.error)throw On.create("token-subscribe-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw On.create("token-subscribe-no-token");return Ve.token})).apply(this,arguments)}function Nc(S,N){return gs.apply(this,arguments)}function gs(){return(gs=(0,B.Z)(function*(S,N){var k;const $=yield Fa(S),ne=Oe(N.subscriptionOptions),pe={method:"PATCH",headers:$,body:JSON.stringify(ne)};let Ve;try{Ve=yield(yield fetch(`${Oi(S.appConfig)}/${N.token}`,pe)).json()}catch(Ke){throw On.create("token-update-failed",{errorInfo:null===(k=Ke)||void 0===k?void 0:k.toString()})}if(Ve.error)throw On.create("token-update-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw On.create("token-update-no-token");return Ve.token})).apply(this,arguments)}function Pa(S,N){return no.apply(this,arguments)}function no(){return(no=(0,B.Z)(function*(S,N){var k;const ne={method:"DELETE",headers:yield Fa(S)};try{const Ve=yield(yield fetch(`${Oi(S.appConfig)}/${N}`,ne)).json();if(Ve.error)throw On.create("token-unsubscribe-failed",{errorInfo:Ve.error.message})}catch(pe){throw On.create("token-unsubscribe-failed",{errorInfo:null===(k=pe)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Oi({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Fa(S){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,B.Z)(function*({appConfig:S,installations:N}){const k=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Oe({p256dh:S,auth:N,endpoint:k,vapidKey:$}){const ne={web:{endpoint:k,auth:N,p256dh:S}};return $!==Yi&&(ne.web.applicationPubKey=$),ne}const Jt=6048e5;function ro(S){return La.apply(this,arguments)}function La(){return(La=(0,B.Z)(function*(S){const N=yield Ba(S.swRegistration,S.vapidKey),k={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:N.endpoint,auth:En(N.getKey("auth")),p256dh:En(N.getKey("p256dh"))},$=yield eo(S.firebaseDependencies);if($){if(kl($.subscriptionOptions,k))return Date.now()>=$.createTime+Jt?Qi(S,{token:$.token,createTime:Date.now(),subscriptionOptions:k}):$.token;try{yield Pa(S.firebaseDependencies,$.token)}catch(ne){console.warn(ne)}return io(S.firebaseDependencies,k)}return io(S.firebaseDependencies,k)})).apply(this,arguments)}function $n(S){return Va.apply(this,arguments)}function Va(){return(Va=(0,B.Z)(function*(S){const N=yield eo(S.firebaseDependencies);N&&(yield Pa(S.firebaseDependencies,N.token),yield to(S.firebaseDependencies));const k=yield S.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Qi(S,N){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,B.Z)(function*(S,N){try{const k=yield Nc(S.firebaseDependencies,N),$=Object.assign(Object.assign({},N),{token:k,createTime:Date.now()});return yield rn(S.firebaseDependencies,$),k}catch(k){throw yield $n(S),k}})).apply(this,arguments)}function io(S,N){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,B.Z)(function*(S,N){const $={token:yield Pt(S,N),createTime:Date.now(),subscriptionOptions:N};return yield rn(S,$),$.token})).apply(this,arguments)}function Ba(S,N){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,B.Z)(function*(S,N){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vr(N)})})).apply(this,arguments)}function kl(S,N){return N.vapidKey===S.vapidKey&&N.endpoint===S.endpoint&&N.auth===S.auth&&N.p256dh===S.p256dh}function Ji(S){const N={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Hn(S,N){if(!N.notification)return;S.notification={};const k=N.notification.title;k&&(S.notification.title=k);const $=N.notification.body;$&&(S.notification.body=$);const ne=N.notification.image;ne&&(S.notification.image=ne)}(N,S),function Xi(S,N){!N.data||(S.data=N.data)}(N,S),function Pl(S,N){var k,$,ne,pe,Ve;if(!(N.fcmOptions||null!==(k=N.notification)&&void 0!==k&&k.click_action))return;S.fcmOptions={};const Ke=null!==(ne=null===($=N.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==ne?ne:null===(pe=N.notification)||void 0===pe?void 0:pe.click_action;Ke&&(S.fcmOptions.link=Ke);const Dt=null===(Ve=N.fcmOptions)||void 0===Ve?void 0:Ve.analytics_label;Dt&&(S.fcmOptions.analyticsLabel=Dt)}(N,S),N}function Us(S){return"object"==typeof S&&!!S&&Ko in S}function ki(S,N){const k=[];for(let $=0;$<S.length;$++)k.push(S.charAt($)),$<N.length&&k.push(N.charAt($));return k.join("")}function ea(S){return On.create("missing-app-config-values",{valueName:S})}ki("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ki("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qd{constructor(N,k,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function Ou(S){if(!S||!S.options)throw ea("App Configuration Object");if(!S.name)throw ea("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:k}=S;for(const $ of N)if(!k[$])throw ea($);return{appName:S.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:ne,installations:k,analyticsProvider:$}}_delete(){return Promise.resolve()}}function Fl(S){return ja.apply(this,arguments)}function ja(){return(ja=(0,B.Z)(function*(S){var N;try{S.swRegistration=yield navigator.serviceWorker.register(ci,{scope:ui}),S.swRegistration.update().catch(()=>{})}catch(k){throw On.create("failed-service-worker-registration",{browserErrorMessage:null===(N=k)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function js(S,N){return $a.apply(this,arguments)}function $a(){return($a=(0,B.Z)(function*(S,N){if(!N&&!S.swRegistration&&(yield Fl(S)),N||!S.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");S.swRegistration=N}})).apply(this,arguments)}function So(S,N){return ta.apply(this,arguments)}function ta(){return(ta=(0,B.Z)(function*(S,N){N?S.vapidKey=N:S.vapidKey||(S.vapidKey=Yi)})).apply(this,arguments)}function Ga(){return(Ga=(0,B.Z)(function*(S,N){if(!navigator)throw On.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw On.create("permission-blocked");return yield So(S,N?.vapidKey),yield js(S,N?.serviceWorkerRegistration),ro(S)})).apply(this,arguments)}function Ll(S,N,k){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,B.Z)(function*(S,N,k){const $=za(N);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:k[Ko],message_name:k[Zo],message_time:k[xa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function za(S){switch(S){case fs.NOTIFICATION_CLICKED:return"notification_open";case fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function R(){return(R=(0,B.Z)(function*(S,N){const k=N.data;if(!k.isFirebaseMessaging)return;S.onMessageHandler&&k.messageType===fs.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Ji(k)):S.onMessageHandler.next(Ji(k)));const $=k.data;Us($)&&"1"===$[xu]&&(yield Ll(S,k.messageType,$))})).apply(this,arguments)}const T="@firebase/messaging",P="0.9.17",H=S=>{const N=new qd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function E(S,N){return R.apply(this,arguments)}(N,k)),N},ce=S=>{const N=S.getProvider("messaging").getImmediate();return{getToken:$=>function Ha(S,N){return Ga.apply(this,arguments)}(N,$)}};function it(){return pn.apply(this,arguments)}function pn(){return(pn=(0,B.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function be(){(0,Q._registerComponent)(new ge.wA("messaging",H,"PUBLIC")),(0,Q._registerComponent)(new ge.wA("messaging-internal",ce,"PRIVATE")),(0,Q.registerVersion)(T,P),(0,Q.registerVersion)(T,P,"esm2017")}();const ms="analytics",oo="firebase_id",$s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ku="https://www.googletagmanager.com/gtag/js",ur=new we.Yd("@firebase/analytics");function Ac(S){return Promise.all(S.map(N=>N.catch(k=>k)))}function Kg(S,N){const k=document.createElement("script");k.src=`${ku}?l=${S}&id=${N}`,k.async=!0,document.head.appendChild(k)}function Nf(S,N,k,$,ne,pe){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,B.Z)(function*(S,N,k,$,ne,pe){const Ve=$[ne];try{if(Ve)yield N[Ve];else{const Dt=(yield Ac(k)).find(Mt=>Mt.measurementId===ne);Dt&&(yield N[Dt.appId])}}catch(Ke){ur.error(Ke)}S("config",ne,pe)})).apply(this,arguments)}function Fu(S,N,k,$,ne){return na.apply(this,arguments)}function na(){return(na=(0,B.Z)(function*(S,N,k,$,ne){try{let pe=[];if(ne&&ne.send_to){let Ve=ne.send_to;Array.isArray(Ve)||(Ve=[Ve]);const Ke=yield Ac(k);for(const Dt of Ve){const Mt=Ke.find(xt=>xt.measurementId===Dt),$t=Mt&&N[Mt.appId];if(!$t){pe=[];break}pe.push($t)}}0===pe.length&&(pe=Object.values(N)),yield Promise.all(pe),S("event",$,ne||{})}catch(pe){ur.error(pe)}})).apply(this,arguments)}function Vu(){const S=window.document.getElementsByTagName("script");for(const N of Object.values(S))if(N.src&&N.src.includes(ku))return N;return null}const Or=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ao=new class vs{constructor(N={},k=1e3){this.throttleMetadata=N,this.intervalMillis=k}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,k){this.throttleMetadata[N]=k}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Af(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Ka(S){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,B.Z)(function*(S){var N;const{appId:k,apiKey:$}=S,ne={method:"GET",headers:Af($)},pe=$s.replace("{app-id}",k),Ve=yield fetch(pe,ne);if(200!==Ve.status&&304!==Ve.status){let Ke="";try{const Dt=yield Ve.json();null!==(N=Dt.error)&&void 0!==N&&N.message&&(Ke=Dt.error.message)}catch{}throw Or.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:Ke})}return Ve.json()})).apply(this,arguments)}function br(S){return es.apply(this,arguments)}function es(){return(es=(0,B.Z)(function*(S,N=ao,k){const{appId:$,apiKey:ne,measurementId:pe}=S.options;if(!$)throw Or.create("no-app-id");if(!ne){if(pe)return{measurementId:pe,appId:$};throw Or.create("no-api-key")}const Ve=N.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new Za;return setTimeout((0,B.Z)(function*(){Ke.abort()}),void 0!==k?k:6e4),Ul({appId:$,apiKey:ne,measurementId:pe},Ve,Ke,N)})).apply(this,arguments)}function Ul(S,N,k){return ra.apply(this,arguments)}function ra(){return(ra=(0,B.Z)(function*(S,{throttleEndTimeMillis:N,backoffCount:k},$,ne=ao){var pe,Ve;const{appId:Ke,measurementId:Dt}=S;try{yield jl($,N)}catch(Mt){if(Dt)return ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${null===(pe=Mt)||void 0===pe?void 0:pe.message}]`),{appId:Ke,measurementId:Dt};throw Mt}try{const Mt=yield Ka(S);return ne.deleteThrottleMetadata(Ke),Mt}catch(Mt){const $t=Mt;if(!Uu($t)){if(ne.deleteThrottleMetadata(Ke),Dt)return ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:Ke,measurementId:Dt};throw Mt}const xt=503===Number(null===(Ve=$t?.customData)||void 0===Ve?void 0:Ve.httpStatus)?(0,ie.$s)(k,ne.intervalMillis,30):(0,ie.$s)(k,ne.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+xt,backoffCount:k+1};return ne.setThrottleMetadata(Ke,Gn),ur.debug(`Calling attemptFetch again in ${xt} millis`),Ul(S,Gn,$,ne)}})).apply(this,arguments)}function jl(S,N){return new Promise((k,$)=>{const ne=Math.max(N-Date.now(),0),pe=setTimeout(k,ne);S.addEventListener(()=>{clearTimeout(pe),$(Or.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function Uu(S){if(!(S instanceof ie.ZR&&S.customData))return!1;const N=Number(S.customData.httpStatus);return 429===N||500===N||503===N||504===N}class Za{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let No,Qa;function Ao(){return(Ao=(0,B.Z)(function*(S,N,k,$,ne){if(ne&&ne.global)S("event",k,$);else{const pe=yield N;S("event",k,Object.assign(Object.assign({},$),{send_to:pe}))}})).apply(this,arguments)}function di(S){Qa=S}function $u(S){No=S}function Hr(){return bs.apply(this,arguments)}function bs(){return(bs=(0,B.Z)(function*(){var S;if(!(0,ie.hl)())return ur.warn(Or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(N){return ur.warn(Or.create("indexeddb-unavailable",{errorInfo:null===(S=N)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Hu(){return(Hu=(0,B.Z)(function*(S,N,k,$,ne,pe,Ve){var Ke;const Dt=br(S);Dt.then(Ir=>{k[Ir.measurementId]=Ir.appId,S.options.measurementId&&Ir.measurementId!==S.options.measurementId&&ur.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ir=>ur.error(Ir)),N.push(Dt);const Mt=Hr().then(Ir=>{if(Ir)return $.getId()}),[$t,xt]=yield Promise.all([Dt,Mt]);Vu()||Kg(pe,$t.measurementId),Qa&&(ne("consent","default",Qa),di(void 0)),ne("js",new Date);const Gn=null!==(Ke=Ve?.config)&&void 0!==Ke?Ke:{};return Gn.origin="firebase",Gn.update=!0,null!=xt&&(Gn[oo]=xt),ne("config",$t.measurementId,Gn),No&&(ne("set",No),$u(void 0)),$t.measurementId})).apply(this,arguments)}class xc{constructor(N){this.app=N}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},Gs=[];const xo={};let Ro,Gr,Ds="dataLayer",Ws=!1;function Gu(S,N,k){!function Kd(){const S=[];if((0,ie.ru)()&&S.push("This is a browser extension environment."),(0,ie.zI)()||S.push("Cookies are not available."),S.length>0){const N=S.map(($,ne)=>`(${ne+1}) ${$}`).join(" "),k=Or.create("invalid-analytics-context",{errorInfo:N});ur.warn(k.message)}}();const $=S.options.appId;if(!$)throw Or.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Or.create("no-api-key");ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hi[$])throw Or.create("already-exists",{id:$});if(!Ws){!function Zg(S){let N=[];Array.isArray(window[S])?N=window[S]:window[S]=N}(Ds);const{wrappedGtag:pe,gtagCore:Ve}=function Vl(S,N,k,$,ne){let pe=function(...Ve){window[$].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(pe=window[ne]),window[ne]=function Lu(S,N,k,$){function pe(){return(pe=(0,B.Z)(function*(Ve,Ke,Dt){try{"event"===Ve?yield Fu(S,N,k,Ke,Dt):"config"===Ve?yield Nf(S,N,k,$,Ke,Dt):"consent"===Ve?S("consent","update",Dt):S("set",Ke)}catch(Mt){ur.error(Mt)}})).apply(this,arguments)}return function ne(Ve,Ke,Dt){return pe.apply(this,arguments)}}(pe,S,N,k),{gtagCore:pe,wrappedGtag:window[ne]}}(hi,Gs,xo,Ds,"gtag");Gr=pe,Ro=Ve,Ws=!0}return hi[$]=function Ja(S,N,k,$,ne,pe,Ve){return Hu.apply(this,arguments)}(S,Gs,xo,N,Ro,Ds,k),new xc(S)}function Zd(){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,B.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Oc="@firebase/analytics";!function Ei(){(0,Q._registerComponent)(new ge.wA(ms,(N,{options:k})=>Gu(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,Q._registerComponent)(new ge.wA("analytics-internal",function S(N){try{const k=N.getProvider(ms).getImmediate();return{logEvent:($,ne,pe)=>function Gl(S,N,k,$){S=(0,ie.m9)(S),function Mf(S,N,k,$,ne){return Ao.apply(this,arguments)}(Gr,hi[S.app.options.appId],N,k,$).catch(ne=>ur.error(ne))}(k,$,ne,pe)}}catch(k){throw Or.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,Q.registerVersion)(Oc,"0.8.1"),(0,Q.registerVersion)(Oc,"0.8.1","esm2017")}();var ts=V(4408),Pi=V(7565);const Wu=new class co extends Pi.v{}(class ei extends ts.o{constructor(N,k){super(N,k),this.scheduler=N,this.work=k}schedule(N,k=0){return k>0?super.schedule(N,k):(this.delay=k,this.state=N,this.scheduler.flush(this),this)}execute(N,k){return k>0||this.closed?super.execute(N,k):this._execute(N,k)}requestAsyncId(N,k,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(N,k,$):(N.flush(this),0)}});var ko=V(4986),Po=V(8505),Fo=V(9468),sa=V(5363);const Fi=new I.Version("7.4.1"),oa="__angularfire_symbol__analyticsIsSupportedValue",Lo="__angularfire_symbol__analyticsIsSupported",zu="__angularfire_symbol__remoteConfigIsSupportedValue",kc="__angularfire_symbol__remoteConfigIsSupported",Jd="__angularfire_symbol__messagingIsSupportedValue",Xd="__angularfire_symbol__messagingIsSupported";function el(S,N,k){if(N){if(1===N.length)return N[0];const pe=N.filter(Ve=>Ve.app===k);if(1===pe.length)return pe[0]}return k.container.getProvider(S).getImmediate({optional:!0})}globalThis[Lo]||(globalThis[Lo]=Zd().then(S=>globalThis[oa]=S).catch(()=>globalThis[oa]=!1)),globalThis[Xd]||(globalThis[Xd]=it().then(S=>globalThis[Jd]=S).catch(()=>globalThis[Jd]=!1)),globalThis[kc]||(globalThis[kc]=Zn().then(S=>globalThis[zu]=S).catch(()=>globalThis[zu]=!1));const tl=(S,N)=>{const k=N?[N]:(0,u.C6)(),$=[];return k.forEach(ne=>{ne.container.getProvider(S).instances.forEach(Ve=>{$.includes(Ve)||$.push(Ve)})}),$};function zl(){}class Li{constructor(N,k=Wu){this.zone=N,this.delegate=k}now(){return this.delegate.now()}schedule(N,k,$){const ne=this.zone;return this.delegate.schedule(function(Ve){ne.runGuarded(()=>{N.apply(this,[Ve])})},k,$)}}class ql{constructor(N){this.zone=N,this.task=null}call(N,k){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zl,{},zl,zl)),k.pipe((0,Po.b)({next:$,complete:$,error:$})).subscribe(N).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vo=(()=>{class S{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Li(Zone.current)),this.insideAngular=k.run(()=>new Li(Zone.current,ko.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(k){return new(k||S)(I.\u0275\u0275inject(I.NgZone))},S.\u0275prov=I.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ns(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function ws(S){return ns(),function Ku(S){return function(k){return(k=k.lift(new ql(S.ngZone))).pipe((0,Fo.R)(S.outsideAngular),(0,sa.Q)(S.insideAngular))}}(ns())(S)}},2090:(dt,De,V)=>{"use strict";V.d(De,{$s:()=>Fe,BH:()=>on,G6:()=>xe,L:()=>me,LL:()=>xn,Pz:()=>It,Sg:()=>Kt,UG:()=>Ie,US:()=>ge,ZB:()=>q,ZR:()=>cn,aH:()=>$e,b$:()=>fe,eu:()=>Ye,hl:()=>qe,jU:()=>Xe,m9:()=>kt,ne:()=>Bn,pd:()=>si,r3:()=>as,ru:()=>Ee,tV:()=>de,uI:()=>Te,vZ:()=>ls,w1:()=>mt,xO:()=>zi,xb:()=>Mr,z$:()=>ke,zI:()=>z,zd:()=>gr});const Q=function(G){const W=[];let te=0;for(let Ae=0;Ae<G.length;Ae++){let le=G.charCodeAt(Ae);le<128?W[te++]=le:le<2048?(W[te++]=le>>6|192,W[te++]=63&le|128):55296==(64512&le)&&Ae+1<G.length&&56320==(64512&G.charCodeAt(Ae+1))?(le=65536+((1023&le)<<10)+(1023&G.charCodeAt(++Ae)),W[te++]=le>>18|240,W[te++]=le>>12&63|128,W[te++]=le>>6&63|128,W[te++]=63&le|128):(W[te++]=le>>12|224,W[te++]=le>>6&63|128,W[te++]=63&le|128)}return W},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,W){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const te=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let le=0;le<G.length;le+=3){const We=G[le],Et=le+1<G.length,Zt=Et?G[le+1]:0,Wn=le+2<G.length,Dn=Wn?G[le+2]:0;let at=(15&Zt)<<2|Dn>>6,Tt=63&Dn;Wn||(Tt=64,Et||(at=64)),Ae.push(te[We>>2],te[(3&We)<<4|Zt>>4],te[at],te[Tt])}return Ae.join("")},encodeString(G,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(G):this.encodeByteArray(Q(G),W)},decodeString(G,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(G):function(G){const W=[];let te=0,Ae=0;for(;te<G.length;){const le=G[te++];if(le<128)W[Ae++]=String.fromCharCode(le);else if(le>191&&le<224){const We=G[te++];W[Ae++]=String.fromCharCode((31&le)<<6|63&We)}else if(le>239&&le<365){const Wn=((7&le)<<18|(63&G[te++])<<12|(63&G[te++])<<6|63&G[te++])-65536;W[Ae++]=String.fromCharCode(55296+(Wn>>10)),W[Ae++]=String.fromCharCode(56320+(1023&Wn))}else{const We=G[te++],Et=G[te++];W[Ae++]=String.fromCharCode((15&le)<<12|(63&We)<<6|63&Et)}}return W.join("")}(this.decodeStringToByteArray(G,W))},decodeStringToByteArray(G,W){this.init_();const te=W?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let le=0;le<G.length;){const We=te[G.charAt(le++)],Zt=le<G.length?te[G.charAt(le)]:0;++le;const Dn=le<G.length?te[G.charAt(le)]:64;++le;const Le=le<G.length?te[G.charAt(le)]:64;if(++le,null==We||null==Zt||null==Dn||null==Le)throw Error();Ae.push(We<<2|Zt>>4),64!==Dn&&(Ae.push(Zt<<4&240|Dn>>2),64!==Le&&Ae.push(Dn<<6&192|Le))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},me=function(G){return function(G){const W=Q(G);return ge.encodeByteArray(W,!0)}(G).replace(/\./g,"")},de=function(G){try{return ge.decodeString(G,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function q(G,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return W}for(const te in W)!W.hasOwnProperty(te)||!Z(te)||(G[te]=q(G[te],W[te]));return G}function Z(G){return"__proto__"!==G}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xe(){return"object"==typeof self&&self.self===self}function Ee(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mt(){const G=ke();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function xe(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function Ye(){return new Promise((G,W)=>{try{let te=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Ae);le.onsuccess=()=>{le.result.close(),te||self.indexedDB.deleteDatabase(Ae),G(!0)},le.onupgradeneeded=()=>{te=!1},le.onerror=()=>{var We;W((null===(We=le.error)||void 0===We?void 0:We.message)||"")}}catch(te){W(te)}})}function z(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ae=()=>function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u")return;const G=process.env.__FIREBASE_DEFAULTS__,W=process.env.__FIREBASE_DEFAULTS_PATH__;if(G)return W&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(G);if(W)try{return V(9163)(W)}catch{console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${W}`)}})()||(()=>{if(typeof document>"u")return;const G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),W=G&&de(G[1]);return W&&JSON.parse(W)})(),$e=()=>{var G;return null===(G=ae())||void 0===G?void 0:G.config},It=G=>{var W;return null===(W=ae())||void 0===W?void 0:W[`_${G}`]};class on{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,te)=>{this.resolve=W,this.reject=te})}wrapCallback(W){return(te,Ae)=>{te?this.reject(te):this.resolve(Ae),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(te):W(te,Ae))}}}function Kt(G,W){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=W||"demo-project",le=G.iat||0,We=G.sub||G.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:le,exp:le+3600,auth_time:le,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},G);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Et)),""].join(".")}class cn extends Error{constructor(W,te,Ae){super(te),this.code=W,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}}class xn{constructor(W,te,Ae){this.service=W,this.serviceName=te,this.errors=Ae}create(W,...te){const Ae=te[0]||{},le=`${this.service}/${W}`,We=this.errors[W],Et=We?function un(G,W){return G.replace(an,(te,Ae)=>{const le=W[Ae];return null!=le?String(le):`<${Ae}?>`})}(We,Ae):"Error";return new cn(le,`${this.serviceName}: ${Et} (${le}).`,Ae)}}const an=/\{\$([^}]+)}/g;function as(G,W){return Object.prototype.hasOwnProperty.call(G,W)}function Mr(G){for(const W in G)if(Object.prototype.hasOwnProperty.call(G,W))return!1;return!0}function ls(G,W){if(G===W)return!0;const te=Object.keys(G),Ae=Object.keys(W);for(const le of te){if(!Ae.includes(le))return!1;const We=G[le],Et=W[le];if(nt(We)&&nt(Et)){if(!ls(We,Et))return!1}else if(We!==Et)return!1}for(const le of Ae)if(!te.includes(le))return!1;return!0}function nt(G){return null!==G&&"object"==typeof G}function zi(G){const W=[];for(const[te,Ae]of Object.entries(G))Array.isArray(Ae)?Ae.forEach(le=>{W.push(encodeURIComponent(te)+"="+encodeURIComponent(le))}):W.push(encodeURIComponent(te)+"="+encodeURIComponent(Ae));return W.length?"&"+W.join("&"):""}function gr(G){const W={};return G.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[le,We]=Ae.split("=");W[decodeURIComponent(le)]=decodeURIComponent(We)}}),W}function si(G){const W=G.indexOf("?");if(!W)return"";const te=G.indexOf("#",W);return G.substring(W,te>0?te:void 0)}function Bn(G,W){const te=new Un(G,W);return te.subscribe.bind(te)}class Un{constructor(W,te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(()=>{W(this)}).catch(Ae=>{this.error(Ae)})}next(W){this.forEachObserver(te=>{te.next(W)})}error(W){this.forEachObserver(te=>{te.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,te,Ae){let le;if(void 0===W&&void 0===te&&void 0===Ae)throw new Error("Missing Observer.");le=function Ct(G,W){if("object"!=typeof G||null===G)return!1;for(const te of W)if(te in G&&"function"==typeof G[te])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:te,complete:Ae},void 0===le.next&&(le.next=vt),void 0===le.error&&(le.error=vt),void 0===le.complete&&(le.complete=vt);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),We}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let te=0;te<this.observers.length;te++)this.sendOne(te,W)}sendOne(W,te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{te(this.observers[W])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vt(){}function Fe(G,W=1e3,te=2){const Ae=W*Math.pow(te,G),le=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+le)}function kt(G){return G&&G._delegate?G._delegate:G}},1739:(dt,De,V)=>{"use strict";var I=V(6895),u=V(4650);class B extends I.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Q extends B{static makeCurrent(){(0,I.\u0275setRootDomAdapter)(new Q)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ge(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==t?null:function me(n){we=we||document.createElement("a"),we.setAttribute("href",n);const e=we.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,I.\u0275parseCookieValue)(document.cookie,e)}}let we,ie=null;const de=new u.InjectionToken("TRANSITION_ID"),q=[{provide:u.APP_INITIALIZER,useFactory:function K(n,e,t){return()=>{t.get(u.ApplicationInitStatus).donePromise.then(()=>{const r=(0,I.\u0275getDOM)(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[de,I.DOCUMENT,u.Injector],multi:!0}];let ke=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Te=new u.InjectionToken("EventManagerPlugins");let Ie=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Te),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Xe{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=(0,I.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ee=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),fe=(()=>{class n extends Ee{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ct),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ct))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function ct(n){(0,I.\u0275getDOM)().remove(n)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g;function ee(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ee(n,i,t):(i=i.replace(Be,n),t.push(i))}return t}function re(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ae=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Pe(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ViewEncapsulation.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Kt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ViewEncapsulation.ShadowDom:return new tt(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Ie),u.\u0275\u0275inject(fe),u.\u0275\u0275inject(u.APP_ID))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Pe{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(mt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(on(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(on(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=mt[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=mt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.RendererStyleFlags2.DashCase|u.RendererStyleFlags2.Important)?e.style.setProperty(t,r,i&u.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,re(r)):this.eventManager.addEventListener(e,t,re(r))}}function on(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Kt extends Pe{constructor(e,t,r,i){super(e),this.component=r;const l=ee(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function z(n){return"_ngcontent-%COMP%".replace(Be,n)}(i+"-"+r.id),this.hostAttr=function Ce(n){return"_nghost-%COMP%".replace(Be,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class tt extends Pe{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ee(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const g=document.createElement("style");g.textContent=l[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cn=(()=>{class n extends Xe{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const xn=["alt","control","meta","shift"],un={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},an={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pr=(()=>{class n extends Xe{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.\u0275getDOM)().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),d="code."),xn.forEach(w=>{const A=r.indexOf(w);A>-1&&(r.splice(A,1),d+=w+".")}),d+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=i,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let i=un[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xn.forEach(d=>{d!==i&&(0,an[d])(t)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const bi=(0,u.createPlatformFactory)(u.platformCore,"browser",[{provide:u.PLATFORM_ID,useValue:I.\u0275PLATFORM_BROWSER_ID},{provide:u.PLATFORM_INITIALIZER,useValue:function ii(){Q.makeCurrent()},multi:!0},{provide:I.DOCUMENT,useFactory:function Mi(){return(0,u.\u0275setDocument)(document),document},deps:[]}]),ls=new u.InjectionToken(""),nt=[{provide:u.\u0275TESTABILITY_GETTER,useClass:class Z{addToWindow(e){u.\u0275global.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),u.\u0275global.frameworkStabilizers||(u.\u0275global.frameworkStabilizers=[]),u.\u0275global.frameworkStabilizers.push(r=>{const i=u.\u0275global.getAllAngularTestabilities();let l=i.length,d=!1;const g=function(_){d=d||_,l--,0==l&&r(d)};i.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?(0,I.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.\u0275TESTABILITY,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]},{provide:u.Testability,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]}],Yr=[{provide:u.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:u.ErrorHandler,useFactory:function as(){return new u.ErrorHandler},deps:[]},{provide:Te,useClass:cn,multi:!0,deps:[I.DOCUMENT,u.NgZone,u.PLATFORM_ID]},{provide:Te,useClass:pr,multi:!0,deps:[I.DOCUMENT]},{provide:ae,useClass:ae,deps:[Ie,fe,u.APP_ID]},{provide:u.RendererFactory2,useExisting:ae},{provide:Ee,useExisting:fe},{provide:fe,useClass:fe,deps:[I.DOCUMENT]},{provide:Ie,useClass:Ie,deps:[Te,u.NgZone]},{provide:I.XhrFactory,useClass:ke,deps:[]},[]];let zi=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.APP_ID,useValue:t.appId},{provide:de,useExisting:u.APP_ID},q]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(ls,12))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[...Yr,...nt],imports:[I.CommonModule,u.ApplicationModule]}),n})(),Un=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(t){let r=null;return r=t?new t:function Bn(){return new Un((0,u.\u0275\u0275inject)(I.DOCUMENT))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const Le_firestore={apiKey:"AIzaSyCu6wt6eMYa6-KpPCZ6yIGAWkGGsJXJy-s",authDomain:"control-clientes-5b3af.firebaseapp.com",projectId:"control-clientes-5b3af",storageBucket:"control-clientes-5b3af.appspot.com",messagingSenderId:"460632391320",appId:"1:460632391320:web:9e770bd693e95914c1daed"};var at=V(2011),Tt=V(7579),zn=V(3269),nn=V(8996);function Qe(...n){const e=(0,zn.yG)(n);return(0,nn.D)(n,e)}var qn=V(9751),Rn=V(6451),Di=V(5363),xr=V(8421),bt=V(4482),Ut=V(5403);function Tn(n,e){return(0,bt.e)((t,r)=>{let i=null,l=0,d=!1;const g=()=>d&&!i&&r.complete();t.subscribe((0,Ut.x)(r,_=>{i?.unsubscribe();let w=0;const A=l++;(0,xr.Xf)(n(_,A)).subscribe(i=(0,Ut.x)(r,O=>r.next(e?e(_,O,A,w++):O),()=>{i=null,g()}))},()=>{d=!0,g()}))})}var gt=V(4004),Ki=V(6063);class ir extends Tt.x{constructor(e=1/0,t=1/0,r=Ki.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)g=_;g&&r.splice(0,g+1)}}}var cs=V(3099);function us(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,cs.B)({connector:()=>new ir(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Fn=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Kn(n,e){return(0,bt.e)((t,r)=>{let i=0;t.subscribe((0,Ut.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var en=V(515);function er(n){return n<=0?()=>en.E:(0,bt.e)((e,t)=>{let r=0;e.subscribe((0,Ut.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Io(n){return(0,bt.e)((e,t)=>{let r=!1;e.subscribe((0,Ut.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xs(n=Eo){return(0,bt.e)((e,t)=>{let r=!1;e.subscribe((0,Ut.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Eo(){return new Fn}var ai=V(4671);function Rr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kn((i,l)=>n(i,l,r)):ai.y,er(1),t?Io(e):xs(()=>new Fn))}var tr=V(576);function ar(n,e){return(0,tr.m)(e)?Tn(()=>n,e):Tn(()=>n)}var Co=V(9468),ln=V(5813);V(5867);var Se=V(5861),ds=V(9681),Ma=V(4859),fn=V(2090),hs=V(1877);const Zi=new Map,Rl={activated:!1,tokenObservers:[]},Ol={initialized:!1,enabled:!1};function Zn(n){return Zi.get(n)||Rl}function li(n,e){Zi.set(n,e)}function ci(){return Ol}class xu{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new fn.BH,yield function Yo(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const En=new fn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ps(n){if(!Zn(n).activated)throw En.create("use-before-activation",{appName:n.name})}function Ra(n,e){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,Se.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const J=yield d.getHeartbeatsHeader();J&&(l["X-Firebase-Client"]=J)}const g={method:"POST",body:JSON.stringify(e),headers:l};let _,w;try{_=yield fetch(n,g)}catch(J){throw En.create("fetch-network-error",{originalErrorMessage:null===(r=J)||void 0===r?void 0:r.message})}if(200!==_.status)throw En.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(J){throw En.create("fetch-parse-error",{originalErrorMessage:null===(i=J)||void 0===i?void 0:i.message})}const A=w.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw En.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const O=1e3*Number(A[1]),j=Date.now();return{token:w.token,expireTimeMillis:j+O,issuedAtTimeMillis:j}})).apply(this,arguments)}function Ru(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ps="firebase-app-check-store";let Jr=null;function rn(){return Jr||(Jr=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(En.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ps,{keyPath:"compositeKey"})}}catch(r){e(En.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Jr)}function On(){return(On=(0,Se.Z)(function*(n,e){const r=(yield rn()).transaction(ps,"readwrite"),l=r.objectStore(ps).put({compositeKey:n,value:e});return new Promise((d,g)=>{l.onsuccess=_=>{d()},r.onerror=_=>{var w;g(En.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const gs=new hs.Yd("@firebase/app-check");function Oi(n,e){return(0,fn.hl)()?function to(n,e){return function Xo(n,e){return On.apply(this,arguments)}(function Nc(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{gs.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Oe(){return ci().enabled}function Jt(){return ro.apply(this,arguments)}function ro(){return(ro=(0,Se.Z)(function*(){const n=ci();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $n={error:"UNKNOWN_ERROR"};function Va(n){return fn.US.encodeString(JSON.stringify(n),!1)}function Qi(n){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,Se.Z)(function*(n,e=!1){const t=n.app;Ps(t);const r=Zn(t);let l,i=r.token;if(i&&!Ji(i)&&(li(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Ji(_)?i=_:yield Oi(t,void 0))}if(!e&&i&&Ji(i))return{token:i.token};let g,d=!1;if(Oe()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ra(Ru(t,yield Jt()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield Oi(t,_),li(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?gs.warn(_.message):gs.error(_),l=_}return i?l?g=Ji(i)?{token:i.token,internalError:l}:Hn(l):(g={token:i.token},li(t,Object.assign(Object.assign({},r),{token:i})),yield Oi(t,i)):g=Hn(l),d&&kl(t,g),g})).apply(this,arguments)}function Bs(n,e){const t=Zn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),li(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Ba(n){const{app:e}=n,t=Zn(e);let r=t.tokenRefresher;r||(r=function Ua(n){const{app:e}=n;return new xu((0,Se.Z)(function*(){let r;if(r=Zn(e).token?yield Qi(n,!0):yield Qi(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Zn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),li(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kl(n,e){const t=Zn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ji(n){return n.expireTimeMillis-Date.now()>0}function Hn(n){return{token:Va($n),error:n}}class Xi{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Zn(this.app);for(const t of e)Bs(this.app,t.next);return Promise.resolve()}}const gn="app-check-internal";!function sn(){(0,ds._registerComponent)(new Ma.wA("app-check",n=>function Pl(n,e){return new Xi(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gn).initialize()})),(0,ds._registerComponent)(new Ma.wA(gn,n=>function Us(n){return{getToken:e=>Qi(n,e),addTokenListener:e=>function io(n,e,t,r){const{app:i}=n,l=Zn(i),d={next:t,error:r,type:e};if(li(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&Ji(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),Ba(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Ba(n))}(n,"INTERNAL",e),removeTokenListener:e=>Bs(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ds.registerVersion)("@firebase/app-check","0.5.13")}();class kn{constructor(){return(0,ln.vb)("app-check")}}typeof window<"u"&&window;var na=V(127);const Vl=new u.InjectionToken("angularfire2.auth.use-emulator"),Vu=new u.InjectionToken("angularfire2.auth.settings"),Bu=new u.InjectionToken("angularfire2.auth.tenant-id"),Or=new u.InjectionToken("angularfire2.auth.langugage-code"),Bl=new u.InjectionToken("angularfire2.auth.use-device-language"),qa=new u.InjectionToken("angularfire.auth.persistence"),vs=(n,e,t,r,i,l,d,g)=>(0,at.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),d)for(const[w,A]of Object.entries(d))_.settings[w]=A;return g&&_.setPersistence(g),_},[t,r,i,l,d,g]);let ao=(()=>{class n{constructor(t,r,i,l,d,g,_,w,A,O,j,J){const oe=new Tt.x,ve=Qe(void 0).pipe((0,Di.Q)(d.outsideAngular),Tn(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,3704)))),(0,gt.U)(()=>(0,at.on)(t,l,r)),(0,gt.U)(Re=>vs(Re,l,g,w,A,O,_,j)),us({bufferSize:1,refCount:!1}));if((0,I.isPlatformServer)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{ve.pipe(Rr()).subscribe();const st=ve.pipe(Tn(lt=>lt.getRedirectResult().then(ot=>ot,()=>null)),ln.iC,us({bufferSize:1,refCount:!1})),ut=ve.pipe(Tn(lt=>new qn.y(ot=>({unsubscribe:l.runOutsideAngular(()=>lt.onAuthStateChanged(ft=>ot.next(ft),ft=>ot.error(ft),()=>ot.complete()))})))),St=ve.pipe(Tn(lt=>new qn.y(ot=>({unsubscribe:l.runOutsideAngular(()=>lt.onIdTokenChanged(ft=>ot.next(ft),ft=>ot.error(ft),()=>ot.complete()))}))));this.authState=st.pipe(ar(ut),(0,Co.R)(d.outsideAngular),(0,Di.Q)(d.insideAngular)),this.user=st.pipe(ar(St),(0,Co.R)(d.outsideAngular),(0,Di.Q)(d.insideAngular)),this.idToken=this.user.pipe(Tn(lt=>lt?(0,nn.D)(lt.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(Tn(lt=>lt?(0,nn.D)(lt.getIdTokenResult()):Qe(null))),this.credential=(0,Rn.T)(st,oe,this.authState.pipe(Kn(lt=>!lt))).pipe((0,gt.U)(lt=>lt?.user?lt:null),(0,Co.R)(d.outsideAngular),(0,Di.Q)(d.insideAngular))}return(0,at.pX)(this,ve,l,{spy:{apply:(Re,st,ut)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&ut.then(St=>oe.next(St))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(at.Dh),u.\u0275\u0275inject(at.xv,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(ln.HU),u.\u0275\u0275inject(Vl,8),u.\u0275\u0275inject(Vu,8),u.\u0275\u0275inject(Bu,8),u.\u0275\u0275inject(Or,8),u.\u0275\u0275inject(Bl,8),u.\u0275\u0275inject(qa,8),u.\u0275\u0275inject(kn,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Af=(()=>{class n{constructor(){na.Z.registerVersion("angularfire",ln.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[ao]}),n})();const{isArray:Ka}=Array,{getPrototypeOf:Mc,prototype:br,keys:es}=Object;function Ul(n){if(1===n.length){const e=n[0];if(Ka(e))return{args:e,keys:null};if(function ra(n){return n&&"object"==typeof n&&Mc(n)===br}(e)){const t=es(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:jl}=Array;function Za(n){return(0,gt.U)(e=>function Uu(n,e){return jl(e)?n(...e):n(e)}(n,e))}function No(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Ao=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n}),n})(),lo=(()=>{class n extends Ao{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const $r=new u.InjectionToken("NgValueAccessor"),$l={provide:$r,useExisting:(0,u.forwardRef)(()=>Hl),multi:!0};let Hl=(()=>{class n extends lo{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([$l]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const Ya={provide:$r,useExisting:(0,u.forwardRef)(()=>Hs),multi:!0},ju=new u.InjectionToken("CompositionEventMode");let Hs=(()=>{class n extends Ao{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mo(){const n=(0,I.\u0275getDOM)()?(0,I.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(ju,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u.\u0275\u0275ProvidersFeature([Ya]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function di(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Hr=new u.InjectionToken("NgValidators"),bs=new u.InjectionToken("NgAsyncValidators");function Gs(n){return di(n.value)?{required:!0}:null}function Ws(n){return null}function An(n){return null!=n}function Kd(n){return(0,u.\u0275isPromise)(n)?(0,nn.D)(n):n}function Gu(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ia(n,e){return e.map(t=>t(n))}function Zd(n){return n.map(e=>function xf(n){return!n.validate}(e)?e:t=>e.validate(t))}function Yd(n){return null!=n?function Rc(n){if(!n)return null;const e=n.filter(An);return 0==e.length?null:function(t){return Gu(ia(t,e))}}(Zd(n)):null}function Qd(n){return null!=n?function Dr(n){if(!n)return null;const e=n.filter(An);return 0==e.length?null:function(t){return function Mf(...n){const e=(0,zn.jO)(n),{args:t,keys:r}=Ul(n),i=new qn.y(l=>{const{length:d}=t;if(!d)return void l.complete();const g=new Array(d);let _=d,w=d;for(let A=0;A<d;A++){let O=!1;(0,xr.Xf)(t[A]).subscribe((0,Ut.x)(l,j=>{O||(O=!0,w--),g[A]=j},()=>_--,void 0,()=>{(!_||!O)&&(w||l.next(r?No(r,g):g),l.complete())}))}});return e?i.pipe(Za(e)):i}(ia(t,e).map(Kd)).pipe((0,gt.U)(Gu))}}(Zd(n)):null}function Yg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Oo(n){return n?Array.isArray(n)?n:[n]:[]}function Oc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Wl(n,e){const t=Oo(e);return Oo(n).forEach(i=>{Oc(t,i)||t.push(i)}),t}function Ei(n,e){return Oo(e).filter(t=>!Oc(n,t))}class ts{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Yd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Qd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ei extends ts{get formDirective(){return null}get path(){return null}}class Pi extends ts{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class co{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ko=(()=>{class n extends co{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Pi,2))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})(),Po=(()=>{class n extends co{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(ei,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const Vo="VALID",ns="INVALID",Bo="PENDING",Vi="DISABLED";function qu(n){return(Yn(n)?n.validators:n)||null}function aa(n){return Array.isArray(n)?Yd(n):n||null}function ws(n,e){return(Yn(e)?e.asyncValidators:n)||null}function Ku(n){return Array.isArray(n)?Qd(n):n||null}function Yn(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class N{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aa(this._rawValidators),this._composedAsyncValidatorFn=Ku(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vo}get invalid(){return this.status===ns}get pending(){return this.status==Bo}get disabled(){return this.status===Vi}get enabled(){return this.status!==Vi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aa(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ku(e)}addValidators(e){this.setValidators(Wl(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Wl(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ei(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ei(e,this._rawAsyncValidators))}hasValidator(e){return Oc(this._rawValidators,e)}hasAsyncValidator(e){return Oc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vi,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vo,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vo||this.status===Bo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vi:Vo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bo,this._hasOwnPendingAsyncValidator=!0;const t=Kd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.EventEmitter,this.statusChanges=new u.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Vi:this.errors?ns:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bo)?Bo:this._anyControlsHaveStatus(ns)?ns:Vo}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yn(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class k extends N{constructor(e,t,r){super(qu(t),ws(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function S(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.\u0275RuntimeError(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Zu(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.\u0275RuntimeError(1e3,"");if(!r[t])throw new u.\u0275RuntimeError(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Dt(n,e){Gn(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function nl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&uo(n,e)})}(n,e),function il(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function rl(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&uo(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xt(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $t(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Gn(n,e){const t=function wr(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Yg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Gl(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Yg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();$t(e._rawValidators,i),$t(e._rawAsyncValidators,i)}function uo(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Ff={provide:ei,useExisting:(0,u.forwardRef)(()=>sl)},eh=(()=>Promise.resolve())();let sl=(()=>{class n extends ei{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.EventEmitter,this.form=new k({},Yd(t),Qd(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){eh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Dt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){eh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){eh.then(()=>{const r=this._findContainer(t.path),i=new k({});(function ho(n,e){Gn(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){eh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){eh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Pf(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Hr,10),u.\u0275\u0275directiveInject(bs,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.\u0275\u0275ProvidersFeature([Ff]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function Qg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function th(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Jg=class extends N{constructor(e=null,t,r){super(qu(t),ws(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yn(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=th(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){th(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Xg={provide:Pi,useExisting:(0,u.forwardRef)(()=>ol)},Lf=(()=>Promise.resolve())();let ol=(()=>{class n extends Pi{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new Jg,this._registered=!1,this.update=new u.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Lc(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Hs?t=l:function Oy(n){return Object.getPrototypeOf(n.constructor)===lo}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function kf(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Lf.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.\u0275coerceToBoolean)(r);Lf.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Ke(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(ei,9),u.\u0275\u0275directiveInject(Hr,10),u.\u0275\u0275directiveInject(bs,10),u.\u0275\u0275directiveInject($r,10),u.\u0275\u0275directiveInject(u.ChangeDetectorRef,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.\u0275\u0275ProvidersFeature([Xg]),u.\u0275\u0275InheritDefinitionFeature,u.\u0275\u0275NgOnChangesFeature]}),n})(),Is=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Py={provide:$r,useExisting:(0,u.forwardRef)(()=>Bc),multi:!0};let Bc=(()=>{class n extends lo{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([Py]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),em=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();let ll=(()=>{class n{constructor(){this._validator=Ws}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ws,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();const rd={provide:Hr,useExisting:(0,u.forwardRef)(()=>Ln),multi:!0};let Ln=(()=>{class n extends ll{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.\u0275coerceToBoolean,this.createValidator=t=>Gs}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[u.\u0275\u0275ProvidersFeature([rd]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const Hf={provide:Hr,useExisting:(0,u.forwardRef)(()=>jc),multi:!0};let jc=(()=>{class n extends ll{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function um(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function Xa(n){return e=>di(e.value)||!function $u(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[u.\u0275\u0275ProvidersFeature([Hf]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const jy={provide:Hr,useExisting:(0,u.forwardRef)(()=>id),multi:!0};let id=(()=>{class n extends ll{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function Gr(n){if(!n)return Ws;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(di(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[u.\u0275\u0275ProvidersFeature([jy]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[em]}),n})(),lh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[zf]}),n})();var dr=V(1024);class sr extends Tt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var cl=V(9672);function ch(...n){const e=(0,zn.yG)(n),t=(0,zn.jO)(n),{args:r,keys:i}=Ul(n);if(0===r.length)return(0,nn.D)([],e);const l=new qn.y(function od(n,e,t=ai.y){return r=>{Yl(e,()=>{const{length:i}=n,l=new Array(i);let d=i,g=i;for(let _=0;_<i;_++)Yl(e,()=>{const w=(0,nn.D)(n[_],e);let A=!1;w.subscribe((0,Ut.x)(r,O=>{l[_]=O,A||(A=!0,g--),g||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>No(i,d):ai.y));return t?l.pipe(Za(t)):l}function Yl(n,e,t){n?(0,cl.f)(t,n,e):e()}var ad=V(8189);function ul(...n){return function uh(){return(0,ad.J)(1)}()((0,nn.D)(n,(0,zn.yG)(n)))}function Bi(n){return new qn.y(e=>{(0,xr.Xf)(n()).subscribe(e)})}var Yf=V(9635);function Ql(n,e){const t=(0,tr.m)(n)?n:()=>n,r=i=>i.error(t());return new qn.y(e?i=>e.schedule(r,0,i):r)}var ym=V(727);function Qf(){return(0,bt.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ut.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class dh extends qn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,bt.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ym.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ut.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ym.w0.EMPTY)}return e}refCount(){return Qf()(this)}}function Qn(...n){const e=(0,zn.yG)(n);return(0,bt.e)((t,r)=>{(e?ul(n,t,e):ul(n,t)).subscribe(r)})}var Wr=V(5577);function ha(n,e){return(0,tr.m)(e)?(0,Wr.z)(n,e,1):(0,Wr.z)(n,1)}var ti=V(8505);function Ci(n){return(0,bt.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Ut.x)(t,void 0,void 0,d=>{l=(0,xr.Xf)(n(d,Ci(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function Jl(n,e,t,r,i){return(l,d)=>{let g=t,_=e,w=0;l.subscribe((0,Ut.x)(d,A=>{const O=w++;_=g?n(_,A,O):(g=!0,A),r&&d.next(_)},i&&(()=>{g&&d.next(_),d.complete()})))}}function Xl(n,e){return(0,bt.e)(Jl(n,e,arguments.length>=2,!0))}function ec(n){return n<=0?()=>en.E:(0,bt.e)((e,t)=>{let r=[];e.subscribe((0,Ut.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function vm(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Kn((i,l)=>n(i,l,r)):ai.y,ec(1),t?Io(e):xs(()=>new Fn))}function Jf(n){return(0,bt.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Wt="primary",ld=Symbol("RouteTitle");class y{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function f(n){return new y(n)}function m(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],g=n[l];if(d.startsWith(":"))i[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function x(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!L(n[i],e[i]))return!1;return!0}function L(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function X(n){return Array.prototype.concat.apply([],n)}function _e(n){return n.length>0?n[n.length-1]:null}function Ze(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function wt(n){return(0,u.\u0275isObservable)(n)?n:(0,u.\u0275isPromise)(n)?(0,nn.D)(Promise.resolve(n)):Qe(n)}const Es={exact:function ep(n,e,t){if(!dl(n.segments,e.segments)||!fh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ep(n.children[r],e.children[r],t))return!1;return!0},subset:tp},cd={exact:function ud(n,e){return x(n,e)},subset:function bm(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>L(n[t],e[t]))},ignored:()=>!0};function Xf(n,e,t){return Es[t.paths](n.root,e.root,t.matrixParams)&&cd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function tp(n,e,t){return Dm(n,e,e.segments,t)}function Dm(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!dl(i,t)||e.hasChildren()||!fh(i,t,r))}if(n.segments.length===t.length){if(!dl(n.segments,t)||!fh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!tp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(dl(n.segments,i)&&fh(n.segments,i,r)&&n.children[Wt])&&Dm(n.children[Wt],e,l,r)}}function fh(n,e,t){return e.every((r,i)=>cd[t](n[i].parameters,r.parameters))}class fa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=f(this.queryParams)),this._queryParamMap}toString(){return Wy.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ze(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $c(this)}}class tc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=f(this.parameters)),this._parameterMap}toString(){return xD(this)}}function dl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let wm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return new Gy},providedIn:"root"}),n})();class Gy{parse(e){const t=new Ky(e);return new fa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${np(e.root,!0)}`,r=function SC(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Im(t)}=${Im(i)}`).join("&"):`${Im(t)}=${Im(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function AD(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Wy=new Gy;function $c(n){return n.segments.map(e=>xD(e)).join("/")}function np(n,e){if(!n.hasChildren())return $c(n);if(e){const t=n.children[Wt]?np(n.children[Wt],!1):"",r=[];return Ze(n.children,(i,l)=>{l!==Wt&&r.push(`${l}:${np(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function SD(n,e){let t=[];return Ze(n.children,(r,i)=>{i===Wt&&(t=t.concat(e(r,i)))}),Ze(n.children,(r,i)=>{i!==Wt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Wt?[np(n.children[Wt],!1)]:[`${i}:${np(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${$c(n)}/${t[0]}`:`${$c(n)}/(${t.join("//")})`}}function ND(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Im(n){return ND(n).replace(/%3B/gi,";")}function zy(n){return ND(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Em(n){return decodeURIComponent(n)}function MD(n){return Em(n.replace(/\+/g,"%20"))}function xD(n){return`${zy(n.path)}${function qy(n){return Object.keys(n).map(e=>`;${zy(e)}=${zy(n[e])}`).join("")}(n.parameters)}`}const NC=/^[^\/()?;=#]+/;function Cm(n){const e=n.match(NC);return e?e[0]:""}const RD=/^[^=?&#]+/,OD=/^[^&#]+/;class Ky{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Wt]=new tn(e,t)),r}parseSegment(){const e=Cm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.\u0275RuntimeError(4009,!1);return this.capture(e),new tc(Em(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Cm(this.remaining);i&&(r=i,this.capture(r))}e[Em(t)]=Em(r)}parseQueryParam(e){const t=function AC(n){const e=n.match(RD);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function rs(n){const e=n.match(OD);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=MD(t),l=MD(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.\u0275RuntimeError(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Wt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Wt]:new tn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.\u0275RuntimeError(4011,!1)}}function Tm(n){return n.segments.length>0?new tn([],{[Wt]:n}):n}function gh(n){const e={};for(const r of Object.keys(n.children)){const l=gh(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function is(n){if(1===n.numberOfChildren&&n.children[Wt]){const e=n.children[Wt];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function pa(n){return n instanceof fa}function xC(n,e,t,r,i){if(0===t.length)return dd(e.root,e.root,e.root,r,i);const l=function Zy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new FD(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return Ze(l.outlets,(_,w)=>{g[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:g}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,l]},[]);return new FD(t,e,r)}(t);return l.toRoot()?dd(e.root,e.root,new tn([],{}),r,i):function d(_){const w=function _h(n,e,t,r){if(n.isAbsolute)return new hd(e.root,!0,0);if(-1===r)return new hd(t,t===e.root,0);return function hl(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new u.\u0275RuntimeError(4005,!1);i=r.segments.length}return new hd(r,!1,i-l)}(t,r+(mh(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,_),A=w.processChildren?Nm(w.segmentGroup,w.index,l.commands):Yy(w.segmentGroup,w.index,l.commands);return dd(e.root,w.segmentGroup,A,r,i)}(n.snapshot?._lastPathIndex)}function mh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rp(n){return"object"==typeof n&&null!=n&&n.outlets}function dd(n,e,t,r,i){let d,l={};r&&Ze(r,(_,w)=>{l[w]=Array.isArray(_)?_.map(A=>`${A}`):`${_}`}),d=n===e?t:PD(n,e,t);const g=Tm(gh(d));return new fa(g,l,i)}function PD(n,e,t){const r={};return Ze(n.children,(i,l)=>{r[l]=i===e?t:PD(i,e,t)}),new tn(n.segments,r)}class FD{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&mh(r[0]))throw new u.\u0275RuntimeError(4003,!1);const i=r.find(rp);if(i&&i!==_e(r))throw new u.\u0275RuntimeError(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Yy(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return Nm(n,e,t);const r=function pN(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],g=t[r];if(rp(g))break;const _=`${g}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Mm(_,w,d))return l;r+=2}else{if(!Mm(_,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new tn(n.segments.slice(0,r.pathIndex),{});return l.children[Wt]=new tn(n.segments.slice(r.pathIndex),n.children),Nm(l,0,i)}return r.match&&0===i.length?new tn(n.segments,{}):r.match&&!n.hasChildren()?Am(n,e,t):r.match?Nm(n,0,i):Am(n,e,t)}function Nm(n,e,t){if(0===t.length)return new tn(n.segments,{});{const r=function RC(n){return rp(n[0])?n[0].outlets:{[Wt]:n}}(t),i={};return Ze(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=Yy(n.children[d],e,l))}),Ze(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new tn(n.segments,i)}}function Am(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(rp(l)){const _=gN(l.outlets);return new tn(r,_)}if(0===i&&mh(t[0])){r.push(new tc(n.segments[e].path,ga(t[0]))),i++;continue}const d=rp(l)?l.outlets[Wt]:`${l}`,g=i<t.length-1?t[i+1]:null;d&&g&&mh(g)?(r.push(new tc(d,ga(g))),i+=2):(r.push(new tc(d,{})),i++)}return new tn(r,{})}function gN(n){const e={};return Ze(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Am(new tn([],{}),0,t))}),e}function ga(n){const e={};return Ze(n,(t,r)=>e[r]=`${t}`),e}function Mm(n,e,t){return n==t.path&&x(e,t.parameters)}class ma{constructor(e,t){this.id=e,this.url=t}}class Qy extends ma{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hc extends ma{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xm extends ma{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yh extends ma{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OC extends ma{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kC extends ma{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jy extends ma{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xy extends ma{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VD extends ma{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mN{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vh{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ev{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BD{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PC{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UD{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=nv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=rv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return rv(e,this._root).map(t=>t.value)}}function nv(n,e){if(n===e.value)return e;for(const t of e.children){const r=nv(n,t);if(r)return r}return null}function rv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=rv(n,t);if(r.length)return r.unshift(e),r}return[]}class nc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rm extends jD{constructor(e,t){super(e),this.snapshot=t,Om(this,e)}toString(){return this.snapshot.toString()}}function iv(n,e){const t=function sv(n,e){const d=new ip([],{},{},"",{},Wt,e,null,n.root,-1,{});return new Wc("",new nc(d,[]))}(n,e),r=new sr([new tc("",{})]),i=new sr({}),l=new sr({}),d=new sr({}),g=new sr(""),_=new Gc(r,i,d,g,l,Wt,e,t.root);return _.snapshot=t.root,new Rm(new nc(_,[]),t)}class Gc{constructor(e,t,r,i,l,d,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=g,this.title=this.data?.pipe((0,gt.U)(w=>w[ld]))??Qe(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>f(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>f(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $D(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function HD(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ip{constructor(e,t,r,i,l,d,g,_,w,A,O,j){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=g,this.title=this.data?.[ld],this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=A,this._correctedLastPathIndex=j??A,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=f(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=f(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wc extends jD{constructor(e,t){super(t),this.url=e,Om(this,t)}toString(){return ov(this._root)}}function Om(n,e){e.value._routerState=n,e.children.forEach(t=>Om(n,t))}function ov(n){const e=n.children.length>0?` { ${n.children.map(ov).join(", ")} } `:"";return`${n.value}${e}`}function av(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,x(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),x(e.params,t.params)||n.params.next(t.params),function b(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!x(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),x(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function GD(n,e){const t=x(n.params,e.params)&&function ph(n,e){return dl(n,e)&&n.every((t,r)=>x(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||GD(n.parent,e.parent))}function sp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function WD(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sp(n,r,i);return sp(n,r)})}(n,e,t);return new nc(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>sp(n,g)),d}}const r=function zD(n){return new Gc(new sr(n.url),new sr(n.params),new sr(n.queryParams),new sr(n.fragment),new sr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>sp(n,l));return new nc(r,i)}}const Pm="ngNavigationCancelingError";function Fm(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=pa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lv(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function lv(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Pm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function op(n){return ap(n)&&pa(n.url)}function ap(n){return n&&n[Pm]}class qD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new pd,this.attachRef=null}}let pd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qD,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lp=!1;let cp=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.EventEmitter,this.deactivateEvents=new u.EventEmitter,this.attachEvents=new u.EventEmitter,this.detachEvents=new u.EventEmitter,this.name=i||Wt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.\u0275RuntimeError(4012,lp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.\u0275RuntimeError(4012,lp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.\u0275RuntimeError(4012,lp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.\u0275RuntimeError(4013,lp);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new up(t,g,i.injector);if(r&&function LC(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,_)}else this.activated=i.createComponent(d,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(pd),u.\u0275\u0275directiveInject(u.ViewContainerRef),u.\u0275\u0275injectAttribute("name"),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(u.EnvironmentInjector))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class up{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Gc?this.route:e===pd?this.childContexts:this.parent.get(e,t)}}let Lm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"router-outlet")},dependencies:[cp],encapsulation:2}),n})();function KD(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.createEnvironmentInjector)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function cv(n){const e=n.children&&n.children.map(cv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=Lm),t}function Uo(n){return n.outlet||Wt}function jo(n,e){const t=n.filter(r=>Uo(r)===e);return t.push(...n.filter(r=>Uo(r)!==e)),t}function dp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class jC{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),av(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=fd(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),Ze(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=fd(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=fd(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=fd(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new tv(l.value.snapshot))}),e.children.length&&this.forwardEvent(new BD(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(av(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),av(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=dp(i.snapshot),_=g?.get(u.ComponentFactoryResolver)??null;d.attachRef=null,d.route=i,d.resolver=_,d.injector=g,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class ew{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vm{constructor(e,t){this.component=e,this.route=t}}function $C(n,e,t){const r=n._root;return hp(r,e?e._root:null,t,[r.value])}function bh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.\u0275isInjectable)(n)?e.get(n):n:r}function hp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=fd(e);return n.children.forEach(d=>{(function HC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const _=function zt(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!dl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!dl(n.url,e.url)||!x(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GD(n,e)||!x(n.queryParams,e.queryParams);default:return!GD(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new ew(r)):(l.data=d.data,l._resolvedData=d._resolvedData),hp(n,e,l.component?g?g.children:null:t,r,i),_&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new Vm(g.outlet.component,d))}else d&&Dh(e,g,i),i.canActivateChecks.push(new ew(r)),hp(n,null,l.component?g?g.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),Ze(l,(d,g)=>Dh(d,t.getContext(g),i)),i}function Dh(n,e,t){const r=fd(n),i=n.value;Ze(r,(l,d)=>{Dh(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Vm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function wh(n){return"function"==typeof n}function uv(n){return n instanceof Fn||"EmptyError"===n?.name}const Ih=Symbol("INITIAL_VALUE");function gd(){return Tn(n=>ch(n.map(e=>e.pipe(er(1),Qn(Ih)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ih)return Ih;if(!1===t||t instanceof fa)return t}return!0}),Kn(e=>e!==Ih),er(1)))}function fv(n){return(0,Yf.z)((0,ti.b)(e=>{if(pa(e))throw Fm(0,e)}),(0,gt.U)(e=>!0===e))}const pv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fl(n,e,t,r,i){const l=gv(n,e,t);return l.matched?function e1(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Qe(i.map(d=>{const g=bh(d,n);return wt(function iw(n){return n&&wh(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(gd(),fv()):Qe(!0)}(r=KD(e,r),e,t).pipe((0,gt.U)(d=>!0===d?l:{...pv})):Qe(l)}function gv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...pv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||m)(t,n,e);if(!i)return{...pv};const l={};Ze(i.posParams,(g,_)=>{l[_]=g.path});const d=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function fp(n,e,t,r,i="corrected"){if(t.length>0&&function sw(n,e,t){return t.some(r=>Um(n,e,r)&&Uo(r)!==Wt)}(n,t,r)){const d=new tn(e,function t1(n,e,t,r){const i={};i[Wt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Uo(l)!==Wt){const d=new tn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Uo(l)]=d}return i}(n,e,r,new tn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function ow(n,e,t){return t.some(r=>Um(n,e,r))}(n,t,r)){const d=new tn(n.segments,function Bm(n,e,t,r,i,l){const d={};for(const g of r)if(Um(n,t,g)&&!i[Uo(g)]){const _=new tn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[Uo(g)]=_}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new tn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Um(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function aw(n,e,t,r){return!!(Uo(n)===r||r!==Wt&&Um(e,t,n))&&("**"===n.path||gv(e,n,t).matched)}function lw(n,e,t){return 0===e.length&&!n.children[t]}const jm=!1;class pp{constructor(e){this.segmentGroup=e||null}}class cw{constructor(e){this.urlTree=e}}function Eh(n){return Ql(new pp(n))}function mv(n){return Ql(new cw(n))}class n1{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=fp(this.urlTree.root,[],[],this.config).segmentGroup,t=new tn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Wt).pipe((0,gt.U)(l=>this.createUrlTree(gh(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ci(l=>{if(l instanceof cw)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof pp?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Wt).pipe((0,gt.U)(i=>this.createUrlTree(gh(i),e.queryParams,e.fragment))).pipe(Ci(i=>{throw i instanceof pp?this.noMatchError(i):i}))}noMatchError(e){return new u.\u0275RuntimeError(4002,jm)}createUrlTree(e,t,r){const i=Tm(e);return new fa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gt.U)(l=>new tn([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,nn.D)(i).pipe(ha(l=>{const d=r.children[l],g=jo(t,l);return this.expandSegmentGroup(e,g,d,l).pipe((0,gt.U)(_=>({segment:_,outlet:l})))}),Xl((l,d)=>(l[d.outlet]=d.segment,l),{}),vm())}expandSegment(e,t,r,i,l,d){return(0,nn.D)(r).pipe(ha(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,l,d).pipe(Ci(w=>{if(w instanceof pp)return Qe(null);throw w}))),Rr(g=>!!g),Ci((g,_)=>{if(uv(g))return lw(t,i,l)?Qe(new tn([],{})):Eh(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,l,d,g){return aw(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):Eh(t):Eh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mv(l):this.lineralizeSegments(r,l).pipe((0,Wr.z)(d=>{const g=new tn(d,{});return this.expandSegment(e,g,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:g,consumedSegments:_,remainingSegments:w,positionalParamSegments:A}=gv(t,i,l);if(!g)return Eh(t);const O=this.applyRedirectCommands(_,i.redirectTo,A);return i.redirectTo.startsWith("/")?mv(O):this.lineralizeSegments(i,O).pipe((0,Wr.z)(j=>this.expandSegment(e,t,r,j.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=KD(r,e),r.loadChildren?(r._loadedRoutes?Qe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,gt.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new tn(i,{})))):Qe(new tn(i,{}))):fl(t,r,i,e).pipe(Tn(({matched:d,consumedSegments:g,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Wr.z)(A=>{const O=A.injector??e,j=A.routes,{segmentGroup:J,slicedSegments:oe}=fp(t,g,_,j),ve=new tn(J.segments,J.children);if(0===oe.length&&ve.hasChildren())return this.expandChildren(O,j,ve).pipe((0,gt.U)(St=>new tn(g,St)));if(0===j.length&&0===oe.length)return Qe(new tn(g,{}));const Re=Uo(r)===l;return this.expandSegment(O,ve,j,oe,Re?Wt:l,!0).pipe((0,gt.U)(ut=>new tn(g.concat(ut.segments),ut.children)))})):Eh(t)))}getChildConfig(e,t,r){return t.children?Qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function XC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Qe(!0):Qe(i.map(d=>{const g=bh(d,n);return wt(function GC(n){return n&&wh(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(gd(),fv())}(e,t,r).pipe((0,Wr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ti.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function gp(n){return Ql(lv(jm,3))}())):Qe({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qe(r);if(i.numberOfChildren>1||!i.children[Wt])return Ql(new u.\u0275RuntimeError(4e3,jm));i=i.children[Wt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new fa(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ze(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[l]=t[g]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return Ze(t.children,(g,_)=>{d[_]=this.createSegmentGroup(e,g,r,i)}),new tn(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.\u0275RuntimeError(4001,jm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class uw{}class _a{constructor(e,t,r,i,l,d,g,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=_}recognize(){const e=fp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Wt).pipe((0,gt.U)(t=>{if(null===t)return null;const r=new ip([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new nc(r,t),l=new Wc(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=$D(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,nn.D)(Object.keys(r.children)).pipe(ha(i=>{const l=r.children[i],d=jo(t,i);return this.processSegmentGroup(e,d,l,i)}),Xl((i,l)=>i&&l?(i.push(...l),i):null),function hh(n,e=!1){return(0,bt.e)((t,r)=>{let i=0;t.subscribe((0,Ut.x)(r,l=>{const d=n(l,i++);(d||e)&&r.next(l),!d&&r.complete()}))})}(i=>null!==i),Io(null),vm(),(0,gt.U)(i=>{if(null===i)return null;const l=pl(i);return function hw(n){n.sort((e,t)=>e.value.outlet===Wt?-1:t.value.outlet===Wt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,nn.D)(t).pipe(ha(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,l)),Rr(d=>!!d),Ci(d=>{if(uv(d))return lw(r,i,l)?Qe([]):Qe(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!aw(t,r,i,l))return Qe(null);let d;if("**"===t.path){const g=i.length>0?_e(i).parameters:{},_=Hm(r)+i.length;d=Qe({snapshot:new ip(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dv(t),Uo(t),t.component??t._loadedComponent??null,t,bv(r),_,o1(t),_),consumedSegments:[],remainingSegments:[]})}else d=fl(r,t,i,e).pipe((0,gt.U)(({matched:g,consumedSegments:_,remainingSegments:w,parameters:A})=>{if(!g)return null;const O=Hm(r)+_.length;return{snapshot:new ip(_,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dv(t),Uo(t),t.component??t._loadedComponent??null,t,bv(r),O,o1(t),O),consumedSegments:_,remainingSegments:w}}));return d.pipe(Tn(g=>{if(null===g)return Qe(null);const{snapshot:_,consumedSegments:w,remainingSegments:A}=g;e=t._injector??e;const O=t._loadedInjector??e,j=function i1(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:J,slicedSegments:oe}=fp(r,w,A,j.filter(Re=>void 0===Re.redirectTo),this.relativeLinkResolution);if(0===oe.length&&J.hasChildren())return this.processChildren(O,j,J).pipe((0,gt.U)(Re=>null===Re?null:[new nc(_,Re)]));if(0===j.length&&0===oe.length)return Qe([new nc(_,[])]);const ve=Uo(t)===l;return this.processSegment(O,j,J,oe,ve?Wt:l).pipe((0,gt.U)(Re=>null===Re?null:[new nc(_,Re)]))}))}}function yv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pl(n){const e=[],t=new Set;for(const r of n){if(!yv(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=pl(r.children);e.push(new nc(r.value,i))}return e.filter(r=>!t.has(r))}function bv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hm(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Dv(n){return n.data||{}}function o1(n){return n.resolve||{}}function Wm(n,e){return(0,Wr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Qe(t);let l=0;return(0,nn.D)(i).pipe(ha(d=>function wv(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!fw(i)&&(l[ld]=i.title),function Iv(n,e,t,r){const i=function Ev(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Qe({});const l={};return(0,nn.D)(i).pipe((0,Wr.z)(d=>function vN(n,e,t,r){const i=dp(e)??r,l=bh(n,i);return wt(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(Rr(),(0,ti.b)(g=>{l[d]=g}))),ec(1),function Hy(n){return(0,gt.U)(()=>n)}(l),Ci(d=>uv(d)?en.E:Ql(d)))}(l,n,e,r).pipe((0,gt.U)(d=>(n._resolvedData=d,n.data=$D(n,t).resolve,i&&fw(i)&&(n.data[ld]=i.title),null)))}(d.route,r,n,e)),(0,ti.b)(()=>l++),ec(1),(0,Wr.z)(d=>l===i.length?Qe(t):en.E))})}function fw(n){return"string"==typeof n.title||null===n.title}function Cv(n){return Tn(e=>{const t=n(e);return t?(0,nn.D)(t).pipe((0,gt.U)(()=>e)):Qe(e)})}let pw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Wt);return r}getResolvedTitleForRoute(t){return t.data[ld]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,u.inject)(gw)},providedIn:"root"}),n})(),gw=(()=>{class n extends pw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Un))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bN{}class DN extends class l1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const mp=new u.InjectionToken("",{providedIn:"root",factory:()=>({})}),_p=new u.InjectionToken("ROUTES");let yw=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=wt(t.loadComponent()).pipe((0,ti.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),Jf(()=>{this.componentLoaders.delete(t)})),i=new dh(r,()=>new Tt.x).pipe(Qf());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,gt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,A=!1;Array.isArray(g)?w=g:(_=g.create(t).injector,w=X(_.get(_p,[],u.InjectFlags.Self|u.InjectFlags.Optional)));return{routes:w.map(cv),injector:_}}),Jf(()=>{this.childrenLoaders.delete(r)})),d=new dh(l,()=>new Tt.x).pipe(Qf());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return wt(t()).pipe((0,Wr.z)(r=>r instanceof u.NgModuleFactory||Array.isArray(r)?Qe(r):(0,nn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(u.Compiler))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wN{}class IN{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function EN(n){throw n}function CN(n,e,t){return e.parse("/")}const TN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},SN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function c1(){const n=(0,u.inject)(wm),e=(0,u.inject)(pd),t=(0,u.inject)(I.Location),r=(0,u.inject)(u.Injector),i=(0,u.inject)(u.Compiler),l=(0,u.inject)(_p,{optional:!0})??[],d=(0,u.inject)(mp,{optional:!0})??{},g=(0,u.inject)(gw),_=(0,u.inject)(pw,{optional:!0}),w=(0,u.inject)(wN,{optional:!0}),A=(0,u.inject)(bN,{optional:!0}),O=new Mn(null,n,e,t,r,i,X(l));return w&&(O.urlHandlingStrategy=w),A&&(O.routeReuseStrategy=A),O.titleStrategy=_??g,function NN(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,O),O}let Mn=(()=>{class n{constructor(t,r,i,l,d,g,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tt.x,this.errorHandler=EN,this.malformedUriErrorHandler=CN,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Qe(void 0),this.urlHandlingStrategy=new IN,this.routeReuseStrategy=new DN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(yw),this.configLoader.onLoadEndListener=j=>this.triggerEvent(new vh(j)),this.configLoader.onLoadStartListener=j=>this.triggerEvent(new mN(j)),this.ngModule=d.get(u.NgModuleRef),this.console=d.get(u.\u0275Console);const O=d.get(u.NgZone);this.isNgZoneEnabled=O instanceof u.NgZone&&u.NgZone.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function kr(){return new fa(new tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iv(this.currentUrlTree,this.rootComponentType),this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Kn(i=>0!==i.id),(0,gt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Tn(i=>{let l=!1,d=!1;return Qe(i).pipe((0,ti.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tn(g=>{const _=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return vw(g.source)&&(this.browserUrlTree=g.extractedUrl),Qe(g).pipe(Tn(O=>{const j=this.transitions.getValue();return r.next(new Qy(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),j!==this.transitions.getValue()?en.E:Promise.resolve(O)}),function r1(n,e,t,r){return Tn(i=>function Ch(n,e,t,r,i){return new n1(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,gt.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ti.b)(O=>{this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects},i.urlAfterRedirects=O.urlAfterRedirects}),function Gm(n,e,t,r,i,l){return(0,Wr.z)(d=>function $m(n,e,t,r,i,l,d="emptyOnly",g="legacy"){return new _a(n,e,t,r,i,d,g,l).recognize().pipe(Tn(_=>null===_?function dw(n){return new qn.y(e=>e.error(n))}(new uw):Qe(_)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,l).pipe((0,gt.U)(g=>({...d,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ti.b)(O=>{if(i.targetSnapshot=O.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(J,O)}this.browserUrlTree=O.urlAfterRedirects}const j=new OC(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(j)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:J,source:oe,restoredState:ve,extras:Re}=g,st=new Qy(j,this.serializeUrl(J),oe,ve);r.next(st);const ut=iv(J,this.rootComponentType).snapshot;return Qe(i={...g,targetSnapshot:ut,urlAfterRedirects:J,extras:{...Re,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),en.E}),(0,ti.b)(g=>{const _=new kC(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}),(0,gt.U)(g=>i={...g,guards:$C(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function zc(n,e){return(0,Wr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?Qe({...t,guardsResult:!0}):function KC(n,e,t,r){return(0,nn.D)(n).pipe((0,Wr.z)(i=>function JC(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?Qe(l.map(g=>{const _=dp(e)??i,w=bh(g,_);return wt(function zC(n){return n&&wh(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(Rr())})).pipe(gd()):Qe(!0)}(i.component,i.route,t,e,r)),Rr(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Wr.z)(g=>g&&function nw(n){return"boolean"==typeof n}(g)?function dv(n,e,t,r){return(0,nn.D)(e).pipe(ha(i=>ul(function ZC(n,e){return null!==n&&e&&e(new ev(n)),Qe(!0)}(i.route.parent,r),function hv(n,e){return null!==n&&e&&e(new PC(n)),Qe(!0)}(i.route,r),function QC(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function tw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Bi(()=>Qe(d.guards.map(_=>{const w=dp(d.node)??t,A=bh(_,w);return wt(function rw(n){return n&&wh(n.canActivateChild)}(A)?A.canActivateChild(r,n):w.runInContext(()=>A(r,n))).pipe(Rr())})).pipe(gd())));return Qe(l).pipe(gd())}(n,i.path,t),function YC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Qe(!0);const i=r.map(l=>Bi(()=>{const d=dp(e)??t,g=bh(l,d);return wt(function WC(n){return n&&wh(n.canActivate)}(g)?g.canActivate(e,n):d.runInContext(()=>g(e,n))).pipe(Rr())}));return Qe(i).pipe(gd())}(n,i.route,t))),Rr(i=>!0!==i,!0))}(r,l,n,e):Qe(g)),(0,gt.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,ti.b)(g=>{if(i.guardsResult=g.guardsResult,pa(g.guardsResult))throw Fm(0,g.guardsResult);const _=new Jy(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(_)}),Kn(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Cv(g=>{if(g.guards.canActivateChecks.length)return Qe(g).pipe((0,ti.b)(_=>{const w=new Xy(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Tn(_=>{let w=!1;return Qe(_).pipe(Wm(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ti.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,ti.b)(_=>{const w=new VD(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Cv(g=>{const _=w=>{const A=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,ti.b)(O=>{w.component=O}),(0,gt.U)(()=>{})));for(const O of w.children)A.push(..._(O));return A};return ch(_(g.targetSnapshot.root)).pipe(Io(),er(1))}),Cv(()=>this.afterPreactivation()),(0,gt.U)(g=>{const _=function km(n,e,t){const r=sp(n,e._root,t?t._root:void 0);return new Rm(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return i={...g,targetRouterState:_}}),(0,ti.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(r=>(new jC(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,ti.b)({next(){l=!0},complete(){l=!0}}),Jf(()=>{l||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ci(g=>{if(d=!0,ap(g)){op(g)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new xm(i.id,this.serializeUrl(i.extractedUrl),g.message,g.cancellationCode);if(r.next(_),op(g)){const w=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vw(i.source)};this.scheduleNavigation(w,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new yh(i.id,this.serializeUrl(i.extractedUrl),g,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(g))}catch(w){i.reject(w)}}return en.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const g={...l};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(i.state=g)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(cv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:g,preserveFragment:_}=r,w=i||this.routerState.root,A=_?this.currentUrlTree.fragment:d;let O=null;switch(g){case"merge":O={...this.currentUrlTree.queryParams,...l};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),xC(w,this.currentUrlTree,t,O,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=pa(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Sv(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.\u0275RuntimeError(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...TN}:!1===r?{...SN}:r,pa(t))return Xf(this.currentUrlTree,t,i);const l=this.parseUrl(t);return Xf(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Hc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){if(this.disposed)return Promise.resolve(!1);let g,_,w;d?(g=d.resolve,_=d.reject,w=d.promise):w=new Promise((j,J)=>{g=j,_=J});const A=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),O=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):O=0,this.setTransition({id:A,targetPageId:O,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:g,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(j=>Promise.reject(j))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new xm(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return c1()},providedIn:"root"}),n})();function vw(n){return"imperative"!==n}let zm=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Tt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Mn),u.\u0275\u0275directiveInject(Gc),u.\u0275\u0275injectAttribute("tabindex"),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),ic=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Tt.x,this.subscription=t.events.subscribe(l=>{l instanceof Hc&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){return!!(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Mn),u.\u0275\u0275directiveInject(Gc),u.\u0275\u0275directiveInject(I.LocationStrategy))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.\u0275\u0275attribute("target",r.target)("href",r.href,u.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),Nv=(()=>{class n{constructor(t,r,i,l,d,g){this.router=t,this.element=r,this.renderer=i,this.cdr=l,this.link=d,this.linkWithHref=g,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.EventEmitter,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof Hc&&this.update()})}ngAfterContentInit(){Qe(this.links.changes,this.linksWithHrefs.changes,Qe(null)).pipe((0,ad.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,nn.D)(t).pipe((0,ad.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Av(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Mn),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(zm,8),u.\u0275\u0275directiveInject(ic,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.\u0275\u0275contentQuery(i,zm,5),u.\u0275\u0275contentQuery(i,ic,5)),2&t){let l;u.\u0275\u0275queryRefresh(l=u.\u0275\u0275loadQuery())&&(r.links=l),u.\u0275\u0275queryRefresh(l=u.\u0275\u0275loadQuery())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();class bw{}let d1=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Kn(t=>t instanceof Hc),ha(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.createEnvironmentInjector)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,g=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(g,l.children??l._loadedRoutes))}return(0,nn.D)(i).pipe((0,ad.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Qe(null);const l=i.pipe((0,Wr.z)(d=>null===d?Qe(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,nn.D)([l,d]).pipe((0,ad.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Mn),u.\u0275\u0275inject(u.Compiler),u.\u0275\u0275inject(u.EnvironmentInjector),u.\u0275\u0275inject(bw),u.\u0275\u0275inject(yw))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mv=new u.InjectionToken("");let xv=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof UD&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new UD(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function ya(n,e){return{\u0275kind:n,\u0275providers:e}}function vp(n){return[{provide:_p,multi:!0,useValue:n}]}function Km(){const n=(0,u.inject)(u.Injector);return e=>{const t=n.get(u.ApplicationRef);if(e!==t.components[0])return;const r=n.get(Mn),i=n.get(Dp);1===n.get(Zm)&&r.initialNavigation(),n.get(kv,null,u.InjectFlags.Optional)?.setUpPreloading(),n.get(Mv,null,u.InjectFlags.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Dp=new u.InjectionToken("",{factory:()=>new Tt.x}),Zm=new u.InjectionToken("",{providedIn:"root",factory:()=>1});const kv=new u.InjectionToken("");function Pv(n){return ya(0,[{provide:kv,useExisting:d1},{provide:bw,useExisting:n}])}const Lv=new u.InjectionToken("ROUTER_FORROOT_GUARD"),h1=[I.Location,{provide:wm,useClass:Gy},{provide:Mn,useFactory:c1},pd,{provide:Gc,useFactory:function yp(n){return n.routerState.root},deps:[Mn]},yw];function ww(){return new u.NgProbeToken("Router",Mn)}let Vv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[h1,[],vp(t),{provide:Lv,useFactory:p1,deps:[[Mn,new u.Optional,new u.SkipSelf]]},{provide:mp,useValue:r||{}},r?.useHash?{provide:I.LocationStrategy,useClass:I.HashLocationStrategy}:{provide:I.LocationStrategy,useClass:I.PathLocationStrategy},{provide:Mv,useFactory:()=>{const n=(0,u.inject)(Mn),e=(0,u.inject)(I.ViewportScroller),t=(0,u.inject)(mp);return t.scrollOffset&&e.setOffset(t.scrollOffset),new xv(n,e,t)}},r?.preloadingStrategy?Pv(r.preloadingStrategy).\u0275providers:[],{provide:u.NgProbeToken,multi:!0,useFactory:ww},r?.initialNavigation?RN(r):[],[{provide:Ew,useFactory:Km},{provide:u.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Ew}]]}}static forChild(t){return{ngModule:n,providers:[vp(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Lv,8))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[Lm]}),n})();function p1(n){return"guarded"}function RN(n){return["disabled"===n.initialNavigation?ya(3,[{provide:u.APP_INITIALIZER,multi:!0,useFactory:()=>{const e=(0,u.inject)(Mn);return()=>{e.setUpLocationChangeListener()}}},{provide:Zm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ya(2,[{provide:Zm,useValue:0},{provide:u.APP_INITIALIZER,multi:!0,deps:[u.Injector],useFactory:e=>{const t=e.get(I.LOCATION_INITIALIZED,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const d=e.get(Mn),g=e.get(Dp);(function i(l){e.get(Mn).events.pipe(Kn(g=>g instanceof Hc||g instanceof xm||g instanceof yh),(0,gt.U)(g=>g instanceof Hc||g instanceof xm&&(0===g.code||1===g.code)&&null),Kn(g=>null!==g),er(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),d.afterPreactivation=()=>(l(!0),r||g.closed?Qe(void 0):g),d.initialNavigation()}))}}]).\u0275providers:[]]}const Ew=new u.InjectionToken("");var Uv=V(4986);function jv(){return(0,bt.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ut.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function Cw(n,e){return n===e}V(3704);var At,Tw=V(3942),m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sc={},Qm=Qm||{},qt=m1||self;function go(){}function Th(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Sw="closure_uid_"+(1e9*Math.random()>>>0),Nw=0;function y1(n,e,t){return n.call.apply(n.bind,arguments)}function v1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ss(n,e,t){return(ss=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y1:v1).apply(null,arguments)}function Sh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ui(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[i].apply(r,d)}}function qc(){this.s=this.s,this.o=this.o}var $v={};qc.prototype.s=!1,qc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function _1(n){return Object.prototype.hasOwnProperty.call(n,Sw)&&n[Sw]||(n[Sw]=++Nw)}(this);delete $v[n]}},qc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ip=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Aw(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Xm(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Th(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let d=0;d<l;d++)n[i+d]=r[d]}else n.push(r)}}function Cs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Cs.prototype.h=function(){this.defaultPrevented=!0};var Mw=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",go,e),qt.removeEventListener("test",go,e)}catch{}return n}();function Ep(n){return/^[\s\xa0]*$/.test(n)}var Hv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function e_(n,e){return n<e?-1:n>e?1:0}function Nh(){var n=qt.navigator;return n&&(n=n.userAgent)?n:""}function Ti(n){return-1!=Nh().indexOf(n)}function Ah(n){return Ah[" "](n),n}Ah[" "]=go;var i_,n,Mh=Ti("Opera"),xh=Ti("Trident")||Ti("MSIE"),n_=Ti("Edge"),r_=n_||xh,xw=Ti("Gecko")&&!(-1!=Nh().toLowerCase().indexOf("webkit")&&!Ti("Edge"))&&!(Ti("Trident")||Ti("MSIE"))&&!Ti("Edge"),b1=-1!=Nh().toLowerCase().indexOf("webkit")&&!Ti("Edge");function _d(){var n=qt.document;return n?n.documentMode:void 0}e:{var Rw="",s_=(n=Nh(),xw?/rv:([^\);]+)(\)|;)/.exec(n):n_?/Edge\/([\d\.]+)/.exec(n):xh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):b1?/WebKit\/(\S+)/.exec(n):Mh?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(s_&&(Rw=s_?s_[1]:""),xh){var Ow=_d();if(null!=Ow&&Ow>parseFloat(Rw)){i_=String(Ow);break e}}i_=Rw}var D1={};var Wv=qt.document&&xh&&(_d()||parseInt(i_,10))||void 0;function Cp(n,e){if(Cs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xw){e:{try{Ah(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Cp.X.h.call(this)}}Ui(Cp,Cs);var zv={2:"touch",3:"pen",4:"mouse"};Cp.prototype.h=function(){Cp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Tp="closure_listenable_"+(1e6*Math.random()|0),I1=0;function E1(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++I1,this.ba=this.ea=!1}function a_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function qv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Kv(n){const e={};for(const t in n)e[t]=n[t];return e}const Sp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kc(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Sp.length;l++)t=Sp[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Zv(n){this.src=n,this.g={},this.h=0}function yd(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=Ip(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(a_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Yv(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}Zv.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Yv(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new E1(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var Qv="closure_lm_"+(1e6*Math.random()|0),Np={};function Jv(n,e,t,r,i){if(r&&r.once)return ji(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Jv(n,e[l],t,r,i);return null}return t=Jc(t),n&&n[Tp]?n.N(e,t,wp(r)?!!r.capture:!!r,i):va(n,e,t,!1,r,i)}function va(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=wp(i)?!!i.capture:!!i,g=Yc(n);if(g||(n[Qv]=g=new Zv(n)),(t=g.add(e,t,r,d,l)).proxy)return t;if(r=function Ap(){const e=Xv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Mw||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(mo(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ji(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ji(n,e[l],t,r,i);return null}return t=Jc(t),n&&n[Tp]?n.O(e,t,wp(r)?!!r.capture:!!r,i):va(n,e,t,!0,r,i)}function Zc(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)Zc(n,e[l],t,r,i);else r=wp(r)?!!r.capture:!!r,t=Jc(t),n&&n[Tp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Yv(l=n.g[e],t,r,i))&&(a_(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Yc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Yv(e,t,r,i)),(t=-1<n?e[n]:null)&&Rh(t))}function Rh(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Tp])yd(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(mo(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Yc(e))?(yd(t,n),0==t.h&&(t.src=null,e[Qv]=null)):a_(n)}}}function mo(n){return n in Np?Np[n]:Np[n]="on"+n}function Xv(n,e){if(n.ba)n=!0;else{e=new Cp(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Rh(n),n=t.call(r,e)}return n}function Yc(n){return(n=n[Qv])instanceof Zv?n:null}var Qc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jc(n){return"function"==typeof n?n:(n[Qc]||(n[Qc]=function(e){return n.handleEvent(e)}),n[Qc])}function Er(){qc.call(this),this.i=new Zv(this),this.P=this,this.I=null}function Pr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Cs(e,n);else if(e instanceof Cs)e.target=e.target||n;else{var i=e;Kc(e=new Cs(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=oc(d,r,!0,e)&&i}if(i=oc(d=e.g=n,r,!0,e)&&i,i=oc(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=oc(d=e.g=t[l],r,!1,e)&&i}function oc(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var g=d.listener,_=d.ha||d.src;d.ea&&yd(n.i,d),i=!1!==g.call(_,r)&&i}}return i&&!r.defaultPrevented}Ui(Er,qc),Er.prototype[Tp]=!0,Er.prototype.removeEventListener=function(n,e,t,r){Zc(this,n,e,t,r)},Er.prototype.M=function(){if(Er.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)a_(t[r]);delete n.g[e],n.h--}}this.I=null},Er.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Er.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Xc=qt.JSON.stringify;function Oh(){var n=u_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Mp,l_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new e0,n=>n.reset());class e0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function t0(n){qt.setTimeout(()=>{throw n},0)}function c_(n,e){Mp||function n0(){var n=qt.Promise.resolve(void 0);Mp=function(){n.then(r0)}}(),xp||(Mp(),xp=!0),u_.add(n,e)}var xp=!1,u_=new class kh{constructor(){this.h=this.g=null}add(e,t){const r=l_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function r0(){for(var n;n=Oh();){try{n.h.call(n.g)}catch(t){t0(t)}var e=l_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xp=!1}function Rp(n,e){Er.call(this),this.h=n||1,this.g=e||qt,this.j=ss(this.kb,this),this.l=Date.now()}function s0(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function d_(n,e,t){if("function"==typeof n)t&&(n=ss(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ss(n.handleEvent,n)}return 2147483647<Number(e)?-1:qt.setTimeout(n,e||0)}function o0(n){n.g=d_(()=>{n.g=null,n.i&&(n.i=!1,o0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ui(Rp,Er),(At=Rp.prototype).ca=!1,At.R=null,At.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pr(this,"tick"),this.ca&&(s0(this),this.start()))}},At.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},At.M=function(){Rp.X.M.call(this),s0(this),delete this.g};class kw extends qc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:o0(this)}M(){super.M(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vd(n){qc.call(this),this.h=n,this.g={}}Ui(vd,qc);var h_=[];function Pw(n,e,t,r){Array.isArray(t)||(t&&(h_[0]=t.toString()),t=h_);for(var i=0;i<t.length;i++){var l=Jv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Op(n){qv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Rh(e)},n),n.g={}}function bd(){this.g=!0}function ac(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function l0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return Xc(t)}catch{return e}}(n,t)+(r?" "+r:"")})}vd.prototype.M=function(){vd.X.M.call(this),Op(this)},vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bd.prototype.Aa=function(){this.g=!1},bd.prototype.info=function(){};var eu={},p_=null;function kp(){return p_=p_||new Er}function c0(n){Cs.call(this,eu.Oa,n)}function Dd(n){const e=kp();Pr(e,new c0(e,n))}function g_(n,e){Cs.call(this,eu.STAT_EVENT,n),this.stat=e}function Ts(n){const e=kp();Pr(e,new g_(e,n))}function u0(n,e){Cs.call(this,eu.Pa,n),this.size=e}function Ph(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},e)}eu.Oa="serverreachability",Ui(c0,Cs),eu.STAT_EVENT="statevent",Ui(g_,Cs),eu.Pa="timingevent",Ui(u0,Cs);var Pp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},d0={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function h0(){}function p0(){}h0.prototype.h=null;var Lp,wd={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Fh(){Cs.call(this,"d")}function Fp(){Cs.call(this,"c")}function Lh(){}function Id(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new vd(this),this.O=g0,this.T=new Rp(n=r_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new m_}function m_(){this.i=null,this.g="",this.h=!1}Ui(Fh,Cs),Ui(Fp,Cs),Ui(Lh,h0),Lh.prototype.g=function(){return new XMLHttpRequest},Lh.prototype.i=function(){return{}},Lp=new Lh;var g0=45e3,Vp={},Vh={};function Fw(n,e,t){n.K=1,n.v=zs(lc(e)),n.s=t,n.P=!0,Lw(n,null)}function Lw(n,e){n.F=Date.now(),Cr(n),n.A=lc(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Uh(t.i,"t",r),n.C=0,t=n.l.H,n.h=new m_,n.g=eI(n.l,t?e:null,!n.s),0<n.N&&(n.L=new kw(ss(n.Ka,n,n.g),n.N)),Pw(n.S,n.g,"readystatechange",n.hb),e=n.H?Kv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Dd(1),function a0(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",g=l.split("&"),_=0;_<g.length;_++){var w=g[_].split("=");if(1<w.length){var A=w[0];w=w[1];var O=A.split("_");d=2<=O.length&&"type"==O[1]?d+(A+"=")+w+"&":d+(A+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Vw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function m0(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=T1(n,t),i==Vh){4==e&&(n.o=4,Ts(14),r=!1),ac(n.j,n.m,null,"[Incomplete Response]");break}if(i==Vp){n.o=4,Ts(15),ac(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ac(n.j,n.m,i,null),y0(n,i)}Vw(n)&&i!=Vh&&i!=Vp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ts(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),O0(e),e.K=!0,Ts(11))):(ac(n.j,n.m,t,"[Invalid Chunked Response]"),tu(n),Bp(n))}function T1(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Vh:(t=Number(e.substring(t,r)),isNaN(t)?Vp:(r+=1)+t>e.length?Vh:(e=e.substr(r,t),n.C=r+t,e))}function Cr(n){n.V=Date.now()+n.O,_0(n,n.O)}function _0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ph(ss(n.fb,n),e)}function __(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function Bp(n){0==n.l.G||n.I||Xw(n.l,n)}function tu(n){__(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,s0(n.T),Op(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function y0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||b_(t.h,n)))if(!n.J&&b_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;uc(t),zh(t)}cc(t),Ts(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ph(ss(t.bb,t),6e3));if(1>=qw(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Nd(t,11)}else if((n.J||t.g==n)&&uc(t),!Ep(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const A=w[3];null!=A&&(t.ma=A,t.j.info("VER="+t.ma));const O=w[4];null!=O&&(t.Ca=O,t.j.info("SVER="+t.Ca));const j=w[5];null!=j&&"number"==typeof j&&0<j&&(t.J=r=1.5*j,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const oe=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var l=r.h;l.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(D_(l,l.h),l.h=null))}if(r.D){const ve=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.za=ve,nr(r.F,r.D,ve))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=P0(r,r.H?r.ka:null,r.V),d.J){w_(r.h,d);var g=d,_=r.J;_&&g.setTimeout(_),g.B&&(__(g),Cr(g)),r.g=d}else N_(r);0<t.i.length&&qh(t)}else"stop"!=w[0]&&"close"!=w[0]||Nd(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Nd(t,7):Kp(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}Dd(4)}catch{}}function Ed(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Th(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Uw(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Th(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Bw(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Th(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(At=Id.prototype).setTimeout=function(n){this.O=n},At.hb=function(n){n=n.target;const e=this.L;e&&3==ml(n)?e.l():this.Ka(n)},At.Ka=function(n){try{if(n==this.g)e:{const A=ml(this.g);var e=this.g.Ea();const O=this.g.aa();if(!(3>A)&&(3!=A||r_||this.g&&(this.h.h||this.g.fa()||M0(this.g)))){this.I||4!=A||7==e||Dd(8==e||0>=O?3:2),__(this);var t=this.g.aa();this.Y=t;t:if(Vw(this)){var r=M0(this.g);n="";var i=r.length,l=4==ml(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tu(this),Bp(this);var d="";break t}this.h.i=new qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function C1(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,A,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ep(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ts(12),tu(this),Bp(this);break e}ac(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,y0(this,t)}this.P?(m0(this,A,d),r_&&this.i&&3==A&&(Pw(this.S,this.T,"tick",this.gb),this.T.start())):(ac(this.j,this.m,d,null),y0(this,d)),4==A&&tu(this),this.i&&!this.I&&(4==A?Xw(this.l,this):(this.i=!1,Cr(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ts(12)):(this.o=0,Ts(13)),tu(this),Bp(this)}}}catch{}},At.gb=function(){if(this.g){var n=ml(this.g),e=this.g.fa();this.C<e.length&&(__(this),m0(this,n,e),this.i&&4!=n&&Cr(this))}},At.cancel=function(){this.I=!0,tu(this)},At.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function f_(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Dd(3),Ts(17)),tu(this),this.o=2,Bp(this)):_0(this,this.V-n)};var jw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nu){this.h=void 0!==e?e:n.h,Up(this,n.j),this.s=n.s,this.g=n.g,v0(this,n.m),this.l=n.l,e=n.i;var t=new $p;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),y_(this,t),this.o=n.o}else n&&(t=String(n).match(jw))?(this.h=!!e,Up(this,t[1]||"",!0),this.s=jp(t[2]||""),this.g=jp(t[3]||"",!0),v0(this,t[4]),this.l=jp(t[5]||"",!0),y_(this,t[6]||"",!0),this.o=jp(t[7]||"")):(this.h=!!e,this.i=new $p(null,this.h))}function lc(n){return new nu(n)}function Up(n,e,t){n.j=t?jp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function v0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function y_(n,e,t){e instanceof $p?(n.i=e,function Ww(n,e){e&&!n.j&&(ru(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Gw(this,r),Uh(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Bh(e,Hw)),n.i=new $p(e,n.h))}function nr(n,e,t){n.i.set(e,t)}function zs(n){return nr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gl),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gl(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Bh(e,$o,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Bh(e,$o,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Bh(t,"/"==t.charAt(0)?$w:ba,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Bh(t,N1)),n.join("")};var $o=/[#\/\?@]/g,ba=/[#\?:]/g,$w=/[#\?]/g,Hw=/[#\?@]/g,N1=/#/g;function $p(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ru(n){n.g||(n.g=new Map,n.h=0,n.i&&function S1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gw(n,e){ru(n),e=jh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function v_(n,e){return ru(n),e=jh(n,e),n.g.has(e)}function Uh(n,e,t){Gw(n,e),0<t.length&&(n.i=null,n.g.set(jh(n,e),Aw(t)),n.h+=t.length)}function jh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function b0(n){this.l=n||zw,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ga&&qt.g.Ga()&&qt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(At=$p.prototype).add=function(n,e){ru(this),this.i=null,n=jh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},At.forEach=function(n,e){ru(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},At.oa=function(){ru(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},At.W=function(n){ru(this);let e=[];if("string"==typeof n)v_(this,n)&&(e=e.concat(this.g.get(jh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},At.set=function(n,e){return ru(this),this.i=null,v_(this,n=jh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},At.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},At.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=l;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var zw=10;function Hp(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qw(n){return n.h?1:n.g?n.g.size:0}function b_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function D_(n,e){n.g?n.g.add(e):n.h=e}function w_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gp(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Aw(n.i)}function Wp(){}function D0(){this.g=new Wp}function w0(n,e,t){const r=t||"";try{Ed(n,function(i,l){let d=i;wp(i)&&(d=Xc(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $h(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Cd(n){this.l=n.$b||null,this.j=n.ib||!1}function Hh(n,e){Er.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=zp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}b0.prototype.cancel=function(){if(this.i=Gp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Wp.prototype.stringify=function(n){return qt.JSON.stringify(n,void 0)},Wp.prototype.parse=function(n){return qt.JSON.parse(n,void 0)},Ui(Cd,h0),Cd.prototype.g=function(){return new Hh(this.l,this.j)},Cd.prototype.i=function(n){return function(){return n}}({}),Ui(Hh,Er);var zp=0;function E0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Gh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wh(n)}function Wh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(At=Hh.prototype).open=function(n,e){if(this.readyState!=zp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wh(this)},At.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||qt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},At.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gh(this)),this.readyState=zp},At.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wh(this)),this.g&&(this.readyState=3,Wh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;E0(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},At.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Gh(this):Wh(this),3==this.readyState&&E0(this)}},At.Ua=function(n){this.g&&(this.response=this.responseText=n,Gh(this))},At.Ta=function(n){this.g&&(this.response=n,Gh(this))},At.ga=function(){this.g&&Gh(this)},At.setRequestHeader=function(n,e){this.v.append(n,e)},At.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},At.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Kw=qt.JSON.parse;function zr(n){Er.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=C0,this.K=this.L=!1}Ui(zr,Er);var C0="",Zw=/^https?$/i,Yw=["POST","PUT"];function T0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,S0(n),qp(n)}function S0(n){n.D||(n.D=!0,Pr(n,"complete"),Pr(n,"error"))}function N0(n){if(n.h&&typeof Qm<"u"&&(!n.C[1]||4!=ml(n)||2!=n.aa()))if(n.v&&4==ml(n))d_(n.Ha,0,n);else if(Pr(n,"readystatechange"),4==ml(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(jw)[1]||null;if(!i&&qt.self&&qt.self.location){var l=qt.self.location.protocol;i=l.substr(0,l.length-1)}r=!Zw.test(i?i.toLowerCase():"")}t=r}if(t)Pr(n,"complete"),Pr(n,"success");else{n.m=6;try{var d=2<ml(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",S0(n)}}finally{qp(n)}}}function qp(n,e){if(n.g){A0(n);const t=n.g,r=n.C[0]?go:null;n.g=null,n.C=null,e||Pr(n,"ready");try{t.onreadystatechange=r}catch{}}}function A0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function ml(n){return n.g?n.g.readyState:0}function M0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case C0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function x0(n){let e="";return qv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function I_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=x0(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):nr(n,e,t))}function Td(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function E_(n){this.Ca=0,this.i=[],this.j=new bd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Td("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Td("baseRetryDelayMs",5e3,n),this.ab=Td("retryDelaySeedMs",1e4,n),this.Za=Td("forwardChannelMaxRetries",2,n),this.ta=Td("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new b0(n&&n.concurrentRequestLimit),this.Fa=new D0,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Kp(n){if(C_(n),3==n.G){var e=n.U++,t=lc(n.F);nr(t,"SID",n.I),nr(t,"RID",e),nr(t,"TYPE","terminate"),Sd(n,t),(e=new Id(n,n.j,e,void 0)).K=2,e.v=zs(lc(t)),t=!1,qt.navigator&&qt.navigator.sendBeacon&&(t=qt.navigator.sendBeacon(e.v.toString(),"")),!t&&qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=eI(e.l,null),e.g.da(e.v)),e.F=Date.now(),Cr(e)}k0(n)}function zh(n){n.g&&(O0(n),n.g.cancel(),n.g=null)}function C_(n){zh(n),n.u&&(qt.clearTimeout(n.u),n.u=null),uc(n),n.h.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function qh(n){Hp(n.h)||n.m||(n.m=!0,c_(n.Ja,n),n.C=0)}function T_(n,e){var t;t=e?e.m:n.U++;const r=lc(n.F);nr(r,"SID",n.I),nr(r,"RID",t),nr(r,"AID",n.T),Sd(n,r),n.o&&n.s&&I_(r,n.o,n.s),t=new Id(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=S_(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),D_(n.h,t),Fw(t,r,e)}function Sd(n,e){n.ia&&qv(n.ia,function(t,r){nr(e,r,t)}),n.l&&Ed({},function(t,r){nr(e,r,t)})}function S_(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ss(n.l.Qa,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let g=!0;for(let _=0;_<t;_++){let w=i[_].h;const A=i[_].g;if(w-=l,0>w)l=Math.max(0,i[_].h-100),g=!1;else try{w0(A,d,"req"+w+"_")}catch{r&&r(A)}}if(g){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function N_(n){n.g||n.u||(n.Z=1,c_(n.Ia,n),n.A=0)}function cc(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ph(ss(n.Ia,n),A_(n,n.A)),n.A++,0))}function O0(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function Jw(n){n.g=new Id(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=lc(n.sa);nr(e,"RID","rpc"),nr(e,"SID",n.I),nr(e,"CI",n.L?"0":"1"),nr(e,"AID",n.T),nr(e,"TYPE","xmlhttp"),Sd(n,e),n.o&&n.s&&I_(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=zs(lc(e)),t.s=null,t.P=!0,Lw(t,n)}function uc(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function Xw(n,e){var t=null;if(n.g==e){uc(n),O0(n),n.g=null;var r=2}else{if(!b_(n.h,e))return;t=e.D,w_(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Pr(r=kp(),new u0(r,t,e,i)),qh(n)}else N_(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function R0(n,e){return!(qw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Ph(ss(n.Ja,n,e),A_(n,n.C)),n.C++,0)))}(n,e)||2==r&&cc(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Nd(n,5);break;case 4:Nd(n,10);break;case 3:Nd(n,6);break;default:Nd(n,2)}}function A_(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function Nd(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ss(n.jb,n);t||(t=new nu("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||Up(t,"https"),zs(t)),function I0(n,e){const t=new bd;if(qt.Image){const r=new Image;r.onload=Sh($h,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Sh($h,t,r,"TestLoadImage: error",!1,e),r.onabort=Sh($h,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sh($h,t,r,"TestLoadImage: timeout",!1,e),qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ts(2);n.G=0,n.l&&n.l.va(e),k0(n),C_(n)}function k0(n){if(n.G=0,n.la=[],n.l){const e=Gp(n.h);(0!=e.length||0!=n.i.length)&&(Xm(n.la,e),Xm(n.la,n.i),n.h.i.length=0,Aw(n.i),n.i.length=0),n.l.ua()}}function P0(n,e,t){var r=t instanceof nu?lc(t):new nu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),v0(r,r.m);else{var i=qt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new nu(null,void 0);r&&Up(l,r),e&&(l.g=e),i&&v0(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&nr(r,t,e),nr(r,"VER",n.ma),Sd(n,r),r}function eI(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zr(t&&n.Da&&!n.ra?new Cd({ib:!0}):n.ra)).L=n.H,e}function Ft(){}function M_(){if(xh&&!(10<=Number(Wv)))throw Error("Environmental error: no available transport.")}function _o(n,e){Er.call(this),this.g=new E_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!Ep(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ep(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Kh(this)}function tI(n){Fh.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iu(){Fp.call(this),this.status=1}function Kh(n){this.g=n}(At=zr.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lp.g(),this.C=function f0(n){return n.h||(n.h=n.i())}(this.u?this.u:Lp),this.g.onreadystatechange=ss(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void T0(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=qt.FormData&&n instanceof qt.FormData,!(0<=Ip(Yw,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{A0(this),0<this.B&&((this.K=function Qw(n){return xh&&function w1(){return function t_(n){var e=D1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Hv(String(i_)).split("."),t=Hv("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=e_(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||e_(0==i[2].length,0==l[2].length)||e_(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ss(this.qa,this)):this.A=d_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){T0(this,l)}},At.qa=function(){typeof Qm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pr(this,"timeout"),this.abort(8))},At.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pr(this,"complete"),Pr(this,"abort"),qp(this))},At.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qp(this,!0)),zr.X.M.call(this)},At.Ha=function(){this.s||(this.F||this.v||this.l?N0(this):this.eb())},At.eb=function(){N0(this)},At.aa=function(){try{return 2<ml(this)?this.g.status:-1}catch{return-1}},At.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},At.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Kw(e)}},At.Ea=function(){return this.m},At.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(At=E_.prototype).ma=8,At.G=1,At.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Id(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Kv(l),Kc(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=S_(this,i,e),nr(t=lc(this.F),"RID",n),nr(t,"CVER",22),this.D&&nr(t,"X-HTTP-Session-Id",this.D),Sd(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(x0(l)))+"&"+e:this.o&&I_(t,this.o,l)),D_(this.h,i),this.Xa&&nr(t,"TYPE","init"),this.O?(nr(t,"$req",e),nr(t,"SID","null"),i.Z=!0,Fw(i,t,null)):Fw(i,t,e),this.G=2}}else 3==this.G&&(n?T_(this,n):0==this.i.length||Hp(this.h)||T_(this))},At.Ia=function(){if(this.u=null,Jw(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ph(ss(this.cb,this),n)}},At.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ts(10),zh(this),Jw(this))},At.bb=function(){null!=this.v&&(this.v=null,zh(this),cc(this),Ts(19))},At.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Ts(2)):(this.j.info("Failed to ping google.com"),Ts(1))},(At=Ft.prototype).xa=function(){},At.wa=function(){},At.va=function(){},At.ua=function(){},At.Qa=function(){},M_.prototype.g=function(n,e){return new _o(n,e)},Ui(_o,Er),_o.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ts(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=P0(n,null,n.V),qh(n)},_o.prototype.close=function(){Kp(this.g)},_o.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Xc(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&qh(e)},_o.prototype.M=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,_o.X.M.call(this)},Ui(tI,Fh),Ui(iu,Fp),Ui(Kh,Ft),Kh.prototype.xa=function(){Pr(this.g,"a")},Kh.prototype.wa=function(n){Pr(this.g,new tI(n))},Kh.prototype.va=function(n){Pr(this.g,new iu(n))},Kh.prototype.ua=function(){Pr(this.g,"b")},M_.prototype.createWebChannel=M_.prototype.g,_o.prototype.send=_o.prototype.u,_o.prototype.open=_o.prototype.m,_o.prototype.close=_o.prototype.close,Pp.NO_ERROR=0,Pp.TIMEOUT=8,Pp.HTTP_ERROR=6,d0.COMPLETE="complete",p0.EventType=wd,wd.OPEN="a",wd.CLOSE="b",wd.ERROR="c",wd.MESSAGE="d",Er.prototype.listen=Er.prototype.N,zr.prototype.listenOnce=zr.prototype.O,zr.prototype.getLastError=zr.prototype.Na,zr.prototype.getLastErrorCode=zr.prototype.Ea,zr.prototype.getStatus=zr.prototype.aa,zr.prototype.getResponseJson=zr.prototype.Ra,zr.prototype.getResponseText=zr.prototype.fa,zr.prototype.send=zr.prototype.da;var x_=sc.createWebChannelTransport=function(){return new M_},R_=sc.getStatEventTarget=function(){return kp()},hr=sc.ErrorCode=Pp,kN=sc.EventType=d0,nI=sc.Event=eu,O_=sc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},M1=sc.FetchXmlHttpFactory=Cd,Zp=sc.WebChannel=p0,rI=sc.XhrIo=zr;const F0="@firebase/firestore";class fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");let Zh="9.11.0";const su=new hs.Yd("@firebase/firestore");function L0(){return su.logLevel}function He(n,...e){if(su.logLevel<=hs.in.DEBUG){const t=e.map(Yh);su.debug(`Firestore (${Zh}): ${n}`,...t)}}function qr(n,...e){if(su.logLevel<=hs.in.ERROR){const t=e.map(Yh);su.error(`Firestore (${Zh}): ${n}`,...t)}}function Ad(n,...e){if(su.logLevel<=hs.in.WARN){const t=e.map(Yh);su.warn(`Firestore (${Zh}): ${n}`,...t)}}function Yh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function yt(n="Unexpected state"){const e=`FIRESTORE (${Zh}) INTERNAL ASSERTION FAILED: `+n;throw qr(e),new Error(e)}function Bt(n,e){n||yt()}function rt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends fn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class sI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fi.UNAUTHENTICATED))}shutdown(){}}class oI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aI{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new pi,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const w=d;e.enqueueRetryable((0,Se.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},_=w=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new pi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt("string"==typeof r.accessToken),new sI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new fi(e)}}class lI{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Bt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class R1{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new lI(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O1{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,He("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt("string"==typeof t.token),this.A=t.token,new V0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class k1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FN(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function Qp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function B0(n){return n+"\0"}class Jn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Jn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Jn(0,0))}static max(){return new jt(new Jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jp{constructor(e,t,r){void 0===t?t=0:t>e.length&&yt(),void 0===r?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends Jp{construct(e,t,r){return new bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const Xp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends Jp{construct(e,t,r){return new Fr(e,t,r)}static isValidIdentifier(e){return Xp.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new je(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new je(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new je(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===g?(d=!d,i++):"."!==g||d?(r+=g,i++):(l(),i++)}if(l(),d)throw new je(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(bn.fromString(e))}static fromName(e){return new et(bn.fromString(e).popFirst(5))}static empty(){return new et(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new bn(e.slice()))}}class k_{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function U0(n){return n.fields.find(e=>2===e.kind)}function Md(n){return n.fields.filter(e=>2!==e.kind)}k_.UNKNOWN_ID=-1;class P_{constructor(e,t){this.fieldPath=e,this.kind=t}}class dc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new dc(0,yo.min())}}function uI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(1e9===r?new Jn(t+1,0):new Jn(t,r));return new yo(i,et.empty(),e)}function j0(n){return new yo(n.readTime,n.key,-1)}class yo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new yo(jt.min(),et.empty(),-1)}static max(){return new yo(jt.max(),et.empty(),-1)}}function F_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}const dI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ou(n){return eg.apply(this,arguments)}function eg(){return eg=(0,Se.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==dI)throw n;He("LocalStore","Unexpectedly lost primary lease")}),eg.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,l=0,d=!1;e.forEach(g=>{++i,g.next(()=>{++l,d&&l===i&&t()},_=>r(_))}),d=!0,l===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new he((r,i)=>{const l=e.length,d=new Array(l);let g=0;for(let _=0;_<l;_++){const w=_;t(e[w]).next(A=>{d[w]=A,++g,g===l&&r(d)},A=>i(A))}})}static doWhile(e,t){return new he((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class tg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new pi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ng(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=W0(r.target.error);this.P.reject(new ng(e,i))}}static open(e,t,r,i){try{return new tg(t,e.transaction(i,r))}catch(l){throw new ng(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new H0(t)}}class Ho{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ho.D((0,fn.z$)())&&qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),xd(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,fn.hl)())return!1;if(Ho.N())return!0;const e=(0,fn.z$)(),t=Ho.D(e),r=0<t&&t<10,i=Ho.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Se.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new ng(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const g=d.target.error;i("VersionError"===g.name?new je(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new je(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new ng(e,g))},l.onupgradeneeded=d=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Se.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.F(e);const _=tg.open(l.db,e,d?"readonly":"readwrite",r),w=i(_).next(A=>(_.V(),A)).catch(A=>(_.abort(A),he.reject(A))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,A="FirebaseError"!==w.name&&g<3;if(He("SimpleDb","Transaction failed with error:",w.message,"Retrying:",A),l.close(),!A)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class F1{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return xd(this.U.delete())}}class ng extends je{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function au(n){return"IndexedDbTransactionError"===n.name}class H0{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xd(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),xd(this.store.add(e))}get(e){return xd(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),xd(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),xd(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(d,g)=>{l.push(g)}).next(()=>l)}{const i=this.store.getAll(r.range);return new he((l,d)=>{i.onerror=g=>{d(g.target.error)},i.onsuccess=g=>{l(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new he((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,d,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new he((r,i)=>{t.onerror=l=>{const d=W0(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}H(e,t){const r=[];return new he((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void i();const _=new F1(g),w=t(g.primaryKey,g.value,_);if(w instanceof he){const A=w.catch(O=>(_.done(),he.reject(O)));r.push(A)}_.isDone?i():null===_.G?g.continue():g.continue(_.G)}}).next(()=>he.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xd(n){return new he((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=W0(r.target.error);t(i)}})}let G0=!1;function W0(n){const e=Ho.D((0,fn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return G0||(G0=!0,setTimeout(()=>{throw r},0)),r}}return n}class L1{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){au(r)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ou(r)}yield t.nt(6e4)}))}}class V1{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return he.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return He("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(g=>{i-=g,r.add(d)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,l)).next(g=>(He("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const d=j0(l);F_(d,r)>0&&(r=d)}),new yo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class qs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function hI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}qs.at=-1;class Lr{constructor(e,t){this.comparator=e,this.root=t||gi.EMPTY}insert(e,t){return new Lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qh(this.root,e,this.comparator,!0)}}class Qh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??gi.RED,this.left=i??gi.EMPTY,this.right=l??gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new gi(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return gi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new gi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vn(this.comparator);return t.data=e,t}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lu(n){return n.hasNext()?n.getNext():void 0}class Ks{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new Ks([])}unionWith(e){let t=new Vn(Fr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ks(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new mi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const q0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _l(n){if(Bt(!!n),"string"==typeof n){let e=0;const t=q0.exec(n);if(Bt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hc(n){return"string"==typeof n?mi.fromBase64String(n):mi.fromUint8Array(n)}function K0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gI(n){const e=n.mapValue.fields.__previous_value__;return K0(e)?gI(e):e}function Od(n){const e=_l(n.mapValue.fields.__local_write_time__.timestampValue);return new Jn(e.seconds,e.nanos)}class B1{constructor(e,t,r,i,l,d,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=_}}class fc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}function yl(n){return null==n}function Jh(n){return 0===n&&1/n==-1/0}function Z0(n){return"number"==typeof n&&Number.isInteger(n)&&!Jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xh={nullValue:"NULL_VALUE"};function vl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?K0(n)?4:U_(n)?9007199254740991:10:yt()}function bl(n,e){if(n===e)return!0;const t=vl(n);if(t!==vl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Od(n).isEqual(Od(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=_l(r.timestampValue),d=_l(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,hc(n.bytesValue).isEqual(hc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Tr(r.geoPointValue.latitude)===Tr(i.geoPointValue.latitude)&&Tr(r.geoPointValue.longitude)===Tr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Tr(r.integerValue)===Tr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Tr(r.doubleValue),d=Tr(i.doubleValue);return l===d?Jh(l)===Jh(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Qp(n.arrayValue.values||[],e.arrayValue.values||[],bl);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(hI(l)!==hI(d))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===d[g]||!bl(l[g],d[g])))return!1;return!0}(n,e);default:return yt()}var i}function kd(n,e){return void 0!==(n.values||[]).find(t=>bl(t,e))}function uu(n,e){if(n===e)return 0;const t=vl(n),r=vl(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=Tr(i.integerValue||i.doubleValue),g=Tr(l.integerValue||l.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return Y0(n.timestampValue,e.timestampValue);case 4:return Y0(Od(n),Od(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=hc(i),g=hc(l);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),g=l.split("/");for(let _=0;_<d.length&&_<g.length;_++){const w=Yt(d[_],g[_]);if(0!==w)return w}return Yt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Yt(Tr(i.latitude),Tr(l.latitude));return 0!==d?d:Yt(Tr(i.longitude),Tr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],g=l.values||[];for(let _=0;_<d.length&&_<g.length;++_){const w=uu(d[_],g[_]);if(w)return w}return Yt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===cu.mapValue&&l===cu.mapValue)return 0;if(i===cu.mapValue)return 1;if(l===cu.mapValue)return-1;const d=i.fields||{},g=Object.keys(d),_=l.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let A=0;A<g.length&&A<w.length;++A){const O=Yt(g[A],w[A]);if(0!==O)return O;const j=uu(d[g[A]],_[w[A]]);if(0!==j)return j}return Yt(g.length,w.length)}(n.mapValue,e.mapValue);default:throw yt()}}function Y0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=_l(n),r=_l(e),i=Yt(t.seconds,r.seconds);return 0!==i?i:Yt(t.nanos,r.nanos)}function du(n){return L_(n)}function L_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=_l(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hc(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=L_(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of i)d?d=!1:l+=",",l+=`${g}:${L_(r.fields[g])}`;return l+"}"}(n.mapValue):yt();var e}function hu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function V_(n){return!!n&&"integerValue"in n}function ef(n){return!!n&&"arrayValue"in n}function mI(n){return!!n&&"nullValue"in n}function Q0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function B_(n){return!!n&&"mapValue"in n}function rg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function U_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function LN(n){return"nullValue"in n?Xh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hu(fc.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:yt()}function _I(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hu(fc.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?cu:yt()}function yI(n,e){const t=uu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vI(n,e){const t=uu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!B_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rg(t)}setAll(e){let t=Fr.emptyPath(),r={},i=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=g.popLast()}d?r[g.lastSegment()]=rg(d):i.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());B_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];B_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Rd(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new os(rg(this.value))}}function U1(n){const e=[];return Rd(n.fields,(t,r)=>{const i=new Fr([t]);if(B_(r)){const l=U1(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new Ks(e)}class rr{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new rr(e,0,jt.min(),jt.min(),os.empty(),0)}static newFoundDocument(e,t,r){return new rr(e,1,t,jt.min(),r,0)}static newNoDocument(e,t){return new rr(e,2,t,jt.min(),os.empty(),0)}static newUnknownDocument(e,t){return new rr(e,3,t,jt.min(),os.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bI{constructor(e,t=null,r=[],i=[],l=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=g,this.ht=null}}function J0(n,e=null,t=[],r=[],i=null,l=null,d=null){return new bI(n,e,t,r,i,l,d)}function fu(n){const e=rt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+du(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>du(r)).join(",")),e.ht=t}return e.ht}function tf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!NI(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!bl(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rb(n.startAt,e.startAt)&&rb(n.endAt,e.endAt)}function ig(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function sg(n,e){return n.filters.filter(t=>t instanceof Si&&t.field.isEqual(e))}function X0(n,e,t){let r=Xh,i=!0;for(const l of sg(n,e)){let d=Xh,g=!0;switch(l.op){case"<":case"<=":d=LN(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,g=!1;break;case"!=":case"not-in":d=Xh}yI({value:r,inclusive:i},{value:d,inclusive:g})<0&&(r=d,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];yI({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function eb(n,e,t){let r=cu,i=!0;for(const l of sg(n,e)){let d=cu,g=!0;switch(l.op){case">=":case">":d=_I(l.value),g=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,g=!1;break;case"!=":case"not-in":d=cu}vI({value:r,inclusive:i},{value:d,inclusive:g})>0&&(r=d,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];vI({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Si extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new wI(e,t,r):"array-contains"===t?new EI(e,r):"in"===t?new CI(e,r):"not-in"===t?new TI(e,r):"array-contains-any"===t?new SI(e,r):new Si(e,t,r)}static lt(e,t,r){return"in"===t?new og(e,r):new II(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(uu(t,this.value)):null!==t&&vl(this.value)===vl(t)&&this.ft(uu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class wI extends Si{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.ft(t)}}class og extends Si{constructor(e,t){super(e,"in",t),this.keys=tb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class II extends Si{constructor(e,t){super(e,"not-in",t),this.keys=tb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class EI extends Si{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ef(t)&&kd(t.arrayValue,this.value)}}class CI extends Si{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&kd(this.value.arrayValue,t)}}class TI extends Si{constructor(e,t){super(e,"not-in",t)}matches(e){if(kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!kd(this.value.arrayValue,t)}}class SI extends Si{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ef(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kd(this.value.arrayValue,r))}}class pu{constructor(e,t){this.position=e,this.inclusive=t}}class ag{constructor(e,t="asc"){this.field=e,this.dir=t}}function NI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function nb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?et.comparator(et.fromName(d.referenceValue),t.key):uu(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function rb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bl(n.position[t],e.position[t]))return!1;return!0}class Dl{constructor(e,t=null,r=[],i=[],l=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=g,this.endAt=_,this._t=null,this.wt=null}}function ib(n,e,t,r,i,l,d,g){return new Dl(n,e,t,r,i,l,d,g)}function wl(n){return new Dl(n)}function AI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function lg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Go(n){for(const e of n.filters)if(e.dt())return e.field;return null}function sb(n){return null!==n.collectionGroup}function pc(n){const e=rt(n);if(null===e._t){e._t=[];const t=Go(e),r=lg(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new ag(t)),e._t.push(new ag(Fr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ag(Fr.keyField(),l))}}}return e._t}function _i(n){const e=rt(n);if(!e.wt)if("F"===e.limitType)e.wt=J0(e.path,e.collectionGroup,pc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of pc(e))t.push(new ag(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new pu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pu(e.startAt.position,e.startAt.inclusive):null;e.wt=J0(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function j_(n,e,t){return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cg(n,e){return tf(_i(n),_i(e))&&n.limitType===e.limitType}function MI(n){return`${fu(_i(n))}|lt:${n.limitType}`}function nf(n){return`Query(target=${function DI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${du(r.value)}`;var r}).join(", ")}]`),yl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>du(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>du(t)).join(",")),`Target(${e})`}(_i(n))}; limitType=${n.limitType})`}function rf(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const g=nb(i,l,d);return i.inclusive?g<=0:g<0}(t.startAt,pc(t),r)||t.endAt&&!function(i,l,d){const g=nb(i,l,d);return i.inclusive?g>=0:g>0}(t.endAt,pc(t),r)));var t,r}function xI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RI(n){return(e,t)=>{let r=!1;for(const i of pc(n)){const l=OI(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function OI(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,l,d){const g=l.data.field(i),_=d.data.field(i);return null!==g&&null!==_?uu(g,_):yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}function ob(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function $_(n){return{integerValue:""+n}}function ab(n,e){return Z0(e)?$_(e):ob(n,e)}class H_{constructor(){this._=void 0}}function j1(n,e,t){return n instanceof gu?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof mu?W_(n,e):n instanceof gc?kI(n,e):function(r,i){const l=G_(r,i),d=PI(l)+PI(r.yt);return V_(l)&&V_(r.yt)?$_(d):ob(r.It,d)}(n,e)}function VN(n,e,t){return n instanceof mu?W_(n,e):n instanceof gc?kI(n,e):t}function G_(n,e){return n instanceof sf?V_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gu extends H_{}class mu extends H_{constructor(e){super(),this.elements=e}}function W_(n,e){const t=FI(e);for(const r of n.elements)t.some(i=>bl(i,r))||t.push(r);return{arrayValue:{values:t}}}class gc extends H_{constructor(e){super(),this.elements=e}}function kI(n,e){let t=FI(e);for(const r of n.elements)t=t.filter(i=>!bl(i,r));return{arrayValue:{values:t}}}class sf extends H_{constructor(e,t){super(),this.It=e,this.yt=t}}function PI(n){return Tr(n.integerValue||n.doubleValue)}function FI(n){return ef(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class af{constructor(e,t){this.field=e,this.transform=t}}class LI{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ug(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class dg{}function VI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new cf(n.key,or.none()):new Pd(n.key,n.data,or.none());{const t=n.data,r=os.empty();let i=new Vn(Fr.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),i=i.add(l)}return new Sr(n.key,r,new Ks(i.toArray()),or.none())}}function BI(n,e,t){n instanceof Pd?function(r,i,l){const d=r.value.clone(),g=UI(r.fieldTransforms,i,l.transformResults);d.setAll(g),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Sr?function(r,i,l){if(!ug(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=UI(r.fieldTransforms,i,l.transformResults),g=i.data;g.setAll(Fd(r)),g.setAll(d),i.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lf(n,e,t,r){return n instanceof Pd?function(i,l,d,g){if(!ug(i.precondition,l))return d;const _=i.value.clone(),w=jI(i.fieldTransforms,g,l);return _.setAll(w),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Sr?function(i,l,d,g){if(!ug(i.precondition,l))return d;const _=jI(i.fieldTransforms,g,l),w=l.data;return w.setAll(Fd(i)),w.setAll(_),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(d=t,ug(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function $1(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=G_(r.transform,i||null);null!=l&&(null===t&&(t=os.empty()),t.set(r.field,l))}return t||null}function cb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Qp(t,r,(i,l)=>function lb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof mu&&r instanceof mu||t instanceof gc&&r instanceof gc?Qp(t.elements,r.elements,bl):t instanceof sf&&r instanceof sf?bl(t.yt,r.yt):t instanceof gu&&r instanceof gu);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Pd extends dg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sr extends dg{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Fd(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function UI(n,e,t){const r=new Map;Bt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,g=e.data.field(l.field);r.set(l.field,VN(d,g,t[i]))}return r}function jI(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,j1(l,d,e))}return r}class cf extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $I extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HI{constructor(e){this.count=e}}var Kr,mn;function GI(n){switch(n){default:return yt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function z_(n){if(void 0===n)return qr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Kr.OK:return ye.OK;case Kr.CANCELLED:return ye.CANCELLED;case Kr.UNKNOWN:return ye.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return ye.INTERNAL;case Kr.UNAVAILABLE:return ye.UNAVAILABLE;case Kr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Kr.NOT_FOUND:return ye.NOT_FOUND;case Kr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Kr.ABORTED:return ye.ABORTED;case Kr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Kr.DATA_LOSS:return ye.DATA_LOSS;default:return yt()}}(mn=Kr||(Kr={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class mc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rd(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return fI(this.inner)}size(){return this.innerSize}}const WI=new Lr(et.comparator);function Ss(){return WI}const ub=new Lr(et.comparator);function hg(...n){let e=ub;for(const t of n)e=e.insert(t.key,t);return e}function q_(n){let e=ub;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Da(){return _u()}function db(){return _u()}function _u(){return new mc(n=>n.toString(),(n,e)=>n.isEqual(e))}const hb=new Lr(et.comparator),H1=new Vn(et.comparator);function Xt(...n){let e=H1;for(const t of n)e=e.add(t);return e}const G1=new Vn(Yt);function uf(){return G1}class wa{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,fg.createSynthesizedTargetChangeForCurrentChange(e,t)),new wa(jt.min(),r,uf(),Ss(),Xt())}}class fg{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new fg(mi.EMPTY_BYTE_STRING,t,Xt(),Xt(),Xt())}}class pg{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class K_{constructor(e,t){this.targetId=e,this.At=t}}class fb{constructor(e,t,r=mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zI{constructor(){this.Rt=0,this.bt=KI(),this.Pt=mi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Xt(),t=Xt(),r=Xt();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new fg(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=KI()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class BN{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ss(),this.qt=qI(),this.Kt=new Vn(Yt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if(ig(l))if(0===r){const d=new et(l.path);this.jt(t,d,rr.newNoDocument(d,jt.min()))}else Bt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,d)=>{const g=this.Xt(d);if(g){if(l.current&&ig(g.target)){const _=new et(g.target.path);null!==this.Ut.get(_)||this.ee(d,_)||this.jt(d,_,rr.newNoDocument(_,e))}l.Dt&&(t.set(d,l.xt()),l.Nt())}});let r=Xt();this.qt.forEach((l,d)=>{let g=!0;d.forEachWhile(_=>{const w=this.Xt(_);return!w||2===w.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(e));const i=new wa(e,t,this.Kt,this.Ut,r);return this.Ut=Ss(),this.qt=qI(),this.Kt=new Vn(Yt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new zI,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Vn(Yt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new zI),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function qI(){return new Lr(et.comparator)}function KI(){return new Lr(et.comparator)}const pb={asc:"ASCENDING",desc:"DESCENDING"},ZI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class YI{constructor(e,t){this.databaseId=e,this.gt=t}}function gg(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gb(n,e){return n.gt?e.toBase64():e.toUint8Array()}function QI(n,e){return gg(n,e.toTimestamp())}function Ni(n){return Bt(!!n),jt.fromTimestamp(function(e){const t=_l(e);return new Jn(t.seconds,t.nanos)}(n))}function mb(n,e){return(t=n,new bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _b(n){const e=bn.fromString(n);return Bt(Ib(e)),e}function mg(n,e){return mb(n.databaseId,e.path)}function Ia(n,e){const t=_b(e);if(t.get(1)!==n.databaseId.projectId)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(JI(t))}function Z_(n,e){return mb(n.databaseId,e)}function yb(n){const e=_b(n);return 4===e.length?bn.emptyPath():JI(e)}function df(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JI(n){return Bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function XI(n,e,t){return{name:mg(n,e),fields:t.value.mapValue.fields}}function vb(n,e,t){const r=Ia(n,e.name),i=Ni(e.updateTime),l=new os({mapValue:{fields:e.fields}}),d=rr.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function _g(n,e){let t;if(e instanceof Pd)t={update:XI(n,e.key,e.value)};else if(e instanceof cf)t={delete:mg(n,e.key)};else if(e instanceof Sr)t={update:XI(n,e.key,e.data),updateMask:wb(e.fieldMask)};else{if(!(e instanceof $I))return yt();t={verify:mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof mu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof sf)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw yt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:QI(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:yt()),t;var i}function bb(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?or.updateTime(Ni(i.updateTime)):void 0!==i.exists?or.exists(i.exists):or.none():or.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let g=null;"setToServerValue"in d?(Bt("REQUEST_TIME"===d.setToServerValue),g=new gu):"appendMissingElements"in d?g=new mu(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new gc(d.removeAllFromArray.values||[]):"increment"in d?g=new sf(l,d.increment):yt();const _=Fr.fromServerFormat(d.fieldPath);return new af(_,g)}(n,i)):[];var i;if(e.update){const i=Ia(n,e.update.name),l=new os({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Ks((e.updateMask.fieldPaths||[]).map(w=>Fr.fromServerFormat(w)));return new Sr(i,l,d,t,r)}return new Pd(i,l,t,r)}if(e.delete){const i=Ia(n,e.delete);return new cf(i,t)}if(e.verify){const i=Ia(n,e.verify);return new $I(i,t)}return yt()}function nE(n,e){return{documents:[Z_(n,e.path)]}}function Db(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Z_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Z_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(A=>function(O){if("=="===O.op){if(Q0(O.value))return{unaryFilter:{field:_c(O.field),op:"IS_NAN"}};if(mI(O.value))return{unaryFilter:{field:_c(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(Q0(O.value))return{unaryFilter:{field:_c(O.field),op:"IS_NOT_NAN"}};if(mI(O.value))return{unaryFilter:{field:_c(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_c(O.field),op:iE(O.op),value:O.value}}}(A));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:_c((A=w).field),direction:UN(A.dir)};var A})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.gt||yl(w)?w:{value:w});var w,g,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function rE(n){let e=yb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Bt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let l=[];t.where&&(l=yg(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new ag(Ld((O=A).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let g=null;t.limit&&(g=function(A){let O;return O="object"==typeof A?A.value:A,yl(O)?null:O}(t.limit));let _=null;var A;t.startAt&&(_=new pu((A=t.startAt).values||[],!!A.before));let w=null;return t.endAt&&(w=function(A){return new pu(A.values||[],!A.before)}(t.endAt)),ib(e,i,d,l,g,"F",_,w)}function yg(n){return n?void 0!==n.unaryFilter?[q1(n)]:void 0!==n.fieldFilter?[sE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>yg(e)).reduce((e,t)=>e.concat(t)):yt():[]}function UN(n){return pb[n]}function iE(n){return ZI[n]}function _c(n){return{fieldPath:n.canonicalString()}}function Ld(n){return Fr.fromServerFormat(n.fieldPath)}function sE(n){return Si.create(Ld(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function q1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ld(n.unaryFilter.field);return Si.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ld(n.unaryFilter.field);return Si.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ld(n.unaryFilter.field);return Si.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ld(n.unaryFilter.field);return Si.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function wb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ib(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ns(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aE(e)),e=oE(n.get(t),e);return aE(e)}function oE(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function aE(n){return n+"\x01\x01"}function Il(n){const e=n.length;if(Bt(e>=2),2===e)return Bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&yt(),n.charAt(d+1)){case"\x01":const g=n.substring(l,d);let _;0===i.length?_=g:(i+=g,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:yt()}l=d+2}return new bn(r)}const lE=["userId","batchId"];function Y_(n,e){return[n,Ns(e)]}function vg(n,e,t){return[n,Ns(e),t]}const K1={},Z1=["prefixPath","collectionGroup","readTime","documentId"],Y1=["prefixPath","collectionGroup","documentId"],El=["collectionGroup","readTime","prefixPath","documentId"],cE=["canonicalId","targetId"],Q1=["targetId","path"],uE=["path","targetId"],J1=["collectionId","parent"],X1=["indexId","uid"],dE=["uid","sequenceNumber"],hE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],eT=["indexId","uid","orderedDocumentKey"],Wo=["userId","collectionPath","documentId"],tT=["userId","collectionPath","largestBatchId"],Eb=["userId","collectionGroup","largestBatchId"],fE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zo=[...fE,"documentOverlays"],pE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Q_=pE,nT=[...Q_,"indexConfiguration","indexState","indexEntries"];class Cb extends $0{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ni(n,e){const t=rt(n);return Ho.M(t.ie,e)}class J_{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&BI(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=lf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=lf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=db();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let g=this.applyToLocalView(d,l.mutatedFields);g=t.has(i.key)?null:g;const _=VI(d,g);null!==_&&r.set(i.key,_),d.isValidDocument()||d.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Qp(this.mutations,e.mutations,(t,r)=>cb(t,r))&&Qp(this.baseMutations,e.baseMutations,(t,r)=>cb(t,r))}}class X_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Bt(e.mutations.length===r.length);let i=hb;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new X_(e,t,r,i)}}class ey{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yc{constructor(e,t,r,i,l=jt.min(),d=jt.min(),g=mi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new yc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new yc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Tb{constructor(e){this.re=e}}function Sb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:bg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:mg(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:gg(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:vc(e.version)};else{if(!e.isUnknownDocument())return yt();r.unknownDocument={path:t.path.toArray(),version:vc(e.version)}}var i,l;return r}function bg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function vc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zs(n){const e=new Jn(n.seconds,n.nanoseconds);return jt.fromTimestamp(e)}function bc(n,e){const t=(e.baseMutations||[]).map(l=>bb(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>bb(n.re,l)),i=Jn.fromMillis(e.localWriteTimeMs);return new J_(e.batchId,i,t,r)}function Vd(n){const e=Zs(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Zs(n.lastLimboFreeSnapshotVersion):jt.min();let r;var i;return void 0!==n.query.documents?(Bt(1===(i=n.query).documents.length),r=_i(wl(yb(i.documents[0])))):r=_i(rE(n.query)),new yc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,mi.fromBase64String(n.resumeToken))}function Cl(n,e){const t=vc(e.snapshotVersion),r=vc(e.lastLimboFreeSnapshotVersion);let i;i=ig(e.target)?nE(n.re,e.target):Db(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fu(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ty(n){const e=rE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?j_(e,e.limit,"L"):e}function gE(n,e){return new ey(e.largestBatchId,bb(n.re,e.overlayMutation))}function Nb(n,e){const t=e.path.lastSegment();return[n,Ns(e.path.popLast()),t]}function mE(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:vc(r.readTime),documentKey:Ns(r.documentKey.path),largestBatchId:r.largestBatchId}}class _E{getBundleMetadata(e,t){return yE(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Zs(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return yE(e).put({bundleId:(r=t).id,createTime:vc(Ni(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Ab(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:ty(i.bundledQuery),readTime:Zs(i.readTime)};var i})}saveNamedQuery(e,t){return Ab(e).put({name:(r=t).name,readTime:vc(Ni(r.readTime)),bundledQuery:r.bundledQuery});var r}}function yE(n){return ni(n,"bundles")}function Ab(n){return ni(n,"namedQueries")}class ny{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new ny(e,t.uid||"")}getOverlay(e,t){return hf(e).get(Nb(this.userId,t)).next(r=>r?gE(this.It,r):null)}getOverlays(e,t){const r=Da();return he.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const g=new ey(t,d);i.push(this.ue(e,g))}),he.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Ns(d.getCollectionPath())));const l=[];return i.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(hf(e).Y("collectionPathOverlayIndex",g))}),he.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Da(),l=Ns(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return hf(e).W("collectionPathOverlayIndex",d).next(g=>{for(const _ of g){const w=gE(this.It,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Da();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hf(e).Z({index:"collectionGroupOverlayIndex",range:g},(_,w,A)=>{const O=gE(this.It,w);l.size()<i||O.largestBatchId===d?(l.set(O.getKey(),O),d=O.largestBatchId):A.done()}).next(()=>l)}ue(e,t){return hf(e).put(function(r,i,l){const[d,g,_]=Nb(i,l.mutation.key);return{userId:i,collectionPath:g,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:_g(r.re,l.mutation)}}(this.It,this.userId,t))}}function hf(n){return ni(n,"documentOverlays")}class yu{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Tr(e.integerValue));else if("doubleValue"in e){const r=Tr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Jh(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(hc(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?U_(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):yt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),et.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function vE(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function bE(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=vE(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}yu.Te=new yu;class ry{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=bE(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=bE(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Mb{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class DE{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class ff{constructor(){this.Be=new ry,this.Le=new Mb(this.Be),this.Ue=new DE(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class vu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new vu(this.indexId,this.documentKey,this.arrayValue,r)}}function bu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Dg(n.arrayValue,e.arrayValue),0!==t?t:(t=Dg(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function Dg(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class iy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=U0(e);if(void 0!==t&&!this.ze(t))return!1;const r=Md(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class wE{constructor(){this.Ye=new xb}addToCollectionParentIndex(e,t){return this.Ye.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(yo.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class xb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vn(bn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(bn.comparator)).toArray()}}const wg=new Uint8Array(0);class IE{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new xb,this.Ze=new mc(r=>fu(r),(r,i)=>tf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:Ns(i)};return EE(e).put(l)}return he.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[B0(t),""],!1,!0);return EE(e).W(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Il(d.parent))}return r})}addFieldIndex(e,t){const r=sy(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete i.indexId;const l=r.add(i);if(t.indexState){const d=Eg(e);return l.next(g=>{d.put(mE(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=sy(e),i=Eg(e),l=Ig(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ig(e);let i=!0;const l=new Map;return he.forEach(this.tn(t),d=>this.en(e,d).next(g=>{i&&(i=!!g),l.set(d,g)})).next(()=>{if(i){let d=Xt();const g=[];return he.forEach(l,(_,w)=>{var A;He("IndexedDbIndexManager",`Using index ${A=_,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(St=>`${St.fieldPath}:${St.kind}`).join(",")}`} to execute ${fu(t)}`);const O=function(St,lt){const ot=U0(lt);if(void 0===ot)return null;for(const ft of sg(St,ot.fieldPath))switch(ft.op){case"array-contains-any":return ft.value.arrayValue.values||[];case"array-contains":return[ft.value]}return null}(w,_),j=function(St,lt){const ot=new Map;for(const ft of Md(lt))for(const Qt of sg(St,ft.fieldPath))switch(Qt.op){case"==":case"in":ot.set(ft.fieldPath.canonicalString(),Qt.value);break;case"not-in":case"!=":return ot.set(ft.fieldPath.canonicalString(),Qt.value),Array.from(ot.values())}return null}(w,_),J=function(St,lt){const ot=[];let ft=!0;for(const Qt of Md(lt)){const Nn=0===Qt.kind?X0(St,Qt.fieldPath,St.startAt):eb(St,Qt.fieldPath,St.startAt);ot.push(Nn.value),ft&&(ft=Nn.inclusive)}return new pu(ot,ft)}(w,_),oe=function(St,lt){const ot=[];let ft=!0;for(const Qt of Md(lt)){const Nn=0===Qt.kind?eb(St,Qt.fieldPath,St.endAt):X0(St,Qt.fieldPath,St.endAt);ot.push(Nn.value),ft&&(ft=Nn.inclusive)}return new pu(ot,ft)}(w,_),ve=this.nn(_,w,J),Re=this.nn(_,w,oe),st=this.sn(_,w,j),ut=this.rn(_.indexId,O,ve,J.inclusive,Re,oe.inclusive,st);return he.forEach(ut,St=>r.J(St,t.limit).next(lt=>{lt.forEach(ot=>{const ft=et.fromSegments(ot.documentKey);d.has(ft)||(d=d.add(ft),g.push(ft))})}))}).next(()=>g)}return he.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,d,g){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),w=_/(null!=t?t.length:1),A=[];for(let O=0;O<_;++O){const j=t?this.on(t[O/w]):wg,J=this.un(e,j,r[O%w],i),oe=this.cn(e,j,l[O%w],d),ve=g.map(Re=>this.un(e,j,Re,!0));A.push(...this.createRange(J,oe,ve))}return A}un(e,t,r,i){const l=new vu(e,et.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new vu(e,et.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new iy(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const g of l)r.We(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return he.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(d){let g=new Vn(Fr.comparator),_=!1;for(const w of d.filters){const A=w;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?_=!0:g=g.add(A.field))}for(const w of d.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new ff;for(const i of Md(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.qe(i.kind);yu.Te.ce(l,d)}return r.$e()}on(e){const t=new ff;return yu.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new ff;return yu.Te.ce(hu(this.databaseId,t),r.qe(function(i){const l=Md(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new ff);let l=0;for(const d of Md(e)){const g=r[l++];for(const _ of i)if(this.ln(t,d.fieldPath)&&ef(g))i=this.fn(i,d,g);else{const w=_.qe(d.kind);yu.Te.ce(g,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const g of i){const _=new ff;_.seed(g.$e()),yu.Te.ce(d,_.qe(t.kind)),l.push(_)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof Si&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=sy(e),i=Eg(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return he.forEach(l,g=>i.get([g.indexId,this.uid]).next(_=>{d.push(function(w,A){const O=A?new dc(A.sequenceNumber,new yo(Zs(A.readTime),new et(Il(A.documentKey)),A.largestBatchId)):dc.empty(),j=w.fields.map(([J,oe])=>new P_(Fr.fromServerFormat(J),oe));return new k_(w.indexId,w.collectionGroup,j,O)}(g,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Yt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=sy(e),l=Eg(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>he.forEach(g,_=>l.put(mE(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return he.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?he.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),he.forEach(g,_=>this.wn(e,i,_).next(w=>{const A=this.mn(l,_);return w.isEqual(A)?he.resolve():this.gn(e,l,_,w,A)}))))})}yn(e,t,r,i){return Ig(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Ig(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Ig(e);let l=new Vn(bu);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,g)=>{l=l.add(new vu(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}mn(e,t){let r=new Vn(bu);const i=this.an(t,e);if(null==i)return r;const l=U0(t);if(null!=l){const d=e.data.field(l.fieldPath);if(ef(d))for(const g of d.arrayValue.values||[])r=r.add(new vu(t.indexId,e.key,this.on(g),i))}else r=r.add(new vu(t.indexId,e.key,wg,i));return r}gn(e,t,r,i,l){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,_,w,A,O){const j=g.getIterator(),J=_.getIterator();let oe=lu(j),ve=lu(J);for(;oe||ve;){let Re=!1,st=!1;if(oe&&ve){const ut=w(oe,ve);ut<0?st=!0:ut>0&&(Re=!0)}else null!=oe?st=!0:Re=!0;Re?(A(ve),ve=lu(J)):st?(O(oe),oe=lu(j)):(oe=lu(j),ve=lu(J))}}(i,l,bu,g=>{d.push(this.yn(e,t,r,g))},g=>{d.push(this.pn(e,t,r,g))}),he.waitFor(d)}_n(e){let t=1;return Eg(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>bu(d,g)).filter((d,g,_)=>!g||0!==bu(d,_[g-1]));const i=[];i.push(e);for(const d of r){const g=bu(d,e),_=bu(d,t);if(0===g)i[0]=e.Ke();else if(g>0&&_<0)i.push(d),i.push(d.Ke());else if(_>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,wg,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,wg,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Rb)}getMinOffset(e,t){return he.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||yt())).next(Rb)}}function EE(n){return ni(n,"collectionParents")}function Ig(n){return ni(n,"indexEntries")}function sy(n){return ni(n,"indexConfiguration")}function Eg(n){return ni(n,"indexState")}function Rb(n){Bt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;F_(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new yo(e.readTime,e.documentKey,t)}const Ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class As{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new As(e,As.DEFAULT_COLLECTION_PERCENTILE,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function CE(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let g=0;const _=r.Z({range:d},(A,O,j)=>(g++,j.delete()));l.push(_.next(()=>{Bt(1===g)}));const w=[];for(const A of t.mutations){const O=vg(e,A.key.path,t.batchId);l.push(i.delete(O)),w.push(A.key)}return he.waitFor(l).next(()=>w)}function Cg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw yt();e=n.noDocument}return JSON.stringify(e).length}As.DEFAULT_COLLECTION_PERCENTILE=10,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,As.DEFAULT=new As(41943040,As.DEFAULT_COLLECTION_PERCENTILE,As.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),As.DISABLED=new As(-1,0,0);class oy{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Bt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new oy(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Du(e).Z({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=pf(e),d=Du(e);return d.add({}).next(g=>{Bt("number"==typeof g);const _=new J_(g,t,r,i),w=function(j,J,oe){const ve=oe.baseMutations.map(st=>_g(j.re,st)),Re=oe.mutations.map(st=>_g(j.re,st));return{userId:J,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:ve,mutations:Re}}(this.It,this.userId,_),A=[];let O=new Vn((j,J)=>Yt(j.canonicalString(),J.canonicalString()));for(const j of i){const J=vg(this.userId,j.key.path,g);O=O.add(j.key.path.popLast()),A.push(d.put(w)),A.push(l.put(J,K1))}return O.forEach(j=>{A.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.In[g]=_.keys()}),he.waitFor(A).next(()=>_)})}lookupMutationBatch(e,t){return Du(e).get(t).next(r=>r?(Bt(r.userId===this.userId),bc(this.It,r)):null)}Tn(e,t){return this.In[t]?he.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Du(e).Z({index:"userMutationsIndex",range:i},(d,g,_)=>{g.userId===this.userId&&(Bt(g.batchId>=r),l=bc(this.It,g)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Du(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Du(e).W("userMutationsIndex",t).next(r=>r.map(i=>bc(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Y_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return pf(e).Z({range:i},(d,g,_)=>{const[w,A,O]=d,j=Il(A);if(w===this.userId&&t.path.isEqual(j))return Du(e).get(O).next(J=>{if(!J)throw yt();Bt(J.userId===this.userId),l.push(bc(this.It,J))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(Yt);const i=[];return t.forEach(l=>{const d=Y_(this.userId,l.path),g=IDBKeyRange.lowerBound(d),_=pf(e).Z({range:g},(w,A,O)=>{const[j,J,oe]=w,ve=Il(J);j===this.userId&&l.path.isEqual(ve)?r=r.add(oe):O.done()});i.push(_)}),he.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=Y_(this.userId,r),d=IDBKeyRange.lowerBound(l);let g=new Vn(Yt);return pf(e).Z({range:d},(_,w,A)=>{const[O,j,J]=_,oe=Il(j);O===this.userId&&r.isPrefixOf(oe)?oe.length===i&&(g=g.add(J)):A.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Du(e).get(l).next(d=>{if(null===d)throw yt();Bt(d.userId===this.userId),r.push(bc(this.It,d))}))}),he.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return CE(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),he.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return pf(e).Z({range:r},(l,d,g)=>{if(l[0]===this.userId){const _=Il(l[1]);i.push(_)}else g.done()}).next(()=>{Bt(0===i.length)})})}containsKey(e,t){return iT(e,this.userId,t)}Rn(e){return ay(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iT(n,e,t){const r=Y_(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return pf(n).Z({range:l,X:!0},(g,_,w)=>{const[A,O,j]=g;A===e&&O===i&&(d=!0),w.done()}).next(()=>d)}function Du(n){return ni(n,"mutations")}function pf(n){return ni(n,"documentMutations")}function ay(n){return ni(n,"mutationQueues")}class Ea{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ea(0)}static vn(){return new Ea(-1)}}class sT{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Ea(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>jt.fromTimestamp(new Jn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gf(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Bt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return gf(e).Z((d,g)=>{const _=Vd(g);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>he.waitFor(l)).next(()=>i)}forEachTarget(e,t){return gf(e).Z((r,i)=>{const l=Vd(i);t(l)})}Vn(e){return kb(e).get("targetGlobalKey").next(t=>(Bt(null!==t),t))}Sn(e,t){return kb(e).put("targetGlobalKey",t)}Dn(e,t){return gf(e).put(Cl(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return gf(e).Z({range:i,index:"queryTargetsIndex"},(d,g,_)=>{const w=Vd(g);tf(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Ys(e);return t.forEach(d=>{const g=Ns(d.path);i.push(l.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,d))}),he.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ys(e);return he.forEach(t,l=>{const d=Ns(l.path);return he.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Ys(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ys(e);let l=Xt();return i.Z({range:r,X:!0},(d,g,_)=>{const w=Il(d[1]),A=new et(w);l=l.add(A)}).next(()=>l)}containsKey(e,t){const r=Ns(t.path),i=IDBKeyRange.bound([r],[B0(r)],!1,!0);let l=0;return Ys(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,g],_,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}se(e,t){return gf(e).get(t).next(r=>r?Vd(r):null)}}function gf(n){return ni(n,"targets")}function kb(n){return ni(n,"targetGlobal")}function Ys(n){return ni(n,"targetDocuments")}function Pb([n,e],[t,r]){const i=Yt(n,t);return 0===i?Yt(e,r):i}class Fb{constructor(e){this.xn=e,this.buffer=new Vn(Pb),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Pb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){au(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ou(r)}yield t.Fn(3e5)}))}}class oT{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return he.resolve(qs.at);const r=new Fb(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Ob)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ob):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,d,g,_,w;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,d=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,g=Date.now(),this.removeTargets(e,r,t))).next(O=>(l=O,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(w=Date.now(),L0()<=hs.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${i} in `+(g-d)+`ms\n\tRemoved ${l} targets in `+(_-g)+`ms\n\tRemoved ${O} documents in `+(w-_)+`ms\nTotal Duration: ${w-A}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:O})))}}class Vb{constructor(e,t){this.db=e,this.garbageCollector=new oT(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return mf(e,r)}removeReference(e,t,r){return mf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return mf(e,t)}Gn(e,t){return function(r,i){let l=!1;return ay(r).tt(d=>iT(r,d,i).next(g=>(g&&(l=!0),he.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(d,g)=>{if(g<=t){const _=this.Gn(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,jt.min()),Ys(e).delete([0,Ns(d.path)])))});i.push(_)}}).next(()=>he.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return mf(e,t)}Kn(e,t){const r=Ys(e);let i,l=qs.at;return r.Z({index:"documentTargetsIndex"},([d,g],{path:_,sequenceNumber:w})=>{0===d?(l!==qs.at&&t(new et(Il(i)),l),l=w,i=_):l=qs.at}).next(()=>{l!==qs.at&&t(new et(Il(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mf(n,e){return Ys(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ns(e.path),sequenceNumber:r}));var r}class Bd{constructor(){this.changes=new mc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aT{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return wu(e).put(r)}removeEntry(e,t,r){return wu(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],bg(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=rr.newInvalidDocument(t);return wu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Tg(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:rr.newInvalidDocument(t)};return wu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Tg(t))},(i,l)=>{r={document:this.jn(t,l),size:Cg(l)}}).next(()=>r)}getEntries(e,t){let r=Ss();return this.zn(e,t,(i,l)=>{const d=this.jn(i,l);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Ss(),i=new Lr(et.comparator);return this.zn(e,t,(l,d)=>{const g=this.jn(l,d);r=r.insert(l,g),i=i.insert(l,Cg(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return he.resolve();let i=new Vn(TE);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(Tg(i.first()),Tg(i.last())),d=i.getIterator();let g=d.getNext();return wu(e).Z({index:"documentKeyIndex",range:l},(_,w,A)=>{const O=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&TE(g,O)<0;)r(g,null),g=d.getNext();g&&g.isEqual(O)&&(r(g,w),g=d.hasNext()?d.getNext():null),g?A.j(Tg(g)):A.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),bg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wu(e).W(IDBKeyRange.bound(i,l,!0)).next(d=>{let g=Ss();for(const _ of d){const w=this.jn(et.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);g=g.insert(w.key,w)}return g})}getAllFromCollectionGroup(e,t,r,i){let l=Ss();const d=Bb(t,r),g=Bb(t,yo.max());return wu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(_,w,A)=>{const O=this.jn(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(O.key,O),l.size===i&&A.done()}).next(()=>l)}newChangeBuffer(e){return new jN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cT(e).get("remoteDocumentGlobalKey").next(t=>(Bt(!!t),t))}Qn(e,t){return cT(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function rT(n,e){let t;if(e.document)t=vb(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=Zs(e.noDocument.readTime);t=rr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return yt();{const r=et.fromSegments(e.unknownDocument.path),i=Zs(e.unknownDocument.version);t=rr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Jn(r[0],r[1]);return jt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(jt.min()))return r}return rr.newInvalidDocument(e)}}function lT(n){return new aT(n)}class jN extends Bd{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new mc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Vn((l,d)=>Yt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const g=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,g.readTime)),d.isValidDocument()){const _=Sb(this.Yn.It,d);i=i.add(l.path.popLast()),r+=Cg(_)-g.size,t.push(this.Yn.addEntry(e,l,_))}else if(r-=g.size,this.trackRemovals){const _=Sb(this.Yn.It,d.convertToNoDocument(jt.min()));t.push(this.Yn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),he.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function cT(n){return ni(n,"remoteDocumentGlobal")}function wu(n){return ni(n,"remoteDocumentsV14")}function Tg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Bb(n,e){const t=e.documentKey.path.toArray();return[n,bg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function TE(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Yt(t[l],r[l]),i)return i;return i=Yt(t.length,r.length),i||(i=Yt(t[t.length-2],r[r.length-2]),i||Yt(t[t.length-1],r[r.length-1]))}class uT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ub{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&lf(r.mutation,i,Ks.empty(),Jn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Xt()){const i=Da();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let d=hg();return l.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Da();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Xt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,i){let l=Ss();const d=_u(),g=_u();return t.forEach((_,w)=>{const A=r.get(w.key);i.has(w.key)&&(void 0===A||A.mutation instanceof Sr)?l=l.insert(w.key,w):void 0!==A&&(d.set(w.key,A.mutation.getFieldMask()),lf(A.mutation,w,A.mutation.getFieldMask(),Jn.now()))}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((w,A)=>d.set(w,A)),t.forEach((w,A)=>{var O;return g.set(w,new uT(A,null!==(O=d.get(w))&&void 0!==O?O:null))}),g))}recalculateAndSaveOverlays(e,t){const r=_u();let i=new Lr((d,g)=>d-g),l=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let A=r.get(_)||Ks.empty();A=g.applyToLocalView(w,A),r.set(_,A);const O=(i.get(g.batchId)||Xt()).add(_);i=i.insert(g.batchId,O)})}).next(()=>{const d=[],g=i.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),w=_.key,A=_.value,O=db();A.forEach(j=>{if(!l.has(j)){const J=VI(t.get(j),r.get(j));null!==J&&O.set(j,J),l=l.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,O))}return he.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):sb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):he.resolve(Da());let g=-1,_=l;return d.next(w=>he.forEach(w,(A,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),l.get(A)?he.resolve():this.getBaseDocument(e,A,O).next(j=>{_=_.insert(A,j)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,_,w,Xt())).next(A=>({batchId:g,changes:q_(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=hg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=hg();return this.indexManager.getCollectionParents(e,i).next(d=>he.forEach(d,g=>{const _=(w=t,A=g.child(i),new Dl(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,A;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((A,O)=>{l=l.insert(A,O)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((g,_)=>{const w=_.getKey();null===i.get(w)&&(i=i.insert(w,rr.newInvalidDocument(w)))});let d=hg();return i.forEach((g,_)=>{const w=l.get(g);void 0!==w&&lf(w.mutation,_,Ks.empty(),Jn.now()),rf(t,_)&&(d=d.insert(g,_))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):he.resolve(rr.newInvalidDocument(t))}}class SE{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return he.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ni(r.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:ty(r.bundledQuery),readTime:Ni(r.readTime)}),he.resolve();var r}}class NE{constructor(){this.overlays=new Lr(et.comparator),this.es=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Da();return he.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=Da(),l=t.length+1,d=new et(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Lr((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let A=l.get(w.largestBatchId);null===A&&(A=Da(),l=l.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const g=Da(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,A)=>g.set(w,A)),!(g.size()>=i)););return he.resolve(g)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ey(t,r));let l=this.es.get(t);void 0===l&&(l=Xt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class jb{constructor(){this.ns=new Vn(Ai.ss),this.rs=new Vn(Ai.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ai(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ai(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new et(new bn([])),r=new Ai(t,e),i=new Ai(t,e+1),l=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new et(new bn([])),r=new Ai(t,e),i=new Ai(t,e+1);let l=Xt();return this.rs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ai(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ai{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return et.comparator(e.key,t.key)||Yt(e._s,t._s)}static os(e,t){return Yt(e._s,t._s)||et.comparator(e.key,t.key)}}class AE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Vn(Ai.ss)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const d=new J_(l,t,r,i);this.mutationQueue.push(d);for(const g of i)this.gs=this.gs.add(new Ai(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return he.resolve(d)}lookupMutationBatch(e,t){return he.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ai(t,0),i=new Ai(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],d=>{const g=this.ys(d._s);l.push(g)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(Yt);return t.forEach(i=>{const l=new Ai(i,0),d=new Ai(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],g=>{r=r.add(g._s)})}),he.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;et.isDocumentKey(l)||(l=l.child(""));const d=new Ai(new et(l),0);let g=new Vn(Yt);return this.gs.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(g=g.add(_._s)),!0)},d),he.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Bt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return he.forEach(t.mutations,i=>{const l=new Ai(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ai(t,0),i=this.gs.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return he.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $b{constructor(e){this.Es=e,this.docs=new Lr(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(t))}getEntries(e,t){let r=Ss();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():rr.newInvalidDocument(i))}),he.resolve(r)}getAllFromCollection(e,t,r){let i=Ss();const l=new et(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:g,value:{document:_}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||F_(j0(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return he.resolve(i)}getAllFromCollectionGroup(e,t,r,i){yt()}As(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $N(this)}getSize(e){return he.resolve(this.size)}}class $N extends Bd{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class ME{constructor(e){this.persistence=e,this.Rs=new mc(t=>fu(t),tf),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new jb,this.targetCount=0,this.vs=Ea.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),he.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ea(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Dn(t),he.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),he.waitFor(l).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.Ps.containsKey(t))}}class ly{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new qs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ME(this),this.indexManager=new wE,this.remoteDocumentCache=new $b(r=>this.referenceDelegate.xs(r)),this.It=new Tb(t),this.Ns=new SE(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new AE(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new dT(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return he.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class dT extends $0{constructor(e){super(),this.currentSequenceNumber=e}}class cy{constructor(e){this.persistence=e,this.Fs=new jb,this.$s=null}static Bs(e){return new cy(e)}get Ls(){if(this.$s)return this.$s;throw yt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),he.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ls,r=>{const i=et.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,jt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return he.or([()=>he.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class hT{constructor(e){this.It=e}$(e,t,r,i){const l=new tg("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lE,{unique:!0}),g.createObjectStore("documentMutations"),xE(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=he.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),xE(e)),d=d.next(()=>function(g){const _=g.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(g,_){return _.store("mutations").W().next(w=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lE,{unique:!0});const A=_.store("mutations"),O=w.map(j=>A.put(j));return he.waitFor(O)})}(e,l))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(l))),r<6&&i>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(l))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(l))),r<11&&i>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(g){const _=g.createObjectStore("documentOverlays",{keyPath:Wo});_.createIndex("collectionPathOverlayIndex",tT,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Eb,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(g){const _=g.createObjectStore("remoteDocumentsV14",{keyPath:Z1});_.createIndex("documentKeyIndex",Y1),_.createIndex("collectionGroupIndex",El)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&i>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:X1}).createIndex("sequenceNumberIndex",dE,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:hE}).createIndex("documentKeyIndex",eT,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Cg(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>he.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(g=>he.forEach(g,_=>{Bt(_.userId===l.userId);const w=bc(this.It,_);return CE(e,l.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((d,g)=>{const _=new bn(d),w=[0,Ns(_)];l.push(t.get(w).next(A=>A?he.resolve():t.put({targetId:0,path:Ns(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>he.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:J1});const r=t.store("collectionParents"),i=new xb,l=d=>{if(i.add(d)){const g=d.lastSegment(),_=d.popLast();return r.put({collectionId:g,parent:Ns(_)})}};return t.store("remoteDocuments").Z({X:!0},(d,g)=>{const _=new bn(d);return l(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,g,_],w)=>{const A=Il(g);return l(A.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=Vd(i),d=Cl(this.It,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,d)=>{const g=t.store("remoteDocumentsV14"),_=(w=d,w.document?new et(bn.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):yt()).path.toArray();var w;const A={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(g.put(A))}).next(()=>he.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=lT(this.It),l=new ly(cy.Bs,this.It.re);return r.W().next(d=>{const g=new Map;return d.forEach(_=>{var w;let A=null!==(w=g.get(_.userId))&&void 0!==w?w:Xt();bc(this.It,_).keys().forEach(O=>A=A.add(O)),g.set(_.userId,A)}),he.forEach(g,(_,w)=>{const A=new fi(w),O=ny.oe(this.It,A),j=l.getIndexManager(A),J=oy.oe(A,this.It,j,l.referenceDelegate);return new Ub(i,J,O,j).recalculateAndSaveOverlaysForDocumentKeys(new Cb(t,qs.at),_).next()})})}}function xE(n){n.createObjectStore("targetDocuments",{keyPath:Q1}).createIndex("documentTargetsIndex",uE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cE,{unique:!0}),n.createObjectStore("targetGlobal")}const Hb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gb{constructor(e,t,r,i,l,d,g,_,w,A,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=g,this.Js=w,this.Ys=A,this.Xs=O,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=j=>Promise.resolve(),!Gb.C())throw new je(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vb(this,i),this.ii=t+"main",this.It=new Tb(_),this.ri=new Ho(this.ii,this.Xs,new hT(this.It)),this.Cs=new sT(this.referenceDelegate,this.It),this.remoteDocumentCache=lT(this.It),this.Ns=new _E,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===A&&qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(ye.FAILED_PRECONDITION,Hb);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new qs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Se.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(au(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Sg(e).get("owner").next(t=>he.resolve(this.mi(t)))}gi(e){return uy(e).delete(this.clientId)}yi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ni(r,"clientMetadata");return i.W().next(l=>{const d=e.Ii(l,18e5),g=l.filter(_=>-1===d.indexOf(_));return he.forEach(g,_=>i.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?he.resolve(!0):Sg(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new je(ye.FAILED_PRECONDITION,Hb);return!1}}return!(!this.networkEnabled||!this.inForeground)||uy(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Cb(t,qs.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>uy(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return oy.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new IE(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return ny.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?nT:14===d?Q_:13===d?pE:12===d?zo:11===d?fE:void yt();var d;let g;return this.ri.runTransaction(e,i,l,_=>(g=new Cb(_,this.Ss?this.Ss.next():qs.at),"readwrite-primary"===t?this.fi(g).next(w=>!!w||this.di(g)).next(w=>{if(!w)throw qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new je(ye.FAILED_PRECONDITION,dI);return r(g)}).next(w=>this.wi(g).next(()=>w)):this.Vi(g).next(()=>r(g)))).then(_=>(g.raiseOnCommittedEvent(),_))}Vi(e){return Sg(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new je(ye.FAILED_PRECONDITION,Hb)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sg(e).put("owner",t)}static C(){return Ho.C()}_i(e){const t=Sg(e);return t.get("owner").next(r=>this.mi(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(qr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,fn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){qr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sg(n){return ni(n,"owner")}function uy(n){return ni(n,"clientMetadata")}function Wb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class zb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Xt(),i=Xt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new zb(e,t.fromCache,r,i)}}class RE{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(AI(t))return he.resolve(null);let r=_i(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=j_(t,null,"F"),r=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Xt(...l);return this.Ni.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.Fi(t,g);return this.$i(t,w,d,_.readTime)?this.ki(e,j_(t,null,"F")):this.Bi(e,w,t,_)}))})))}Oi(e,t,r,i){return AI(t)||i.isEqual(jt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,i)?this.Mi(e,t):(L0()<=hs.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nf(t)),this.Bi(e,d,t,uI(i,-1)))})}Fi(e,t){let r=new Vn(RI(e));return t.forEach((i,l)=>{rf(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return L0()<=hs.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",nf(t)),this.Ni.getDocumentsMatchingQuery(e,t,yo.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class fT{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Lr(Yt),this.qi=new mc(l=>fu(l),tf),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ub(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function OE(n,e,t,r){return new fT(n,e,t,r)}function kE(n,e){return qb.apply(this,arguments)}function qb(){return qb=(0,Se.Z)(function*(n,e){const t=rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],g=[];let _=Xt();for(const w of i){d.push(w.batchId);for(const A of w.mutations)_=_.add(A.key)}for(const w of l){g.push(w.batchId);for(const A of w.mutations)_=_.add(A.key)}return t.localDocuments.getDocuments(r,_).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:g}))})})}),qb.apply(this,arguments)}function pT(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,_,w){const A=_.batch,O=A.keys();let j=he.resolve();return O.forEach(J=>{j=j.next(()=>w.getEntry(g,J)).next(oe=>{const ve=_.docVersions.get(J);Bt(null!==ve),oe.version.compareTo(ve)<0&&(A.applyToRemoteDocument(oe,_),oe.isValidDocument()&&(oe.setReadTime(_.commitVersion),w.addEntry(oe)))})}),j.next(()=>d.mutationQueue.removeMutationBatch(g,A))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=Xt();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(g=g.add(d.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function PE(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function gT(n,e){const t=rt(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const g=[];e.targetChanges.forEach((A,O)=>{const j=i.get(O);if(!j)return;g.push(t.Cs.removeMatchingKeys(l,A.removedDocuments,O).next(()=>t.Cs.addMatchingKeys(l,A.addedDocuments,O)));let J=j.withSequenceNumber(l.currentSequenceNumber);var oe,ve,Re;e.targetMismatches.has(O)?J=J.withResumeToken(mi.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):A.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(A.resumeToken,r)),i=i.insert(O,J),ve=J,Re=A,(0===(oe=j).resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||Re.addedDocuments.size+Re.modifiedDocuments.size+Re.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(l,J))});let _=Ss(),w=Xt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,A))}),g.push(FE(l,d,e.documentUpdates).next(A=>{_=A.Wi,w=A.zi})),!r.isEqual(jt.min())){const A=t.Cs.getLastRemoteSnapshotVersion(l).next(O=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(A)}return he.waitFor(g).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,w)).next(()=>_)}).then(l=>(t.Ui=i,l))}function FE(n,e,t){let r=Xt(),i=Xt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Ss();return t.forEach((g,_)=>{const w=l.get(g);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(g)),_.isNoDocument()&&_.version.isEqual(jt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):He("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",_.version)}),{Wi:d,zi:i}})}function s(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function o(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,he.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new yc(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function a(n,e,t){return c.apply(this,arguments)}function c(){return c=(0,Se.Z)(function*(n,e,t){const r=rt(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!au(d))throw d;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),c.apply(this,arguments)}function h(n,e,t){const r=rt(n);let i=jt.min(),l=Xt();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,_,w){const A=rt(g),O=A.qi.get(w);return void 0!==O?he.resolve(A.Ui.get(O)):A.Cs.getTargetData(_,w)}(r,d,_i(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,g.targetId).next(_=>{l=_})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:jt.min(),t?l:Xt())).next(g=>(D(r,xI(e),g),{documents:g,Hi:l})))}function p(n,e){const t=rt(n),r=rt(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(d=>d?d.target:null))}function v(n,e){const t=rt(n),r=t.Ki.get(e)||jt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,uI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(D(t,e,i),i))}function D(n,e,t){let r=n.Ki.get(e)||jt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function M(){return M=(0,Se.Z)(function*(n,e,t,r){const i=rt(n);let l=Xt(),d=Ss();for(const w of t){const A=e.Ji(w.metadata.name);w.document&&(l=l.add(A));const O=e.Yi(w);O.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(A,O)}const g=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield o(i,(w=r,_i(wl(bn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>FE(w,g,d).next(A=>(g.apply(w),A)).next(A=>i.Cs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Cs.addMatchingKeys(w,l,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,A.Wi,A.zi)).next(()=>A.Wi)))}),M.apply(this,arguments)}function F(n,e){return U.apply(this,arguments)}function U(){return U=(0,Se.Z)(function*(n,e,t=Xt()){const r=yield o(n,_i(ty(e.bundledQuery))),i=rt(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Ni(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(l,e);const g=r.withResumeToken(mi.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(g.targetId,g),i.Cs.updateTargetData(l,g).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),U.apply(this,arguments)}function Y(n,e){return`firestore_clients_${n}_${e}`}function se(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Me(n,e){return`firestore_targets_${n}_${e}`}class Ge{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new je(i.error.code,i.error.message))),d?new Ge(e,t,i.state,l):(qr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Je{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new je(r.error.code,r.error.message))),l?new Je(e,r.state,i):(qr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _t{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=uf();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Z0(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new _t(e,l):(qr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Rt{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Rt(t.clientId,t.onlineState):(qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ue{constructor(){this.activeTargetIds=uf()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lt{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Lr(Yt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=Y(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Ue),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(Y(e.persistenceKey,i));if(l){const d=_t.Zi(i,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Me(this.persistenceKey,e));if(r){const i=Je.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Me(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let d=qs.at;if(null!=l)try{const g=JSON.parse(l);Bt("number"==typeof g),d=g}catch(g){qr("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);i!==qs.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new Ge(this.currentUser,e,t,r),l=se(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=se(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Me(this.persistenceKey,e),l=new Je(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return _t.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return Ge.Zi(new fi(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Je.Zi(i,t)}yr(e){return Rt.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),d=[],g=[];return l.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{l.has(_)||g.push(_)}),this.syncEngine.Br(d,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=uf();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Sn{constructor(){this.Lr=new Ue,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ue,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fr{qr(e){}shutdown(){}}class Iu{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Kb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zb{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Yb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const d=this.ho(e,t);He("RestConnection","Sending: ",d,r);const g={};return this.lo(g,i,l),this.fo(e,d,g,r).then(_=>(He("RestConnection","Received: ",_),_),_=>{throw Ad("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}_o(e,t,r,i,l,d){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Kb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,d)=>{const g=new rI;g.listenOnce(kN.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hr.NO_ERROR:const w=g.getResponseJson();He("Connection","XHR received:",JSON.stringify(w)),l(w);break;case hr.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),d(new je(ye.DEADLINE_EXCEEDED,"Request time out"));break;case hr.HTTP_ERROR:const A=g.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',A,"response text:",g.getResponseText()),A>0){const O=g.getResponseJson().error;if(O&&O.status&&O.message){const j=function(J){const oe=J.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(oe)>=0?oe:ye.UNKNOWN}(O.status);d(new je(j,O.message))}else d(new je(ye.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new je(ye.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);g.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=x_(),d=R_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new M1({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const _=i.join("");He("Connection","Creating WebChannel: "+_,g);const w=l.createWebChannel(_,g);let A=!1,O=!1;const j=new Zb({Hr:oe=>{O?He("Connection","Not sending because WebChannel is closed:",oe):(A||(He("Connection","Opening WebChannel transport."),w.open(),A=!0),He("Connection","WebChannel sending:",oe),w.send(oe))},Jr:()=>w.close()}),J=(oe,ve,Re)=>{oe.listen(ve,st=>{try{Re(st)}catch(ut){setTimeout(()=>{throw ut},0)}})};return J(w,Zp.EventType.OPEN,()=>{O||He("Connection","WebChannel transport opened.")}),J(w,Zp.EventType.CLOSE,()=>{O||(O=!0,He("Connection","WebChannel transport closed"),j.io())}),J(w,Zp.EventType.ERROR,oe=>{O||(O=!0,Ad("Connection","WebChannel transport errored:",oe),j.io(new je(ye.UNAVAILABLE,"The operation could not be completed")))}),J(w,Zp.EventType.MESSAGE,oe=>{var ve;if(!O){const Re=oe.data[0];Bt(!!Re);const st=Re,ut=st.error||(null===(ve=st[0])||void 0===ve?void 0:ve.error);if(ut){He("Connection","WebChannel received error:",ut);const St=ut.status;let lt=function(ft){const Qt=Kr[ft];if(void 0!==Qt)return z_(Qt)}(St),ot=ut.message;void 0===lt&&(lt=ye.INTERNAL,ot="Unknown error status: "+St+" with message "+ut.message),O=!0,j.io(new je(lt,ot)),w.close()}else He("Connection","WebChannel received:",Re),j.ro(Re)}}),J(d,nI.STAT_EVENT,oe=>{oe.stat===O_.PROXY?He("Connection","Detected buffering proxy"):oe.stat===O_.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.so()},0),j}}function dy(){return typeof window<"u"?window:null}function _f(){return typeof document<"u"?document:null}function Ud(n){return new YI(n,!0)}class Ng{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class hy{constructor(e,t,r,i,l,d,g,_){this.Hs=e,this.vo=r,this.Vo=i,this.So=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Ng(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Se.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Se.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new je(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,Se.Z)(function*(){e.state=0,e.start()}))}jo(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qb extends hy{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function tE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:yt(),i=e.targetChange.targetIds||[],l=function(_,w){return _.gt?(Bt(void 0===w||"string"==typeof w),mi.fromBase64String(w||"")):(Bt(void 0===w||w instanceof Uint8Array),mi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const w=void 0===_.code?ye.UNKNOWN:z_(_.code);return new je(w,_.message||"")}(d);t=new fb(r,i,l,g||null)}else if("documentChange"in e){const r=e.documentChange,i=Ia(n,r.document.name),l=Ni(r.document.updateTime),d=new os({mapValue:{fields:r.document.fields}}),g=rr.newFoundDocument(i,l,d);t=new pg(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=Ia(n,r.document),l=r.readTime?Ni(r.readTime):jt.min(),d=rr.newNoDocument(i,l);t=new pg([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Ia(n,r.document);t=new pg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return yt();{const r=e.filter,l=new HI(r.count||0);t=new K_(r.targetId,l)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return jt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?jt.min():l.readTime?Ni(l.readTime):jt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=df(this.It),t.addTarget=function(i,l){let d;const g=l.target;return d=ig(g)?{documents:nE(i,g)}:{query:Db(i,g)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=gb(i,l.resumeToken):l.snapshotVersion.compareTo(jt.min())>0&&(d.readTime=gg(i,l.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function z1(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=df(this.It),t.removeTarget=e,this.Lo(t)}}class kx extends hy{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function W1(n,e){return n&&n.length>0?(Bt(void 0!==e),n.map(t=>function(r,i){let l=Ni(r.updateTime?r.updateTime:i);return l.isEqual(jt.min())&&(l=Ni(i)),new LI(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.tu(r,t)}return Bt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=df(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_g(this.It,r))};this.Lo(t)}}class Px extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new je(ye.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.So._o(e,t,r,l,d,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(ye.UNKNOWN,l.toString())})}terminate(){this.su=!0}}class Lx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(qr(t),this.uu=!1):He("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Vx{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.qr(g=>{r.enqueueAndForget((0,Se.Z)(function*(){var _;jd(d)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Se.Z)(function*(w){const A=rt(w);A.wu.add(4),yield fy(A),A.yu.set("Unknown"),A.wu.delete(4),yield Jb(A)}),function(w){return _.apply(this,arguments)})(d))}))}),this.yu=new Lx(r,i)}}function Jb(n){return _T.apply(this,arguments)}function _T(){return _T=(0,Se.Z)(function*(n){if(jd(n))for(const e of n.mu)yield e(!0)}),_T.apply(this,arguments)}function fy(n){return yT.apply(this,arguments)}function yT(){return yT=(0,Se.Z)(function*(n){for(const e of n.mu)yield e(!1)}),yT.apply(this,arguments)}function LE(n,e){const t=rt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),DT(t)?bT(t):gy(t).Oo()&&vT(t,e))}function Xb(n,e){const t=rt(n),r=gy(t);t._u.delete(e),r.Oo()&&HN(t,e),0===t._u.size&&(r.Oo()?r.$o():jd(t)&&t.yu.set("Unknown"))}function vT(n,e){n.pu.Mt(e.targetId),gy(n).Ho(e)}function HN(n,e){n.pu.Mt(e),gy(n).Jo(e)}function bT(n){n.pu=new BN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),gy(n).start(),n.yu.cu()}function DT(n){return jd(n)&&!gy(n).ko()&&n._u.size>0}function jd(n){return 0===rt(n).wu.size}function GN(n){n.pu=void 0}function Bx(n){return wT.apply(this,arguments)}function wT(){return wT=(0,Se.Z)(function*(n){n._u.forEach((e,t)=>{vT(n,e)})}),wT.apply(this,arguments)}function Ux(n,e){return IT.apply(this,arguments)}function IT(){return IT=(0,Se.Z)(function*(n,e){GN(n),DT(n)?(n.yu.lu(e),bT(n)):n.yu.set("Unknown")}),IT.apply(this,arguments)}function jx(n,e,t){return ET.apply(this,arguments)}function ET(){return ET=(0,Se.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof fb&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(i,l){const d=l.cause;for(const g of l.targetIds)i._u.has(g)&&(yield i.remoteSyncer.rejectListen(g,d),i._u.delete(g),i.pu.removeTarget(g))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield VE(n,r)}else if(e instanceof pg?n.pu.Gt(e):e instanceof K_?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(jt.min()))try{const r=yield PE(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.pu.te(l);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=i._u.get(_);w&&i._u.set(_,w.withResumeToken(g.resumeToken,l))}}),d.targetMismatches.forEach(g=>{const _=i._u.get(g);if(!_)return;i._u.set(g,_.withResumeToken(mi.EMPTY_BYTE_STRING,_.snapshotVersion)),HN(i,g);const w=new yc(_.target,g,1,_.sequenceNumber);vT(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield VE(n,r)}var r}),ET.apply(this,arguments)}function VE(n,e,t){return CT.apply(this,arguments)}function CT(){return CT=(0,Se.Z)(function*(n,e,t){if(!au(e))throw e;n.wu.add(1),yield fy(n),n.yu.set("Offline"),t||(t=()=>PE(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Jb(n)}))}),CT.apply(this,arguments)}function WN(n,e){return e().catch(t=>VE(n,t,e))}function py(n){return TT.apply(this,arguments)}function TT(){return TT=(0,Se.Z)(function*(n){const e=rt(n),t=yf(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;$x(e);)try{const i=yield s(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,Hx(e,i)}catch(i){yield VE(e,i)}zN(e)&&qN(e)}),TT.apply(this,arguments)}function $x(n){return jd(n)&&n.du.length<10}function Hx(n,e){n.du.push(e);const t=yf(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function zN(n){return jd(n)&&!yf(n).ko()&&n.du.length>0}function qN(n){yf(n).start()}function Gx(n){return ST.apply(this,arguments)}function ST(){return ST=(0,Se.Z)(function*(n){yf(n).nu()}),ST.apply(this,arguments)}function Wx(n){return NT.apply(this,arguments)}function NT(){return NT=(0,Se.Z)(function*(n){const e=yf(n);for(const t of n.du)e.Zo(t.mutations)}),NT.apply(this,arguments)}function zx(n,e,t){return AT.apply(this,arguments)}function AT(){return AT=(0,Se.Z)(function*(n,e,t){const r=n.du.shift(),i=X_.from(r,e,t);yield WN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield py(n)}),AT.apply(this,arguments)}function qx(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,Se.Z)(function*(n,e){var t;e&&yf(n).Xo&&(yield(t=(0,Se.Z)(function*(r,i){if(GI(l=i.code)&&l!==ye.ABORTED){const d=r.du.shift();yf(r).Fo(),yield WN(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield py(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),zN(n)&&qN(n)}),MT.apply(this,arguments)}function KN(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,Se.Z)(function*(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=jd(t);t.wu.add(3),yield fy(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Jb(t)}),xT.apply(this,arguments)}function RT(n,e){return OT.apply(this,arguments)}function OT(){return OT=(0,Se.Z)(function*(n,e){const t=rt(n);e?(t.wu.delete(2),yield Jb(t)):e||(t.wu.add(2),yield fy(t),t.yu.set("Unknown"))}),OT.apply(this,arguments)}function gy(n){return n.Iu||(n.Iu=function(e,t,r){const i=rt(e);return i.iu(),new Qb(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Bx.bind(null,n),Zr:Ux.bind(null,n),zo:jx.bind(null,n)}),n.mu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Iu.Fo(),DT(n)?bT(n):n.yu.set("Unknown")):(yield n.Iu.stop(),GN(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function yf(n){return n.Tu||(n.Tu=function(e,t,r){const i=rt(e);return i.iu(),new kx(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Gx.bind(null,n),Zr:qx.bind(null,n),eu:Wx.bind(null,n),tu:zx.bind(null,n)}),n.mu.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Tu.Fo(),yield py(n)):(yield n.Tu.stop(),n.du.length>0&&(He("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class kT{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,g=new kT(e,t,d,i,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function my(n,e){if(qr("AsyncQueue",`${e}: ${n}`),au(n))return new je(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class _y{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=hg(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new _y(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _y)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new _y;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ZN{constructor(){this.Eu=new Lr(et.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):yt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class yy{constructor(e,t,r,i,l,d,g,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new yy(e,t,_y.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Kx{constructor(){this.Ru=void 0,this.listeners=[]}}class Zx{constructor(){this.queries=new mc(e=>MI(e),cg),this.onlineState="Unknown",this.bu=new Set}}function PT(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,Se.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new Kx),i)try{l.Ru=yield t.onListen(r)}catch(d){const g=my(d,`Initialization of query '${nf(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.vu(l.Ru)&&BT(t)}),FT.apply(this,arguments)}function LT(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,Se.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),VT.apply(this,arguments)}function Yx(n,e){const t=rt(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const g of d.listeners)g.vu(i)&&(r=!0);d.Ru=i}}r&&BT(t)}function Qx(n,e,t){const r=rt(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function BT(n){n.bu.forEach(e=>{e.next()})}class UT{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new yy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=yy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}class Jx{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class YN{constructor(e){this.It=e}Ji(e){return Ia(this.It,e)}Yi(e){return e.metadata.exists?vb(this.It,e.document,!1):rr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ni(e)}}class Xx{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QN(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=bn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new YN(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const g=(t.get(d)||Xt()).add(l);t.set(d,g)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function C(n,e,t,r){return M.apply(this,arguments)}(e.localStore,new YN(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield F(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function QN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class JN{constructor(e){this.key=e}}class XN{constructor(e){this.key=e}}class eA{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Xt(),this.mutatedKeys=Xt(),this.Gu=RI(e),this.Qu=new _y(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new ZN,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,g=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,O)=>{const j=i.get(A),J=rf(this.query,O)?O:null,oe=!!j&&this.mutatedKeys.has(j.key),ve=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Re=!1;j&&J?j.data.isEqual(J.data)?oe!==ve&&(r.track({type:3,doc:J}),Re=!0):this.Hu(j,J)||(r.track({type:2,doc:J}),Re=!0,(_&&this.Gu(J,_)>0||w&&this.Gu(J,w)<0)&&(g=!0)):!j&&J?(r.track({type:0,doc:J}),Re=!0):j&&!J&&(r.track({type:1,doc:j}),Re=!0,(_||w)&&(g=!0)),Re&&(J?(d=d.add(J),l=ve?l.add(A):l.delete(A)):(d=d.delete(A),l=l.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),l=l.delete(A.key),r.track({type:1,doc:A})}return{Qu:d,zu:r,$i:g,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((w,A)=>function(O,j){const J=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return J(O)-J(j)}(w.type,A.type)||this.Gu(w.doc,A.doc)),this.Ju(r);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,_=g!==this.qu;return this.qu=g,0!==l.length||_?{snapshot:new yy(this.query,e.Qu,i,l,e.mutatedKeys,0===g,_,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ZN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Xt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new XN(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new JN(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Xt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return yy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class eR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tR{constructor(e){this.key=e,this.nc=!1}}class nR{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new mc(g=>MI(g),cg),this.rc=new Map,this.oc=new Set,this.uc=new Lr(et.comparator),this.cc=new Map,this.ac=new jb,this.hc={},this.lc=new Map,this.fc=Ea.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function rR(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,Se.Z)(function*(n,e){const t=uS(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const d=yield o(t.localStore,_i(e));t.isPrimaryClient&&LE(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield $T(t,e,r,"current"===g)}return i}),jT.apply(this,arguments)}function $T(n,e,t,r){return HT.apply(this,arguments)}function HT(){return HT=(0,Se.Z)(function*(n,e,t,r){n._c=(A,O,j)=>{return(J=(0,Se.Z)(function*(oe,ve,Re,st){let ut=ve.view.Wu(Re);ut.$i&&(ut=yield h(oe.localStore,ve.query,!1).then(({documents:ot})=>ve.view.Wu(ot,ut)));const St=st&&st.targetChanges.get(ve.targetId),lt=ve.view.applyChanges(ut,oe.isPrimaryClient,St);return XT(oe,ve.targetId,lt.Xu),lt.snapshot}),function(oe,ve,Re,st){return J.apply(this,arguments)})(n,A,O,j);var J};const i=yield h(n.localStore,e,!0),l=new eA(e,i.Hi),d=l.Wu(i.documents),g=fg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(d,n.isPrimaryClient,g);XT(n,t,_.Xu);const w=new eR(e,t,l);return n.ic.set(e,w),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),_.snapshot}),HT.apply(this,arguments)}function iR(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,Se.Z)(function*(n,e){const t=rt(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!cg(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield a(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Xb(t.remoteStore,r.targetId),vy(t,r.targetId)}).catch(ou))):(vy(t,r.targetId),yield a(t.localStore,r.targetId,!0))}),GT.apply(this,arguments)}function WT(){return WT=(0,Se.Z)(function*(n,e,t){const r=dS(n);try{const i=yield function(l,d){const g=rt(l),_=Jn.now(),w=d.reduce((j,J)=>j.add(J.key),Xt());let A,O;return g.persistence.runTransaction("Locally write mutations","readwrite",j=>{let J=Ss(),oe=Xt();return g.Gi.getEntries(j,w).next(ve=>{J=ve,J.forEach((Re,st)=>{st.isValidDocument()||(oe=oe.add(Re))})}).next(()=>g.localDocuments.getOverlayedDocuments(j,J)).next(ve=>{A=ve;const Re=[];for(const st of d){const ut=$1(st,A.get(st.key).overlayedDocument);null!=ut&&Re.push(new Sr(st.key,ut,U1(ut.value.mapValue),or.exists(!0)))}return g.mutationQueue.addMutationBatch(j,_,Re,d)}).next(ve=>{O=ve;const Re=ve.applyToLocalDocumentSet(A,oe);return g.documentOverlayCache.saveOverlays(j,ve.batchId,Re)})}).then(()=>({batchId:O.batchId,changes:q_(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,g){let _=l.hc[l.currentUser.toKey()];_||(_=new Lr(Yt)),_=_.insert(d,g),l.hc[l.currentUser.toKey()]=_}(r,i.batchId,t),yield $d(r,i.changes),yield py(r.remoteStore)}catch(i){const l=my(i,"Failed to persist write");t.reject(l)}}),WT.apply(this,arguments)}function tA(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,Se.Z)(function*(n,e){const t=rt(n);try{const r=yield gT(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.cc.get(l);d&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?Bt(d.nc):i.removedDocuments.size>0&&(Bt(d.nc),d.nc=!1))}),yield $d(t,r,e)}catch(r){yield ou(r)}}),zT.apply(this,arguments)}function nA(n,e,t){const r=rt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,d)=>{const g=d.view.Pu(e);g.snapshot&&i.push(g.snapshot)}),function(l,d){const g=rt(l);g.onlineState=d;let _=!1;g.queries.forEach((w,A)=>{for(const O of A.listeners)O.Pu(d)&&(_=!0)}),_&&BT(g)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oR(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,Se.Z)(function*(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let d=new Lr(et.comparator);d=d.insert(l,rr.newNoDocument(l,jt.min()));const g=Xt().add(l),_=new wa(jt.min(),new Map,new Vn(Yt),d,g);yield tA(r,_),r.uc=r.uc.remove(l),r.cc.delete(e),eS(r)}else yield a(r.localStore,e,!1).then(()=>vy(r,e,t)).catch(ou)}),qT.apply(this,arguments)}function aR(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,Se.Z)(function*(n,e){const t=rt(n),r=e.batch.batchId;try{const i=yield pT(t.localStore,e);JT(t,r,null),QT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield $d(t,i)}catch(i){yield ou(i)}}),KT.apply(this,arguments)}function lR(n,e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Se.Z)(function*(n,e,t){const r=rt(n);try{const i=yield function(l,d){const g=rt(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,d).next(A=>(Bt(null!==A),w=A.keys(),g.mutationQueue.removeMutationBatch(_,A))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(r.localStore,e);JT(r,e,t),QT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield $d(r,i)}catch(i){yield ou(i)}}),ZT.apply(this,arguments)}function YT(){return YT=(0,Se.Z)(function*(n,e){const t=rt(n);jd(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=rt(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=my(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),YT.apply(this,arguments)}function QT(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function JT(n,e,t){const r=rt(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function vy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||rA(n,r)})}function rA(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Xb(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),eS(n))}function XT(n,e,t){for(const r of t)r instanceof JN?(n.ac.addReference(r.key,e),uR(n,r)):r instanceof XN?(He("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||rA(n,r.key)):yt()}function uR(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(He("SyncEngine","New document in limbo: "+t),n.oc.add(r),eS(n))}function eS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new et(bn.fromString(e)),r=n.fc.next();n.cc.set(r,new tR(t)),n.uc=n.uc.insert(t,r),LE(n.remoteStore,new yc(_i(wl(t.path)),r,2,qs.at))}}function $d(n,e,t){return tS.apply(this,arguments)}function tS(){return tS=(0,Se.Z)(function*(n,e,t){const r=rt(n),i=[],l=[],d=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,_)=>{d.push(r._c(_,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const A=zb.Ci(_.targetId,w);l.push(A)}}))}),yield Promise.all(d),r.sc.zo(i),yield(g=(0,Se.Z)(function*(_,w){const A=rt(_);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>he.forEach(w,j=>he.forEach(j.Si,J=>A.persistence.referenceDelegate.addReference(O,j.targetId,J)).next(()=>he.forEach(j.Di,J=>A.persistence.referenceDelegate.removeReference(O,j.targetId,J)))))}catch(O){if(!au(O))throw O;He("LocalStore","Failed to update sequence numbers: "+O)}for(const O of w){const j=O.targetId;if(!O.fromCache){const J=A.Ui.get(j),ve=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);A.Ui=A.Ui.insert(j,ve)}}}),function(_,w){return g.apply(this,arguments)})(r.localStore,l))}),tS.apply(this,arguments)}function dR(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,Se.Z)(function*(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield kE(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(g=>{g.reject(new je(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $d(t,r.ji)}var i}),nS.apply(this,arguments)}function hR(n,e){const t=rt(n),r=t.cc.get(e);if(r&&r.nc)return Xt().add(r.key);{let i=Xt();const l=t.rc.get(e);if(!l)return i;for(const d of l){const g=t.ic.get(d);i=i.unionWith(g.view.ju)}return i}}function fR(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,Se.Z)(function*(n,e){const t=rt(n),r=yield h(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&XT(t,e.targetId,i.Xu),i}),rS.apply(this,arguments)}function pR(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,Se.Z)(function*(n,e){const t=rt(n);return v(t.localStore,e).then(r=>$d(t,r))}),iS.apply(this,arguments)}function gR(n,e,t,r){return sS.apply(this,arguments)}function sS(){return sS=(0,Se.Z)(function*(n,e,t,r){const i=rt(n),l=yield function(d,g){const _=rt(d),w=rt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",A=>w.Tn(A,g).next(O=>O?_.localDocuments.getDocuments(A,O):he.resolve(null)))}(i.localStore,e);var g;null!==l?("pending"===t?yield py(i.remoteStore):"acknowledged"===t||"rejected"===t?(JT(i,e,r||null),QT(i,e),g=e,rt(rt(i.localStore).mutationQueue).An(g)):yt(),yield $d(i,l)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),sS.apply(this,arguments)}function oS(){return oS=(0,Se.Z)(function*(n,e){const t=rt(n);if(uS(t),dS(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield iA(t,r.toArray());t.dc=!0,yield RT(t.remoteStore,!0);for(const l of i)LE(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(vy(t,d),a(t.localStore,d,!0))),Xb(t.remoteStore,d)}),yield i,yield iA(t,r),function(l){const d=rt(l);d.cc.forEach((g,_)=>{Xb(d.remoteStore,_)}),d.ac.fs(),d.cc=new Map,d.uc=new Lr(et.comparator)}(t),t.dc=!1,yield RT(t.remoteStore,!1)}}),oS.apply(this,arguments)}function iA(n,e,t){return aS.apply(this,arguments)}function aS(){return aS=(0,Se.Z)(function*(n,e,t){const r=rt(n),i=[],l=[];for(const d of e){let g;const _=r.rc.get(d);if(_&&0!==_.length){g=yield o(r.localStore,_i(_[0]));for(const w of _){const A=r.ic.get(w),O=yield fR(r,A);O.snapshot&&l.push(O.snapshot)}}else{const w=yield p(r.localStore,d);g=yield o(r.localStore,w),yield $T(r,sA(w),d,!1)}i.push(g)}return r.sc.zo(l),i}),aS.apply(this,arguments)}function sA(n){return ib(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _R(n){const e=rt(n);return rt(rt(e.localStore).persistence).vi()}function yR(n,e,t,r){return lS.apply(this,arguments)}function lS(){return lS=(0,Se.Z)(function*(n,e,t,r){const i=rt(n);if(i.dc)return void He("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield v(i.localStore,xI(l[0])),g=wa.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield $d(i,d,g);break}case"rejected":yield a(i.localStore,e,!0),vy(i,e,r);break;default:yt()}}),lS.apply(this,arguments)}function vR(n,e,t){return cS.apply(this,arguments)}function cS(){return cS=(0,Se.Z)(function*(n,e,t){const r=uS(n);if(r.dc){for(const i of e){if(r.rc.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const l=yield p(r.localStore,i),d=yield o(r.localStore,l);yield $T(r,sA(l),d.targetId,!1),LE(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield a(r.localStore,i,!1).then(()=>{Xb(r.remoteStore,i),vy(r,i)}).catch(ou))}}),cS.apply(this,arguments)}function uS(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oR.bind(null,e),e.sc.zo=Yx.bind(null,e.eventManager),e.sc.wc=Qx.bind(null,e.eventManager),e}function dS(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lR.bind(null,e),e}class oA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.It=Ud(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return OE(this.persistence,new RE,e.initialUser,this.It)}yc(e){return new ly(cy.Bs,this.It)}gc(e){return new Sn}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class aA extends oA{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield dS(r.Ac.syncEngine),yield py(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return OE(this.persistence,new RE,e.initialUser,this.It)}Tc(e,t){return new Lb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new V1(t,this.persistence);return new L1(e.asyncQueue,r)}yc(e){const t=Wb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?As.withCacheSize(this.cacheSizeBytes):As.DEFAULT;return new Gb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,dy(),_f(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Sn}}class DR extends aA{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof Lt&&(r.sharedClientState.syncEngine={Fr:gR.bind(null,i),$r:yR.bind(null,i),Br:vR.bind(null,i),vi:_R.bind(null,i),Mr:pR.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,Se.Z)(function*(d){yield function mR(n,e){return oS.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(e){const t=dy();if(!Lt.C(t))throw new je(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Wb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lt(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class hS{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>nA(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=dR.bind(null,r.syncEngine),yield RT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zx}createDatastore(e){const t=Ud(e.databaseInfo.databaseId),r=new Yb(e.databaseInfo);return new Px(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=g=>nA(this.syncEngine,g,0),d=Iu.C()?new Iu:new fr,new Vx(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,g,_,w){const A=new nR(r,i,l,d,g,_);return w&&(A.dc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=rt(t);He("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield fy(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function fS(n,e,t){if(!t)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lA(n,e,t,r){if(!0===e&&!0===r)throw new je(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cA(n){if(!et.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uA(n){if(et.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":yt()}function wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=BE(n);throw new je(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dA(n,e){if(e<=0)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const hA=new Map;class fA{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new je(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new je(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,lA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eD{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new x1;switch(t.type){case"gapi":return new R1(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new je(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hA.get(e);t&&(He("ComponentProvider","Removing Datastore"),hA.delete(e),t.terminate())}(this),Promise.resolve()}}class Nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}}class Qs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class Eu extends Qs{constructor(e,t,r){super(e,t,wl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new et(e))}withConverter(e){return new Eu(this.firestore,e,this._path)}}function gA(n,e,...t){if(n=(0,fn.m9)(n),fS("collection","path",e),n instanceof eD){const r=bn.fromString(e,...t);return uA(r),new Eu(n,null,r)}{if(!(n instanceof Nr||n instanceof Eu))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return uA(r),new Eu(n.firestore,null,r)}}function UE(n,e,...t){if(n=(0,fn.m9)(n),1===arguments.length&&(e=k1.R()),fS("doc","path",e),n instanceof eD){const r=bn.fromString(e,...t);return cA(r),new Nr(n,null,new et(r))}{if(!(n instanceof Nr||n instanceof Eu))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return cA(r),new Nr(n.firestore,n instanceof Eu?n.converter:null,new et(r))}}function mA(n,e){return n=(0,fn.m9)(n),e=(0,fn.m9)(e),(n instanceof Nr||n instanceof Eu)&&(e instanceof Nr||e instanceof Eu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pS(n,e){return n=(0,fn.m9)(n),e=(0,fn.m9)(e),n instanceof Qs&&e instanceof Qs&&n.firestore===e.firestore&&cg(n._query,e._query)&&n.converter===e.converter}function _A(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class jE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class IR{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new pi,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new Jx(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Se.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class TR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new je(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Se.Z)(function*(l,d){const g=rt(l),_=df(g.It)+"/documents",w={documents:d.map(J=>mg(g.It,J))},A=yield g._o("BatchGetDocuments",_,w,d.length),O=new Map;A.forEach(J=>{const oe=function eE(n,e){return"found"in e?function(t,r){Bt(!!r.found);const i=Ia(t,r.found.name),l=Ni(r.found.updateTime),d=new os({mapValue:{fields:r.found.fields}});return rr.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Bt(!!r.missing),Bt(!!r.readTime);const i=Ia(t,r.missing),l=Ni(r.readTime);return rr.newNoDocument(i,l)}(n,e):yt()}(g.It,J);O.set(oe.key.toString(),oe)});const j=[];return d.forEach(J=>{const oe=O.get(J.toString());Bt(!!oe),j.push(oe)}),j}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=et.fromPath(i);e.mutations.push(new $I(l,e.precondition(l)))}),yield(r=(0,Se.Z)(function*(i,l){const d=rt(i),g=df(d.It)+"/documents",_={writes:l.map(w=>_g(d.It,w))};yield d.ao("Commit",g,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yt();t=jt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new je(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(jt.min())?or.exists(!1):or.updateTime(t):or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jt.min()))throw new je(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(t)}return or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class SR{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.No=new Ng(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,Se.Z)(function*(){const t=new TR(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!yl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!GI(t)}return!1}}class NR{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=fi.UNAUTHENTICATED,this.clientId=k1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Se.Z)(function*(g){He("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(He("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=my(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function yA(n,e){return gS.apply(this,arguments)}function gS(){return gS=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Se.Z)(function*(l){r.isEqual(l)||(yield kE(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),gS.apply(this,arguments)}function vA(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _S(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>KN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>KN(e.remoteStore,l)),n.onlineComponents=e}),mS.apply(this,arguments)}function _S(n){return yS.apply(this,arguments)}function yS(){return yS=(0,Se.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield yA(n,new oA)),n.offlineComponents}),yS.apply(this,arguments)}function $E(n){return vS.apply(this,arguments)}function vS(){return vS=(0,Se.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield vA(n,new hS)),n.onlineComponents}),vS.apply(this,arguments)}function bA(n){return _S(n).then(e=>e.persistence)}function HE(n){return _S(n).then(e=>e.localStore)}function bS(n){return $E(n).then(e=>e.remoteStore)}function DS(n){return $E(n).then(e=>e.syncEngine)}function by(n){return wS.apply(this,arguments)}function wS(){return wS=(0,Se.Z)(function*(n){const e=yield $E(n),t=e.eventManager;return t.onListen=rR.bind(null,e.syncEngine),t.onUnlisten=iR.bind(null,e.syncEngine),t}),wS.apply(this,arguments)}function wA(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,l,d,g,_){const w=new jE({next:O=>{l.enqueueAndForget(()=>LT(i,A));const j=O.docs.has(d);!j&&O.fromCache?_.reject(new je(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&g&&"server"===g.source?_.reject(new je(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),A=new UT(wl(d.path),w,{includeMetadataChanges:!0,ku:!0});return PT(i,A)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}function IA(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,l,d,g,_){const w=new jE({next:O=>{l.enqueueAndForget(()=>LT(i,A)),O.fromCache&&"server"===g.source?_.reject(new je(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),A=new UT(d,w,{includeMetadataChanges:!0,ku:!0});return PT(i,A)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}class FR{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new Ng(this,"async_queue_retry"),this.Wc=()=>{const t=_f();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=_f();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=_f();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new pi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!au(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,qr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=kT.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(i),i}zc(){this.Kc&&yt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function IS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class LR{constructor(){this._progressObserver={},this._taskCompletionResolver=new pi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ar extends eD{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new FR,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||EA(this),this._firestoreClient.terminate()}}function yi(n){return n._firestoreClient||EA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function EA(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new B1(n._databaseId,l,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new NR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function CA(n,e,t){const r=new pi;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield yA(n,t),yield vA(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(d=l).name?d.code===ye.FAILED_PRECONDITION||d.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;Ad("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function TA(n){if(n._initialized||n._terminated)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cu(mi.fromBase64String(e))}catch(t){throw new je(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cu(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new je(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ag{constructor(e){this._methodName=e}}class GE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const qR=/^__.*__$/;class KR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Sr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pd(e,this.data,t,this.fieldTransforms)}}class SA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Sr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class WE{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new WE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return KE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(NA(this.sa)&&qR.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ZR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Ud(e)}da(e,t,r,i=!1){return new WE({sa:e,methodName:t,fa:r,path:Fr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Mg(n){const e=n._freezeSettings(),t=Ud(n._databaseId);return new ZR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zE(n,e,t,r,i,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,i);SS("Data must be an object, but it was:",d,r);const g=xA(r,d);let _,w;if(l.merge)_=new Ks(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const A=[];for(const O of l.mergeFields){const j=NS(e,O,t);if(!d.contains(j))throw new je(ye.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);OA(A,j)||A.push(j)}_=new Ks(A),w=d.fieldTransforms.filter(O=>_.covers(O.field))}else _=null,w=d.fieldTransforms;return new KR(new os(g),_,w)}class tD extends Ag{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tD}}function AA(n,e,t){return new WE({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class ES extends Ag{_toFieldTransform(e){return new af(e.path,new gu)}isEqual(e){return e instanceof ES}}class YR extends Ag{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=AA(this,e,!0),r=this._a.map(l=>xg(l,t)),i=new mu(r);return new af(e.path,i)}isEqual(e){return this===e}}class QR extends Ag{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=AA(this,e,!0),r=this._a.map(l=>xg(l,t)),i=new gc(r);return new af(e.path,i)}isEqual(e){return this===e}}class JR extends Ag{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new sf(e.It,ab(e.It,this.wa));return new af(e.path,t)}isEqual(e){return this===e}}function CS(n,e,t,r){const i=n.da(1,e,t);SS("Data must be an object, but it was:",i,r);const l=[],d=os.empty();Rd(r,(_,w)=>{const A=qE(e,_,t);w=(0,fn.m9)(w);const O=i.ca(A);if(w instanceof tD)l.push(A);else{const j=xg(w,O);null!=j&&(l.push(A),d.set(A,j))}});const g=new Ks(l);return new SA(d,g,i.fieldTransforms)}function TS(n,e,t,r,i,l){const d=n.da(1,e,t),g=[NS(e,r,t)],_=[i];if(l.length%2!=0)throw new je(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<l.length;j+=2)g.push(NS(e,l[j])),_.push(l[j+1]);const w=[],A=os.empty();for(let j=g.length-1;j>=0;--j)if(!OA(w,g[j])){const J=g[j];let oe=_[j];oe=(0,fn.m9)(oe);const ve=d.ca(J);if(oe instanceof tD)w.push(J);else{const Re=xg(oe,ve);null!=Re&&(w.push(J),A.set(J,Re))}}const O=new Ks(w);return new SA(A,O,d.fieldTransforms)}function MA(n,e,t,r=!1){return xg(t,n.da(r?4:3,e))}function xg(n,e){if(RA(n=(0,fn.m9)(n)))return SS("Unsupported field value:",e,n),xA(n,e);if(n instanceof Ag)return function(t,r){if(!NA(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let g=xg(d,r.aa(l));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,fn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ab(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Jn.fromDate(t);return{timestampValue:gg(r.It,i)}}if(t instanceof Jn){const i=new Jn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gg(r.It,i)}}if(t instanceof GE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cu)return{bytesValue:gb(r.It,t._byteString)};if(t instanceof Nr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${BE(t)}`)}(n,e)}function xA(n,e){const t={};return fI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rd(n,(r,i)=>{const l=xg(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function RA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Jn||n instanceof GE||n instanceof Cu||n instanceof Nr||n instanceof Ag)}function SS(n,e,t){if(!RA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=BE(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function NS(n,e,t){if((e=(0,fn.m9)(e))instanceof Hd)return e._internalPath;if("string"==typeof e)return qE(n,e);throw KE("Field path arguments must be of type string or ",n,!1,void 0,t)}const XR=new RegExp("[~\\*/\\[\\]]");function qE(n,e,t){if(e.search(XR)>=0)throw KE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hd(...e.split("."))._internalPath}catch{throw KE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function KE(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new je(ye.INVALID_ARGUMENT,g+n+_)}function OA(n,e){return n.some(t=>t.isEqual(e))}class nD{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new eO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ZE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class eO extends nD{data(){return super.data()}}function ZE(n,e){return"string"==typeof e?qE(n,e):e instanceof Hd?e._internalPath:e._delegate._internalPath}function kA(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new je(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rD{}function vf(n,...e){for(const t of e)n=t._apply(n);return n}class tO extends rD{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Mg(e.firestore),r=function(i,l,d,g,_,w,A){let O;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){UA(A,w);const J=[];for(const oe of A)J.push(BA(g,i,oe));O={arrayValue:{values:J}}}else O=BA(g,i,A)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||UA(A,w),O=MA(d,"where",A,"in"===w||"not-in"===w);const j=Si.create(_,w,O);return function(J,oe){if(oe.dt()){const Re=Go(J);if(null!==Re&&!Re.isEqual(oe.field))throw new je(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${oe.field.toString()}'`);const st=lg(J);null!==st&&jA(0,oe.field,st)}const ve=function(Re,st){for(const ut of Re.filters)if(st.indexOf(ut.op)>=0)return ut.op;return null}(J,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(oe.op));if(null!==ve)throw new je(ye.INVALID_ARGUMENT,ve===oe.op?`Invalid query. You cannot use more than one '${oe.op.toString()}' filter.`:`Invalid query. You cannot use '${oe.op.toString()}' filters with '${ve.toString()}' filters.`)}(i,j),j}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Qs(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new Dl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class rO extends rD{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new je(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new je(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new ag(i,l);return function(g,_){if(null===lg(g)){const w=Go(g);null!==w&&jA(0,w,_.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Qs(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Dl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class PA extends rD{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Qs(e.firestore,e.converter,j_(e._query,this.Ia,this.Ta))}}class FA extends rD{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=VA(e,this.type,this.Ea,this.Aa);return new Qs(e.firestore,e.converter,(i=t,new Dl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class LA extends rD{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=VA(e,this.type,this.Ea,this.Aa);return new Qs(e.firestore,e.converter,(i=t,new Dl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function VA(n,e,t,r){if(t[0]=(0,fn.m9)(t[0]),t[0]instanceof nD)return function(i,l,d,g,_){if(!g)throw new je(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const A of pc(i))if(A.field.isKeyField())w.push(hu(l,g.key));else{const O=g.data.field(A.field);if(K0(O))throw new je(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const j=A.field.canonicalString();throw new je(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}w.push(O)}return new pu(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Mg(n.firestore);return function(l,d,g,_,w,A){const O=l.explicitOrderBy;if(w.length>O.length)throw new je(ye.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let J=0;J<w.length;J++){const oe=w[J];if(O[J].field.isKeyField()){if("string"!=typeof oe)throw new je(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof oe}`);if(!sb(l)&&-1!==oe.indexOf("/"))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${oe}' contains a slash.`);const ve=l.path.child(bn.fromString(oe));if(!et.isDocumentKey(ve))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Re=new et(ve);j.push(hu(d,Re))}else{const ve=MA(g,_,oe);j.push(ve)}}return new pu(j,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function BA(n,e,t){if("string"==typeof(t=(0,fn.m9)(t))){if(""===t)throw new je(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sb(e)&&-1!==t.indexOf("/"))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bn.fromString(t));if(!et.isDocumentKey(r))throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hu(n,new et(r))}if(t instanceof Nr)return hu(n,t._key);throw new je(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${BE(t)}.`)}function UA(n,e){if(!Array.isArray(n)||0===n.length)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new je(ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function jA(n,e,t){if(!t.isEqual(e))throw new je(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class AS{convertValue(e,t="none"){switch(vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yt()}}convertObject(e,t){const r={};return Rd(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new GE(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Od(e));default:return null}}convertTimestamp(e){const t=_l(e);return new Jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bn.fromString(e);Bt(Ib(r));const i=new fc(r.get(1),r.get(3)),l=new et(r.popFirst(5));return i.isEqual(t)||qr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function YE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class dO extends AS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}class Rg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gd extends nD{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ZE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class iD extends Gd{data(e={}){return super.data(e)}}class bf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Rg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new iD(this._firestore,this._userDataWriter,r.key,r,new Rg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new iD(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Rg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const g=new iD(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Rg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:hO(d.type),doc:g,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function $A(n,e){return n instanceof Gd&&e instanceof Gd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bf&&e instanceof bf&&n._firestore===e._firestore&&pS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Df extends AS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}function HA(n,e,t){n=wn(n,Nr);const r=wn(n.firestore,Ar),i=YE(n.converter,e,t);return Dy(r,[zE(Mg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,or.none())])}function GA(n,e,t,...r){n=wn(n,Nr);const i=wn(n.firestore,Ar),l=Mg(i);let d;return d="string"==typeof(e=(0,fn.m9)(e))||e instanceof Hd?TS(l,"updateDoc",n._key,e,t,r):CS(l,"updateDoc",n._key,e),Dy(i,[d.toMutation(n._key,or.exists(!0))])}function WA(n,...e){var t,r,i;n=(0,fn.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||IS(e[d])||(l=e[d],d++);const g={includeMetadataChanges:l.includeMetadataChanges};if(IS(e[d])){const O=e[d];e[d]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[d+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[d+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let _,w,A;if(n instanceof Nr)w=wn(n.firestore,Ar),A=wl(n._key.path),_={next:O=>{e[d]&&e[d](MS(w,n,O))},error:e[d+1],complete:e[d+2]};else{const O=wn(n,Qs);w=wn(O.firestore,Ar),A=O._query;const j=new Df(w);_={next:J=>{e[d]&&e[d](new bf(w,j,O,J))},error:e[d+1],complete:e[d+2]},kA(n._query)}return function(O,j,J,oe){const ve=new jE(oe),Re=new UT(j,ve,J);return O.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return PT(yield by(O),Re)})),()=>{ve.bc(),O.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return LT(yield by(O),Re)}))}}(yi(w),A,g,_)}function Dy(n,e){return function(t,r){const i=new pi;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function sR(n,e,t){return WT.apply(this,arguments)}(yield DS(t),r,i)})),i.promise}(yi(n),e)}function MS(n,e,t){const r=t.docs.get(e._key),i=new Df(n);return new Gd(n,i,e._key,r,new Rg(t.hasPendingWrites,t.fromCache),e.converter)}const wO={maxAttempts:5};class zA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Mg(e)}set(e,t,r){this._verifyNotCommitted();const i=wf(e,this._firestore),l=YE(i.converter,t,r),d=zE(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,or.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=wf(e,this._firestore);let d;return d="string"==typeof(t=(0,fn.m9)(t))||t instanceof Hd?TS(this._dataReader,"WriteBatch.update",l._key,t,r,i):CS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wf(e,this._firestore);return this._mutations=this._mutations.concat(new cf(t._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wf(n,e){if((n=(0,fn.m9)(n)).firestore!==e)throw new je(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class IO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Mg(e)}get(e){const t=wf(e,this._firestore),r=new dO(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return yt();const l=i[0];if(l.isFoundDocument())return new nD(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new nD(this._firestore,r,t._key,null,t.converter);throw yt()})}set(e,t,r){const i=wf(e,this._firestore),l=YE(i.converter,t,r),d=zE(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=wf(e,this._firestore);let d;return d="string"==typeof(t=(0,fn.m9)(t))||t instanceof Hd?TS(this._dataReader,"Transaction.update",l._key,t,r,i):CS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=wf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wf(e,this._firestore),r=new Df(this._firestore);return super.get(e).then(i=>new Gd(this._firestore,r,t._key,i._document,new Rg(!1,!1),t.converter))}}function xS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new je("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function KA(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function ZA(){if(!function pI(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Zh=ds.SDK_VERSION,(0,ds._registerComponent)(new Ma.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),d=new Ar(new aI(t.getProvider("auth-internal")),new O1(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new je(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(g.options.projectId,_)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,ds.registerVersion)(F0,"3.6.0",n),(0,ds.registerVersion)(F0,"3.6.0","esm2017")}();class sD{constructor(e){this._delegate=e}static fromBase64String(e){return ZA(),new sD(Cu.fromBase64String(e))}static fromUint8Array(e){return KA(),new sD(Cu.fromUint8Array(e))}toBase64(){return ZA(),this._delegate.toBase64()}toUint8Array(){return KA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RS(n){return function RO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class OO{enableIndexedDbPersistence(e,t){return function BR(n,e){TA(n=wn(n,Ar));const t=yi(n),r=n._freezeSettings(),i=new hS;return CA(t,i,new aA(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function UR(n){TA(n=wn(n,Ar));const e=yi(n),t=n._freezeSettings(),r=new hS;return CA(e,r,new DR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function jR(n){if(n._initialized&&!n._terminated)throw new je(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!Ho.C())return Promise.resolve();const i=r+"main";yield Ho.delete(i)}),function(r){return t.apply(this,arguments)})(Wb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class YA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ad("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function pA(n,e,t,r={}){var i;const l=(n=wn(n,eD))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Ad("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=fi.MOCK_USER;else{d=(0,fn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new je(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new fi(_)}n._authCredentials=new oI(new sI(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function HR(n){return function AR(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield bA(n),t=yield bS(n);return e.setNetworkEnabled(!0),function(r){const i=rt(r);return i.wu.delete(0),Jb(i)}(t)}))}(yi(n=wn(n,Ar)))}(this._delegate)}disableNetwork(){return function GR(n){return function MR(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield bA(n),t=yield bS(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(i){const l=rt(i);l.wu.add(0),yield fy(l),l.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(yi(n=wn(n,Ar)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,lA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $R(n){return function(e){const t=new pi;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function cR(n,e){return YT.apply(this,arguments)}(yield DS(e),t)})),t.promise}(yi(n=wn(n,Ar)))}(this._delegate)}onSnapshotsInSync(e){return function DO(n,e){return function OR(n,e){const t=new jE(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield by(n),i=t,rt(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield by(n),i=t,void rt(r).bu.delete(i);var r,i}))}}(yi(n=wn(n,Ar)),IS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wy(this,gA(this._delegate,e))}catch(t){throw vo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Tl(this,UE(this._delegate,e))}catch(t){throw vo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bo(this,function wR(n,e){if(n=wn(n,eD),fS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qs(n,null,(t=e,new Dl(bn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw vo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function EO(n,e,t){n=wn(n,Ar);const r=Object.assign(Object.assign({},wO),t);return function(i){if(i.maxAttempts<1)throw new je(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,d){const g=new pi;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const _=yield function DA(n){return $E(n).then(e=>e.datastore)}(i);new SR(i.asyncQueue,_,d,l,g).run()})),g.promise}(yi(n),i=>e(new IO(n,i)),r)}(this._delegate,t=>e(new QA(this,t)))}batch(){return yi(this._delegate),new JA(new zA(this._delegate,e=>Dy(this._delegate,e)))}loadBundle(e){return function WR(n,e){const t=yi(n=wn(n,Ar)),r=new LR;return function kR(n,e,t,r){const i=function(l,d){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return _A(_,w);if(_ instanceof ArrayBuffer)return _A(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new IR(_,d);var _}(t,Ud(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function bR(n,e,t){const r=rt(n);var i;(i=(0,Se.Z)(function*(l,d,g){try{const _=yield d.getMetadata();if(yield function(j,J){const oe=rt(j),ve=Ni(J.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",Re=>oe.Ns.getBundleMetadata(Re,J.id)).then(Re=>!!Re&&Re.createTime.compareTo(ve)>=0)}(l.localStore,_))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(j=_).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);g._updateProgress(QN(_));const w=new Xx(_,l.localStore,d.It);let A=yield d.mc();for(;A;){const j=yield w.Fu(A);j&&g._updateProgress(j),A=yield d.mc()}const O=yield w.complete();return yield $d(l,O.Lu,void 0),yield function(j,J){const oe=rt(j);return oe.persistence.runTransaction("Save bundle","readwrite",ve=>oe.Ns.saveBundleMetadata(ve,J))}(l.localStore,_),g._completeWith(O.progress),Promise.resolve(O.Bu)}catch(_){return Ad("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_),Promise.resolve(new Set)}var j}),function(l,d,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield DS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function zR(n,e){return function PR(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const i=rt(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield HE(n),e)}))}(yi(n=wn(n,Ar)),e).then(t=>t?new Qs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bo(this,t):null)}}class QE extends AS{constructor(e){super(),this.firestore=e}convertBytes(e){return new sD(new Cu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Tl.forKey(t,this.firestore,null)}}class QA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new QE(e)}get(e){const t=kg(e);return this._delegate.get(t).then(r=>new oD(this._firestore,new Gd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=kg(e);return r?(xS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=kg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=kg(e);return this._delegate.delete(t),this}}class JA{constructor(e){this._delegate=e}set(e,t,r){const i=kg(e);return r?(xS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=kg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=kg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Og{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new iD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new aD(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Og.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Og(e,new QE(e),t),i.set(t,l)),l}}Og.INSTANCES=new WeakMap;class Tl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new QE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Tl(t,new Nr(t._delegate,r,new et(e)))}static forKey(e,t,r){return new Tl(t,new Nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wy(this.firestore,gA(this._delegate,e))}catch(t){throw vo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,fn.m9)(e))instanceof Nr&&mA(this._delegate,e)}set(e,t){t=xS("DocumentReference.set",t);try{return t?HA(this._delegate,e,t):HA(this._delegate,e)}catch(r){throw vo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?GA(this._delegate,e):GA(this._delegate,e,t,...r)}catch(i){throw vo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function vO(n){return Dy(wn(n.firestore,Ar),[new cf(n._key,or.none())])}(this._delegate)}onSnapshot(...e){const t=XA(e),r=eM(e,i=>new oD(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return WA(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function pO(n){n=wn(n,Nr);const e=wn(n.firestore,Ar),t=yi(e),r=new Df(e);return function xR(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(i,l,d){try{const g=yield function(_,w){const A=rt(_);return A.persistence.runTransaction("read document","readonly",O=>A.localDocuments.getDocument(O,w))}(i,l);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new je(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=my(g,`Failed to get document '${l} from cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield HE(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Gd(e,r,n._key,i,new Rg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function gO(n){n=wn(n,Nr);const e=wn(n.firestore,Ar);return wA(yi(e),n._key,{source:"server"}).then(t=>MS(e,n,t))}(this._delegate):function fO(n){n=wn(n,Nr);const e=wn(n.firestore,Ar);return wA(yi(e),n._key).then(t=>MS(e,n,t))}(this._delegate),t.then(r=>new oD(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Tl(this.firestore,this._delegate.withConverter(e?Og.getInstance(this.firestore,e):null))}}function vo(n,e,t){return n.message=n.message.replace(e,t),n}function XA(n){for(const e of n)if("object"==typeof e&&!RS(e))return e;return{}}function eM(n,e){var t,r;let i;return i=RS(n[0])?n[0]:RS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class oD{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Tl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $A(this._delegate,e._delegate)}}class aD extends oD{data(e){const t=this._delegate.data(e);return function iI(n,e){n||yt()}(void 0!==t),t}}class bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new QE(e)}where(e,t,r){try{return new bo(this.firestore,vf(this._delegate,function nO(n,e,t){const r=e,i=ZE("where",n);return new tO(i,r,t)}(e,t,r)))}catch(i){throw vo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bo(this.firestore,vf(this._delegate,function iO(n,e="asc"){const t=e,r=ZE("orderBy",n);return new rO(r,t)}(e,t)))}catch(r){throw vo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bo(this.firestore,vf(this._delegate,function sO(n){return dA("limit",n),new PA("limit",n,"F")}(e)))}catch(t){throw vo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bo(this.firestore,vf(this._delegate,function oO(n){return dA("limitToLast",n),new PA("limitToLast",n,"L")}(e)))}catch(t){throw vo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bo(this.firestore,vf(this._delegate,function aO(...n){return new FA("startAt",n,!0)}(...e)))}catch(t){throw vo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bo(this.firestore,vf(this._delegate,function lO(...n){return new FA("startAfter",n,!1)}(...e)))}catch(t){throw vo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bo(this.firestore,vf(this._delegate,function cO(...n){return new LA("endBefore",n,!1)}(...e)))}catch(t){throw vo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bo(this.firestore,vf(this._delegate,function uO(...n){return new LA("endAt",n,!0)}(...e)))}catch(t){throw vo(t,"endAt()","Query.endAt()")}}isEqual(e){return pS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _O(n){n=wn(n,Qs);const e=wn(n.firestore,Ar),t=yi(e),r=new Df(e);return function RR(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(i,l,d){try{const g=yield h(i,l,!0),_=new eA(l,g.Hi),w=_.Wu(g.documents),A=_.applyChanges(w,!1);d.resolve(A.snapshot)}catch(g){const _=my(g,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield HE(n),e,t);var r})),t.promise}(t,n._query).then(i=>new bf(e,r,n,i))}(this._delegate):"server"===e?.source?function yO(n){n=wn(n,Qs);const e=wn(n.firestore,Ar),t=yi(e),r=new Df(e);return IA(t,n._query,{source:"server"}).then(i=>new bf(e,r,n,i))}(this._delegate):function mO(n){n=wn(n,Qs);const e=wn(n.firestore,Ar),t=yi(e),r=new Df(e);return kA(n._query),IA(t,n._query).then(i=>new bf(e,r,n,i))}(this._delegate),t.then(r=>new OS(this.firestore,new bf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=XA(e),r=eM(e,i=>new OS(this.firestore,new bf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return WA(this._delegate,t,r)}withConverter(e){return new bo(this.firestore,this._delegate.withConverter(e?Og.getInstance(this.firestore,e):null))}}class PO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new aD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class OS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new aD(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new PO(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new aD(this._firestore,r))})}isEqual(e){return $A(this._delegate,e._delegate)}}class wy extends bo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Tl(this.firestore,e):null}doc(e){try{return new Tl(this.firestore,void 0===e?UE(this._delegate):UE(this._delegate,e))}catch(t){throw vo(t,"doc()","CollectionReference.doc()")}}add(e){return function bO(n,e){const t=wn(n.firestore,Ar),r=UE(n),i=YE(n.converter,e);return Dy(t,[zE(Mg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Tl(this.firestore,t))}isEqual(e){return mA(this._delegate,e._delegate)}withConverter(e){return new wy(this.firestore,this._delegate.withConverter(e?Og.getInstance(this.firestore,e):null))}}function kg(n){return wn(n,Nr)}class kS{constructor(...e){this._delegate=new Hd(...e)}static documentId(){return new kS(Fr.keyField().canonicalString())}isEqual(e){return(e=(0,fn.m9)(e))instanceof Hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Pg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function TO(){return new ES("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Pg(e)}static delete(){const e=function CO(){return new tD("deleteField")}();return e._methodName="FieldValue.delete",new Pg(e)}static arrayUnion(...e){const t=function SO(...n){return new YR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Pg(t)}static arrayRemove(...e){const t=function NO(...n){return new QR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Pg(t)}static increment(e){const t=function AO(n){return new JR("increment",n)}(e);return t._methodName="FieldValue.increment",new Pg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const FO={Firestore:YA,GeoPoint:GE,Timestamp:Jn,Blob:sD,Transaction:QA,WriteBatch:JA,DocumentReference:Tl,DocumentSnapshot:oD,Query:bo,QueryDocumentSnapshot:aD,QuerySnapshot:OS,CollectionReference:wy,FieldPath:kS,FieldValue:Pg,setLogLevel:function kO(n){!function Yp(n){su.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function tM(n,e){return function BO(n,e=Uv.z){return new qn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function PS(n,e){return tM(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function JE(n,e){return PS(n,e).pipe(Qn(void 0),jv(),(0,gt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const _=i.find(A=>A.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(A=>A.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),l}))}function nM(n,e,t){return JE(n,t).pipe(Xl((r,i)=>function jO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function $O(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return FS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return FS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return FS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Ym(n,e=ai.y){return n=n??Cw,(0,bt.e)((t,r)=>{let i,l=!0;t.subscribe((0,Ut.x)(r,d=>{const g=e(d);(l||!n(i,g))&&(l=!1,i=g,r.next(d))}))})}(),(0,gt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function FS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function rM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function VO(n){(function LO(n,e){n.INTERNAL.registerComponent(new Ma.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},FO)))})(n,(e,t)=>new YA(e,t,new OO)),n.registerVersion("@firebase/firestore-compat","0.1.26")}(Tw.Z);class iM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=JE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Qn(void 0),jv(),Kn(([r,i])=>i.length>0||!r),(0,gt.U)(([r,i])=>i),ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(Xl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=rM(e);return nM(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return PS(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ln.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(ln.iC)}add(e){return this.ref.add(e)}doc(e){return new sM(this.ref.doc(e),this.afs)}}class sM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=oM(r,t);return new iM(i,l,this.afs)}snapshotChanges(){return function UO(n,e){return tM(n,e).pipe(Qn(void 0),jv(),(0,gt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,nn.D)(this.ref.get(e)).pipe(ln.iC)}}class HO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?JE(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Kn(t=>t.length>0),ln.iC):JE(this.query,this.afs.schedulers.outsideAngular).pipe(ln.iC)}auditTrail(e){return this.stateChanges(e).pipe(Xl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=rM(e);return nM(this.query,t,this.afs.schedulers.outsideAngular).pipe(ln.iC)}valueChanges(e={}){return PS(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ln.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(ln.iC)}}const GO=new u.InjectionToken("angularfire2.enableFirestorePersistence"),WO=new u.InjectionToken("angularfire2.firestore.persistenceSettings"),zO=new u.InjectionToken("angularfire2.firestore.settings"),qO=new u.InjectionToken("angularfire2.firestore.use-emulator");function oM(n,e=(t=>t)){return{query:e(n),ref:n}}let aM=(()=>{class n{constructor(t,r,i,l,d,g,_,w,A,O,j,J,oe,ve,Re,st,ut){this.schedulers=_;const St=(0,at.on)(t,g,r),lt=A;O&&vs(St,g,j,oe,ve,Re,J,st),[this.firestore,this.persistenceEnabled$]=(0,at.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const ot=g.runOutsideAngular(()=>St.firestore());if(l&&ot.settings(l),lt&&ot.useEmulator(...lt),i&&!(0,I.isPlatformServer)(d)){const ft=()=>{try{return(0,nn.D)(ot.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Qt){return typeof console<"u"&&console.warn(Qt),Qe(!1)}};return[ot,g.runOutsideAngular(ft)]}return[ot,Qe(!1)]},[l,lt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=oM(i,r),g=this.schedulers.ngZone.run(()=>l);return new iM(g,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new HO(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new sM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(at.Dh),u.\u0275\u0275inject(at.xv,8),u.\u0275\u0275inject(GO,8),u.\u0275\u0275inject(zO,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(ln.HU),u.\u0275\u0275inject(WO,8),u.\u0275\u0275inject(qO,8),u.\u0275\u0275inject(ao,8),u.\u0275\u0275inject(Vl,8),u.\u0275\u0275inject(Vu,8),u.\u0275\u0275inject(Bu,8),u.\u0275\u0275inject(Or,8),u.\u0275\u0275inject(Bl,8),u.\u0275\u0275inject(qa,8),u.\u0275\u0275inject(kn,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XE=(()=>{class n{constructor(t){this.db=t,this.id="1"}getConfiguracion(){return this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracion=this.configuracionDoc.valueChanges(),this.configuracion}modificarConfiguracion(t){this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracionDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(aM))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),KO=(()=>{class n{constructor(t,r){this.router=t,this.configServ=r,this.permitirRegistro=!1}ngOnInit(){this.configServ.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}guardar(){this.configServ.modificarConfiguracion({permitirRegistro:this.permitirRegistro}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Mn),u.\u0275\u0275directiveInject(XE))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-configuracion"]],decls:34,vars:3,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col","md-64"],[1,"fas","fa-cog"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block",3,"click"],[1,"fas","fa-check"],["id","configuracion"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","permitirRegistro",1,"form-check-input",3,"ngModel","checked","ngModelChange"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6,"Configuracion "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1)(9,"div",2)(10,"div",6)(11,"a",7),u.\u0275\u0275element(12,"i",8),u.\u0275\u0275text(13,"Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(14,"div",6)(15,"button",9),u.\u0275\u0275listener("click",function(){return r.guardar()}),u.\u0275\u0275element(16,"i",10),u.\u0275\u0275text(17,"Guardar Cambios "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(18,"section",11)(19,"div",1)(20,"div",2)(21,"div",12)(22,"div",13)(23,"div",14)(24,"h4"),u.\u0275\u0275text(25,"Editar configuracion"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(26,"div",15)(27,"fieldset",16)(28,"legend"),u.\u0275\u0275text(29,"Permitir registro de usuario"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(30,"div",17)(31,"label",18)(32,"input",19),u.\u0275\u0275listener("ngModelChange",function(l){return r.permitirRegistro=l}),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(33),u.\u0275\u0275elementEnd()()()()()()()()()),2&t&&(u.\u0275\u0275advance(32),u.\u0275\u0275property("ngModel",r.permitirRegistro)("checked",r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate1("",r.permitirRegistro?"Si":"No"," "))},dependencies:[ic,Hl,ko,ol]}),n})(),LS=(()=>{class n{constructor(t){this.db=t,this.clientesColeccion=t.collection("clientes",r=>r.orderBy("nombre","asc"))}getClientes(){return this.clientes=this.clientesColeccion.snapshotChanges().pipe((0,gt.U)(t=>t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i}))),this.clientes}agregarCliente(t){this.clientesColeccion.add(t)}getCliente(t){return this.clienteDoc=this.db.doc(`clientes/${t}`),this.cliente=this.clienteDoc.snapshotChanges().pipe((0,gt.U)(r=>{if(!1===r.payload.exists)return null;{const i=r.payload.data();return i.id=r.payload.id,i}})),this.cliente}modificarCliente(t){this.clienteDoc=this.db.doc(`clientes/${t.id}`),this.clienteDoc.update(t)}eliminarCliente(t){this.clienteDoc=this.db.doc(`clientes/${t.id}`),this.clienteDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(aM))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const eC=function(n){return{"is-invalid":n}};let ZO=(()=>{class n{constructor(t,r,i,l){this.clientesServicio=t,this.flashMessages=r,this.router=i,this.route=l,this.cliente={nombre:"",apellido:"",email:"",saldo:0}}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientesServicio.getCliente(this.id).subscribe(t=>this.cliente=t)}guardar({value:t,valid:r}){r?(t.id=this.id,this.clientesServicio.modificarCliente(t),this.router.navigate(["/"])):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}eliminar(){confirm("Esta seguro de eliminar el cliente?")&&(this.clientesServicio.eliminarCliente(this.cliente),this.router.navigate(["/"]))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(LS),u.\u0275\u0275directiveInject(dr.GQ),u.\u0275\u0275directiveInject(Mn),u.\u0275\u0275directiveInject(Gc))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-editar-cliente"]],decls:68,vars:23,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col","md-64"],[1,"fas","fa-user"],[3,"ngSubmit"],["clienteForm","ngForm"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-primary","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block"],[1,"fas","fa-check"],["href","#",1,"btn","btn-danger","btn-block",3,"click"],[1,"fas","fa-trash"],["id","details"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","apellido"],["type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["apellido","ngModel"],["for","email"],["type","email","name","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],["for","saldo"],["type","number","name","saldo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["saldo","ngModel"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6,"Editar cliente "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"form",5,6),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(8);return u.\u0275\u0275resetView(r.guardar(d))}),u.\u0275\u0275element(9,"flash-messages"),u.\u0275\u0275elementStart(10,"section",7)(11,"div",1)(12,"div",2)(13,"div",8)(14,"a",9),u.\u0275\u0275element(15,"i",10),u.\u0275\u0275text(16,"Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(17,"div",8)(18,"button",11),u.\u0275\u0275element(19,"i",12),u.\u0275\u0275text(20,"Guardar Cliente "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(21,"div",8)(22,"a",13),u.\u0275\u0275listener("click",function(){return r.eliminar()}),u.\u0275\u0275element(23,"i",14),u.\u0275\u0275text(24,"Eliminar cliente "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(25,"section",15)(26,"div",1)(27,"div",2)(28,"div",16)(29,"div",17)(30,"div",18)(31,"h4"),u.\u0275\u0275text(32,"Editar cliente"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(33,"div",19)(34,"div",20)(35,"label",21),u.\u0275\u0275text(36,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(37,"input",22,23),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.nombre=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(39,"div",24),u.\u0275\u0275text(40," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(41,"div",24),u.\u0275\u0275text(42," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(43,"div",20)(44,"label",25),u.\u0275\u0275text(45,"Apellido"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(46,"input",26,27),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.apellido=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(48,"div",24),u.\u0275\u0275text(49," Apellido requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(50,"div",24),u.\u0275\u0275text(51," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(52,"div",20)(53,"label",28),u.\u0275\u0275text(54,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(55,"input",29,30),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.email=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(57,"div",24),u.\u0275\u0275text(58," Email requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(59,"div",24),u.\u0275\u0275text(60," Email no es valido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(61,"div",20)(62,"label",31),u.\u0275\u0275text(63,"Saldo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(64,"input",32,33),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.saldo=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(66,"div",24),u.\u0275\u0275text(67," Saldo requerido "),u.\u0275\u0275elementEnd()()()()()()()()()}if(2&t){const i=u.\u0275\u0275reference(38),l=u.\u0275\u0275reference(47),d=u.\u0275\u0275reference(56),g=u.\u0275\u0275reference(65);u.\u0275\u0275advance(37),u.\u0275\u0275property("ngModel",r.cliente.nombre)("ngClass",u.\u0275\u0275pureFunction1(15,eC,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.apellido)("ngClass",u.\u0275\u0275pureFunction1(17,eC,l.errors&&l.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.email)("ngClass",u.\u0275\u0275pureFunction1(19,eC,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.pattern)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.saldo)("ngClass",u.\u0275\u0275pureFunction1(21,eC,g.errors&&g.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required))}},dependencies:[I.NgClass,ic,Is,Hs,Bc,ko,Po,Ln,jc,id,ol,sl,dr.cS]}),n})(),tC=(()=>{class n{constructor(t){this.authService=t}login(t,r){return new Promise((i,l)=>{this.authService.signInWithEmailAndPassword(t,r).then(d=>i(d),d=>l(d))})}getAuth(){return this.authService.authState.pipe((0,gt.U)(t=>t))}logout(){this.authService.signOut()}registrarse(t,r){return new Promise((i,l)=>{this.authService.createUserWithEmailAndPassword(t,r).then(d=>i(d),d=>l(d))})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(ao))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),YO=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}login(){this.loginService.login(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.message,{cssClass:"alert-danger",timeout:5e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Mn),u.\u0275\u0275directiveInject(dr.GQ),u.\u0275\u0275directiveInject(tC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col","md-64"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","loggin"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","login",1,"btn","btn-primary","btn-block"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6,"Login "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1),u.\u0275\u0275element(9,"div",2),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(10,"flash-messages"),u.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),u.\u0275\u0275text(18,"Login"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(19,"div",10)(20,"form",11),u.\u0275\u0275listener("submit",function(){return r.login()}),u.\u0275\u0275elementStart(21,"div",12)(22,"label",13),u.\u0275\u0275text(23,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"input",14),u.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"div",12)(26,"label",15),u.\u0275\u0275text(27,"Contrase\xf1a"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"input",16),u.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(29,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(24),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[Is,Hs,ko,Po,Ln,ol,sl,dr.cS]}),n})(),QO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-no-encontrado"]],decls:2,vars:0,template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"p"),u.\u0275\u0275text(1,"no-encontrado works!"),u.\u0275\u0275elementEnd())}}),n})(),JO=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}registro(){this.loginService.registrarse(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.message,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Mn),u.\u0275\u0275directiveInject(dr.GQ),u.\u0275\u0275directiveInject(tC))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-registro"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col","md-64"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","registro"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Registrarse",1,"btn","btn-primary","btn-block"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6,"Registro "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1),u.\u0275\u0275element(9,"div",2),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(10,"flash-messages"),u.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),u.\u0275\u0275text(18,"Registro"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(19,"div",10)(20,"form",11),u.\u0275\u0275listener("submit",function(){return r.registro()}),u.\u0275\u0275elementStart(21,"div",12)(22,"label",13),u.\u0275\u0275text(23,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"input",14),u.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"div",12)(26,"label",15),u.\u0275\u0275text(27,"Contrase\xf1a"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"input",16),u.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(29,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(24),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[Is,Hs,ko,Po,Ln,ol,sl,dr.cS]}),n})();const XO=["clienteForm"],ek=["botonCerrar"];function tk(n,e){if(1&n&&(u.\u0275\u0275elementStart(0,"tr")(1,"td"),u.\u0275\u0275text(2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(3,"td"),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"td"),u.\u0275\u0275text(6),u.\u0275\u0275pipe(7,"currency"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(8,"td")(9,"a",44),u.\u0275\u0275element(10,"i",45),u.\u0275\u0275text(11,"Editar "),u.\u0275\u0275elementEnd()()()),2&n){const t=e.$implicit,r=e.index;u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(r+1),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate2("",t.nombre," ",t.apellido,""),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind3(7,5,t.saldo,"AR","$")),u.\u0275\u0275advance(3),u.\u0275\u0275propertyInterpolate1("routerLink","/cliente/editar/",t.id,"")}}const nC=function(n){return{"is-invalid":n}};let nk=(()=>{class n{constructor(t,r){this.clientesServicio=t,this.flashMessages=r,this.cliente={nombre:"",apellido:"",email:"",saldo:0}}ngOnInit(){this.clientesServicio.getClientes().subscribe(t=>{this.clientes=t})}getSaldoTotal(){let t=0;return null!=this.clientes&&this.clientes.forEach(r=>{t+=r.saldo}),t}agregar({value:t,valid:r}){r?(this.clientesServicio.agregarCliente(t),this.clienteForm.resetForm(),this.cerrarModal()):this.flashMessages.show("Por favor llenar formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}cerrarModal(){this.botonCerrar.nativeElement.click()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(LS),u.\u0275\u0275directiveInject(dr.GQ))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-clientes"]],viewQuery:function(t,r){if(1&t&&(u.\u0275\u0275viewQuery(XO,5),u.\u0275\u0275viewQuery(ek,5)),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.clienteForm=i.first),u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.botonCerrar=i.first)}},decls:93,vars:30,consts:[["id","actions",1,"py-4","mb-4","bg-light"],[1,"container"],[1,"row"],[1,"col-md-3"],["href","#","data-bs-toggle","modal","data-bs-target","#agregarClienteModal",1,"btn","btn-primary","btn-block"],[1,"fas","fa-plus"],["id","clientes"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"table","table-triped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"card","text-center","bg-danger","text-white","mb-3"],[1,"card-body"],[1,"display-4"],[1,"card","text-center","bg-success","text-white","mb-3"],[1,"fas","fa-users"],["id","agregarClienteModal",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["data-bs-dismiss","modal",1,"close"],["botonCerrar",""],[3,"ngSubmit"],["clienteForm","ngForm"],[1,"modal-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","apellido"],["type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["apellido","ngModel"],["for","email"],["type","email","name","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],["for","saldo"],["type","number","name","saldo","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["saldo","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fas","fa-angle-double-right"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u.\u0275\u0275element(5,"i",5),u.\u0275\u0275text(6,"Agregar cliente "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",6)(8,"div",1)(9,"div",2)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h4"),u.\u0275\u0275text(14,"Listado de Clientes"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(15,"table",10)(16,"thead",11)(17,"tr")(18,"th"),u.\u0275\u0275text(19,"#"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(20,"th"),u.\u0275\u0275text(21,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(22,"th"),u.\u0275\u0275text(23,"Saldo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(24,"th"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"tbody"),u.\u0275\u0275template(26,tk,12,9,"tr",12),u.\u0275\u0275elementEnd()()()(),u.\u0275\u0275elementStart(27,"div",3)(28,"div",13)(29,"div",14)(30,"h3"),u.\u0275\u0275text(31,"Saldo total"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(32,"h4",15),u.\u0275\u0275text(33),u.\u0275\u0275pipe(34,"currency"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(35,"div",16)(36,"div",14)(37,"h3"),u.\u0275\u0275text(38,"Total clientes"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(39,"h4",15),u.\u0275\u0275element(40,"i",17),u.\u0275\u0275text(41),u.\u0275\u0275elementEnd()()()()()()(),u.\u0275\u0275elementStart(42,"div",18)(43,"div",19)(44,"div",20)(45,"div",21)(46,"h5",22),u.\u0275\u0275text(47,"Agregar cliente"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(48,"button",23,24)(50,"span"),u.\u0275\u0275text(51,"\xd7"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275element(52,"flash-messages"),u.\u0275\u0275elementStart(53,"form",25,26),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(54);return u.\u0275\u0275resetView(r.agregar(d))}),u.\u0275\u0275elementStart(55,"div",27)(56,"div",28)(57,"label",29),u.\u0275\u0275text(58,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(59,"input",30,31),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.nombre=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(61,"div",32),u.\u0275\u0275text(62," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(63,"div",32),u.\u0275\u0275text(64," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(65,"div",28)(66,"label",33),u.\u0275\u0275text(67,"Apellido"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(68,"input",34,35),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.apellido=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(70,"div",32),u.\u0275\u0275text(71," Apellido requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(72,"div",32),u.\u0275\u0275text(73," Debe contener al menos 2 caracteres "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(74,"div",28)(75,"label",36),u.\u0275\u0275text(76,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(77,"input",37,38),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.email=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(79,"div",32),u.\u0275\u0275text(80," Email requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(81,"div",32),u.\u0275\u0275text(82," Email no es valido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(83,"div",28)(84,"label",39),u.\u0275\u0275text(85,"Saldo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(86,"input",40,41),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.saldo=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(88,"div",32),u.\u0275\u0275text(89," Saldo requerido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(90,"div",42)(91,"button",43),u.\u0275\u0275text(92,"Guardar"),u.\u0275\u0275elementEnd()()()()()()()}if(2&t){const i=u.\u0275\u0275reference(60),l=u.\u0275\u0275reference(69),d=u.\u0275\u0275reference(78),g=u.\u0275\u0275reference(87);u.\u0275\u0275advance(26),u.\u0275\u0275property("ngForOf",r.clientes),u.\u0275\u0275advance(7),u.\u0275\u0275textInterpolate1(" ",u.\u0275\u0275pipeBind3(34,18,r.getSaldoTotal(),"AR","$")," "),u.\u0275\u0275advance(8),u.\u0275\u0275textInterpolate1(" ",null==r.clientes?null:r.clientes.length," "),u.\u0275\u0275advance(18),u.\u0275\u0275property("ngModel",r.cliente.nombre)("ngClass",u.\u0275\u0275pureFunction1(22,nC,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.apellido)("ngClass",u.\u0275\u0275pureFunction1(24,nC,l.errors&&l.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.email)("ngClass",u.\u0275\u0275pureFunction1(26,nC,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.pattern)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.saldo)("ngClass",u.\u0275\u0275pureFunction1(28,nC,g.errors&&g.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required))}},dependencies:[I.NgClass,I.NgForOf,ic,Is,Hs,Bc,ko,Po,Ln,jc,id,ol,sl,dr.cS,I.CurrencyPipe]}),n})(),rk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-tablero"]],decls:8,vars:0,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-cog"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6,"Control Clientes "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275element(7,"app-clientes"))},dependencies:[nk]}),n})(),rC=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r}canActivate(){return this.afAuth.authState.pipe((0,gt.U)(t=>!!t||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Mn),u.\u0275\u0275inject(ao))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),lM=(()=>{class n{constructor(t,r){this.router=t,this.configServ=r}canActivate(){return this.configServ.getConfiguracion().pipe((0,gt.U)(t=>!!t.permitirRegistro||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Mn),u.\u0275\u0275inject(XE))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const ik=[{path:"",component:rk,canActivate:[rC]},{path:"login",component:YO},{path:"registro",component:JO,canActivate:[lM]},{path:"configuracion",component:KO,canActivate:[rC]},{path:"cliente/editar/:id",component:ZO,canActivate:[rC]},{path:"**",component:QO}];let sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[Vv.forRoot(ik),Vv]}),n})();var ok=V(1144);const ak=["addListener","removeListener"],lk=["addEventListener","removeEventListener"],ck=["on","off"];function Do(n,e,t,r){if((0,tr.m)(t)&&(r=t,t=void 0),r)return Do(n,e,t).pipe(Za(r));const[i,l]=function hk(n){return(0,tr.m)(n.addEventListener)&&(0,tr.m)(n.removeEventListener)}(n)?lk.map(d=>g=>n[d](e,g,t)):function uk(n){return(0,tr.m)(n.addListener)&&(0,tr.m)(n.removeListener)}(n)?ak.map(cM(n,e)):function dk(n){return(0,tr.m)(n.on)&&(0,tr.m)(n.off)}(n)?ck.map(cM(n,e)):[];if(!i&&(0,ok.z)(n))return(0,Wr.z)(d=>Do(d,e,t))((0,xr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new qn.y(d=>{const g=(..._)=>d.next(1<_.length?_:_[0]);return i(g),()=>l(g)})}function cM(n,e){return t=>r=>n[t](e,r)}var fk=V(3532);const{isArray:gk}=Array;function uM(n){return 1===n.length&&gk(n[0])?n[0]:n}var iC=V(5032);function sC(...n){const e=(0,zn.jO)(n),t=uM(n);return t.length?new qn.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let d=0;!r.closed&&d<t.length;d++)(0,xr.Xf)(t[d]).subscribe((0,Ut.x)(r,g=>{if(i[d].push(g),i.every(_=>_.length)){const _=i.map(w=>w.shift());r.next(e?e(..._):_),i.some((w,A)=>!w.length&&l[A])&&r.complete()}},()=>{l[d]=!0,!i[d].length&&r.complete()}));return()=>{i=l=null}}):en.E}function $i(n){return(0,bt.e)((e,t)=>{(0,xr.Xf)(n).subscribe((0,Ut.x)(t,()=>t.complete(),iC.Z)),!t.closed&&e.subscribe(t)})}function BS(...n){const e=(0,zn.jO)(n);return(0,bt.e)((t,r)=>{const i=n.length,l=new Array(i);let d=n.map(()=>!1),g=!1;for(let _=0;_<i;_++)(0,xr.Xf)(n[_]).subscribe((0,Ut.x)(r,w=>{l[_]=w,!g&&!d[_]&&(d[_]=!0,(g=d.every(ai.y))&&(d=null))},iC.Z));t.subscribe((0,Ut.x)(r,_=>{if(g){const w=[_,...l];r.next(e?e(...w):w)}}))})}new qn.y(iC.Z),Math,Math,Math;const xP=["*"],ZP=["dialog"];function QS(n){return"string"==typeof n}function Vg(n){return null!=n}function Sy(n){return(n||document.body).getBoundingClientRect()}const xM={animation:!0,transitionTimerDelayMs:5},HF=()=>{},{transitionTimerDelayMs:GF}=xM,pD=new Map,Js=(n,e,t,r)=>{let i=r.context||{};const l=pD.get(e);if(l)switch(r.runningTransition){case"continue":return en.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),pD.delete(e)}const d=t(e,r.animation,i)||HF;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),Qe(void 0).pipe(function jF(n){return e=>new qn.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new Tt.x,_=new Tt.x,w=g.pipe(function _k(...n){return e=>ul(e,Qe(...n))}(!0));pD.set(e,{transition$:g,complete:()=>{_.next(),_.complete()},context:i});const A=function $F(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const O=Do(e,"transitionend").pipe($i(w),Kn(({target:J})=>J===e));(function dM(...n){return 1===(n=uM(n)).length?(0,xr.Xf)(n[0]):new qn.y(function mk(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,xr.Xf)(n[r]).subscribe((0,Ut.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(function VS(n=0,e,t=Uv.P){let r=-1;return null!=e&&((0,fk.K)(e)?t=e:r=e),new qn.y(i=>{let l=function pk(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(A+GF).pipe($i(w)),O,_).pipe($i(w)).subscribe(()=>{pD.delete(e),n.run(()=>{d(),g.next(),g.complete()})})}),g.asObservable()},XS=(n,e,t)=>{let{direction:r,maxHeight:i}=t;const{classList:l}=n;function d(){l.add("collapse"),"show"===r?l.add("show"):l.remove("show")}if(e)return i||(i=function zF(n){if(typeof navigator>"u")return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return t||e.remove("show"),r}(n),t.maxHeight=i,n.style.height="show"!==r?i:"0px",l.remove("collapse"),l.remove("collapsing"),l.remove("show"),Sy(n),l.add("collapsing")),n.style.height="show"===r?i:"0px",()=>{d(),l.remove("collapsing"),n.style.height=""};d()};let gD=(()=>{class n{constructor(){this.animation=xM.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),LM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),UM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),tL=(()=>{class n{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(gD))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nL=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this.collapsed=!1,this.ngbCollapseChange=new u.EventEmitter,this.shown=new u.EventEmitter,this.hidden=new u.EventEmitter,this.animation=r.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,r){return Js(this._zone,this._element.nativeElement,XS,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(tL),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();var Hi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Hi||(Hi={})),Hi))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const HM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function GM(n){const e=Array.from(n.querySelectorAll(HM)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let JM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule,lh]}),n})(),sN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["",8,"navbar"]]}),n})(),tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();class $g{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let LL=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(er(1)).subscribe(()=>{Js(this._zone,this._el.nativeElement,(t,r)=>{r&&Sy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Js(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.\u0275\u0275classMap("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.\u0275\u0275classProp("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class nx{close(e){}dismiss(e){}}class VL{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Tt.x,this._dismissed=new Tt.x,this._hidden=new Tt.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe($i(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe($i(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function MM(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Qe(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),sC(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var vD=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(vD||(vD={})),vD))();let BL=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Tt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.EventEmitter,this.shown=new Tt.x,this.hidden=new Tt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":QS(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(er(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=sC(Js(this._zone,t,()=>t.classList.remove("show"),r),Js(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};sC(Js(this._zone,this._elRef.nativeElement,(l,d)=>{d&&Sy(l),l.classList.add("show")},t),Js(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Do(t,"keydown").pipe($i(this._closed$),Kn(i=>i.which===Hi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(vD.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Do(this._dialogEl.nativeElement,"mousedown").pipe($i(this._closed$),(0,ti.b)(()=>r=!1),Tn(()=>Do(t,"mouseup").pipe($i(this._closed$),er(1))),Kn(({target:i})=>t===i)).subscribe(()=>{r=!0}),Do(t,"click").pipe($i(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(vD.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=GM(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Js(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(I.DOCUMENT),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.\u0275\u0275viewQuery(ZP,7),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.\u0275\u0275attribute("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.\u0275\u0275classMap("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.\u0275\u0275classProp("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:xP,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.\u0275\u0275projectionDef(),u.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2),u.\u0275\u0275projection(3),u.\u0275\u0275elementEnd()()),2&t&&u.\u0275\u0275classMap("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),UL=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:d}=i;if(t>0){const g=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${g+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(I.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jL=(()=>{class n{constructor(t,r,i,l,d,g){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=d,this._ngZone=g,this._activeWindowCmptHasChanged=new Tt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.EventEmitter,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Do(e,"focusin").pipe($i(t),(0,gt.U)(l=>l.target));Do(e,"keydown").pipe($i(t),Kn(l=>l.which===Hi.Tab),BS(i)).subscribe(([l,d])=>{const[g,_]=GM(e);(d===g||d===e)&&l.shiftKey&&(_.focus(),l.preventDefault()),d===_&&!l.shiftKey&&(g.focus(),l.preventDefault())}),r&&Do(e,"click").pipe($i(t),BS(i),(0,gt.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const l=i.container instanceof HTMLElement?i.container:Vg(i.container)?this._document.querySelector(i.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new nx,_=this._getContentRef(i.injector||t,r,g,i);let w=!1!==i.backdrop?this._attachBackdrop(l):void 0,A=this._attachWindowComponent(l,_.nodes),O=new VL(A,_,w,i.beforeDismiss);return this._registerModalRef(O),this._registerWindowCmpt(A),O.hidden.pipe(er(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=j=>{O.close(j)},g.dismiss=j=>{O.dismiss(j)},this._applyWindowOptions(A.instance,i),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,i),w.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),O}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,u.createComponent)(LL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,u.createComponent)(BL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Vg(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Vg(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l){return r?r instanceof u.TemplateRef?this._createFromTemplateRef(r,i):QS(r)?this._createFromString(r):this._createFromComponent(t,r,i,l):new $g([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(l),new $g([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new $g([[r]])}_createFromComponent(t,r,i,l){const d=u.Injector.create({providers:[{provide:nx,useValue:i}],parent:t}),g=(0,u.createComponent)(r,{environmentInjector:this._applicationRef.injector,elementInjector:d}),_=g.location.nativeElement;return l.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new $g([[_]],g.hostView,g)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.ApplicationRef),u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(I.DOCUMENT),u.\u0275\u0275inject(UL),u.\u0275\u0275inject(u.RendererFactory2),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$L=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(gD))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HL=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(jL),u.\u0275\u0275inject($L))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[HL]}),n})(),ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),_x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),yx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),vx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),Dx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();new u.InjectionToken("live announcer delay",{providedIn:"root",factory:function n2(){return 100}});let Ix=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[I.CommonModule]}),n})(),Ex=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();const r2=[FM,LM,UM,jM,JM,tx,rx,ax,Ex,gx,_x,yx,vx,bx,Dx,wx,Ix];let s2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[r2,FM,LM,UM,jM,JM,tx,rx,ax,Ex,gx,_x,yx,vx,bx,Dx,wx,Ix]}),n})();function o2(n,e){1&n&&(u.\u0275\u0275elementStart(0,"ul",10)(1,"li",11)(2,"a",12),u.\u0275\u0275text(3,"Inicio"),u.\u0275\u0275elementEnd()()())}function a2(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",13)(1,"a",14),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"div",16)(5,"a",17),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(6,"i",18),u.\u0275\u0275text(7,"Configuraci\xf3n "),u.\u0275\u0275elementEnd()()()}if(2&n){const t=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275attribute("aria-expanded",!t.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("Bienvenido ",t.loggedInUser," "),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngbCollapse",t.isDropdownCollapsed)}}function l2(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",20),u.\u0275\u0275element(2,"i",21),u.\u0275\u0275text(3,"Login "),u.\u0275\u0275elementEnd()())}function c2(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",22),u.\u0275\u0275element(2,"i",21),u.\u0275\u0275text(3,"Registrarse "),u.\u0275\u0275elementEnd()())}function u2(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",19)(1,"a",23),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.logout())}),u.\u0275\u0275element(2,"i",24),u.\u0275\u0275text(3,"Salir "),u.\u0275\u0275elementEnd()()}}let d2=(()=>{class n{constructor(t,r,i){this.loginService=t,this.router=r,this.confServ=i,this.isCollapsed=!0,this.isDropdownCollapsed=!0}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t?(this.isloggedIn=!0,this.loggedInUser=t.email):this.isloggedIn=!1}),this.confServ.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}logout(){this.loginService.logout(),this.isloggedIn=!1,this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(tC),u.\u0275\u0275directiveInject(Mn),u.\u0275\u0275directiveInject(XE))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-cabecero"]],decls:13,vars:7,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-0"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","aria-controls","navbarCollapse",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse",3,"ngbCollapse"],["class","navbar-nav",4,"ngIf"],[1,"navbar-nav","ms-auto"],["class","nav-item dropdown mr-sm-2",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item","px-2"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","mr-sm-2"],["aria-controls","dropdownCollapse",1,"nav-link","dropdown-toggle",3,"click"],[1,"fas","fa-user"],["id","dropdownCollapse",1,"dropdown-menu",3,"ngbCollapse"],["routerLink","/configuracion",1,"dropdown-item",3,"click"],[1,"fas","fa-cog"],[1,"nav-item"],["routerLink","/login","routerLinkActive","router-link-active",1,"nav-link"],["aria-hidden","true",1,"fas","fa-user"],["routerLink","/registro","routerLinkActive","router-link-active",1,"nav-link"],[1,"nav-link",2,"cursor","pointer",3,"click"],["aria-hidden","true",1,"fas","fa-user-times"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"nav",0)(1,"div",1)(2,"a",2),u.\u0275\u0275text(3,"Control clientes"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"button",3),u.\u0275\u0275listener("click",function(){return r.isCollapsed=!r.isCollapsed}),u.\u0275\u0275element(5,"span",4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(6,"div",5),u.\u0275\u0275template(7,o2,4,0,"ul",6),u.\u0275\u0275elementStart(8,"ul",7),u.\u0275\u0275template(9,a2,8,3,"li",8),u.\u0275\u0275template(10,l2,4,0,"li",9),u.\u0275\u0275template(11,c2,4,0,"li",9),u.\u0275\u0275template(12,u2,4,0,"li",9),u.\u0275\u0275elementEnd()()()()),2&t&&(u.\u0275\u0275advance(4),u.\u0275\u0275attribute("aria-expanded",!r.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngbCollapse",r.isCollapsed),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.isloggedIn),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",r.isloggedIn),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isloggedIn&&r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isloggedIn&&r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.isloggedIn))},dependencies:[I.NgIf,ic,Nv,nL,sN]}),n})(),h2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-pie-pagina"]],decls:6,vars:0,consts:[["id","pie-pagina",1,"bg-warning","text","white","mt-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"lead","text-center"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),u.\u0275\u0275text(5," Copyright \xa9 Andres Mariano Fern\xe1ndez "),u.\u0275\u0275elementEnd()()()()())}}),n})(),f2=(()=>{class n{constructor(){this.title="control-clientes"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"app-cabecero")(1,"router-outlet")(2,"app-pie-pagina")},dependencies:[cp,d2,h2]}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n,bootstrap:[f2]}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[LS,tC,rC,XE,lM],imports:[zi,sk,s2,at.hO.initializeApp(Le_firestore,"control.clientes"),Af,Af,lh,dr.qz.forRoot()]}),n})();(0,u.enableProdMode)(),bi().bootstrapModule(p2).catch(n=>console.error(n))},9706:(dt,De)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var V=function(){function I(u,B,Q,ie){this.id=I.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,u&&(this.text=u),B&&(this.cssClass=B),Q&&(this.closeOnClick=Q),ie&&(this.showCloseBtn=ie)}return I.nextId=0,I}();De.FlashMessage=V},9094:(dt,De,V)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var I=V(4650),u=V(9706),B=V(7158),Q=V(4650),ie=V(7158),ge=V(6895);function we(Z,ke){1&Z&&Q.\u0275\u0275element(0,"div",3)}function me(Z,ke){if(1&Z){var Te=Q.\u0275\u0275getCurrentView();Q.\u0275\u0275elementStart(0,"button",7),Q.\u0275\u0275listener("click",function(){Q.\u0275\u0275restoreView(Te);var Xe=Q.\u0275\u0275nextContext().$implicit,Ee=Q.\u0275\u0275nextContext();return Q.\u0275\u0275resetView(Ee.close(Xe))}),Q.\u0275\u0275elementStart(1,"span",8),Q.\u0275\u0275text(2,"\xd7"),Q.\u0275\u0275elementEnd()()}}var de=function(Z){return{"alert-dismissible":Z}};function K(Z,ke){if(1&Z){var Te=Q.\u0275\u0275getCurrentView();Q.\u0275\u0275elementStart(0,"div",4),Q.\u0275\u0275listener("click",function(){var fe=Q.\u0275\u0275restoreView(Te).$implicit,ct=Q.\u0275\u0275nextContext();return Q.\u0275\u0275resetView(ct.alertClicked(fe))}),Q.\u0275\u0275template(1,me,3,0,"button",5),Q.\u0275\u0275element(2,"div",6),Q.\u0275\u0275elementEnd()}if(2&Z){var Ie=ke.$implicit;Q.\u0275\u0275classMapInterpolate1("alert flash-message ",Ie.cssClass,""),Q.\u0275\u0275styleProp("cursor",Ie.closeOnClick?"pointer":"inherit"),Q.\u0275\u0275property("ngClass",Q.\u0275\u0275pureFunction1(8,de,Ie.showCloseBtn)),Q.\u0275\u0275advance(1),Q.\u0275\u0275property("ngIf",Ie.showCloseBtn),Q.\u0275\u0275advance(1),Q.\u0275\u0275property("innerHTML",Ie.text,Q.\u0275\u0275sanitizeHtml)}}var q=function(){function Z(ke,Te){this._flashMessagesService=ke,this._cdRef=Te,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return Z.prototype.ngOnInit=function(){},Z.prototype.show=function(ke,Te){var Ie=this;void 0===Te&&(Te={});var Xe={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var Ee in Te)Xe[Ee]=Te[Ee];var fe=new u.FlashMessage(ke,Xe.cssClass,Xe.closeOnClick,Xe.showCloseBtn);fe.timer=window.setTimeout(function(){Ie._remove(fe),Ie._cdRef.detectChanges()},Xe.timeout),this.messages.push(fe),this._cdRef.detectChanges()},Z.prototype.close=function(ke){clearTimeout(ke.timer),this._remove(ke),this._cdRef.detectChanges()},Z.prototype.alertClicked=function(ke){ke.closeOnClick&&this.close(ke)},Z.prototype.grayOut=function(ke){void 0===ke&&(ke=!1),this._grayOut=ke},Z.prototype._remove=function(ke){this.messages=this.messages.filter(function(Te){return Te.id!==ke.id})},Z.ctorParameters=function(){return[{type:B.FlashMessagesService},{type:I.ChangeDetectorRef}]},Z.\u0275fac=function(Te){return new(Te||Z)(Q.\u0275\u0275directiveInject(ie.FlashMessagesService),Q.\u0275\u0275directiveInject(Q.ChangeDetectorRef))},Z.\u0275cmp=Q.\u0275\u0275defineComponent({type:Z,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(Te,Ie){1&Te&&(Q.\u0275\u0275elementStart(0,"div",0),Q.\u0275\u0275template(1,we,1,0,"div",1),Q.\u0275\u0275template(2,K,3,10,"div",2),Q.\u0275\u0275elementEnd()),2&Te&&(Q.\u0275\u0275advance(1),Q.\u0275\u0275property("ngIf",Ie._grayOut&&Ie.messages.length),Q.\u0275\u0275advance(1),Q.\u0275\u0275property("ngForOf",Ie.messages))},dependencies:[ge.NgClass,ge.NgForOf,ge.NgIf],encapsulation:2}),Z}();De.FlashMessagesComponent=q},7158:(dt,De,V)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0}),V(4650);var u=V(4650),B=function(){function Q(){}return Q.\u0275fac=function(ge){return new(ge||Q)},Q.\u0275prov=u.\u0275\u0275defineInjectable({token:Q,factory:function(ie){return Q.\u0275fac(ie)}}),Q}();De.FlashMessagesService=B},1024:(dt,De,V)=>{var u=V(9094),B=V(9329);De.qz=B.FlashMessagesModule;var Q=V(7158);De.GQ=Q.FlashMessagesService,De.cS=u.FlashMessagesComponent},9329:(dt,De,V)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0}),V(4650);var u=V(6895),Q=(V(9094),V(7158)),ie=V(4650),me=(V(9094),V(6895),function(){function de(){}return de.forRoot=function(){return{ngModule:de,providers:[Q.FlashMessagesService]}},de.\u0275fac=function(q){return new(q||de)},de.\u0275mod=ie.\u0275\u0275defineNgModule({type:de}),de.\u0275inj=ie.\u0275\u0275defineInjector({imports:[u.CommonModule]}),de}());De.FlashMessagesModule=me},5867:(dt,De,V)=>{"use strict";V.d(De,{C6:()=>I.getApps,Mq:()=>I.getApp});var I=V(9681);(0,I.registerVersion)("firebase","9.11.0","app")},127:(dt,De,V)=>{"use strict";V.d(De,{Z:()=>I.Z});var I=V(3942);I.Z.registerVersion("firebase","9.11.0","app-compat")},3704:(dt,De,V)=>{"use strict";V.r(De);var I=V(5861),u=V(3942),B=V(2090),Q=V(9681),ie=V(1877),ge=V(655),we=V(4859);const Ie=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xe=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ee=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ct=new ie.Yd("@firebase/auth");function mt(y,...f){ct.logLevel<=ie.in.ERROR&&ct.error(`Auth (${Q.SDK_VERSION}): ${y}`,...f)}function Be(y,...f){throw Ye(y,...f)}function Ne(y,...f){return Ye(y,...f)}function xe(y,f,m){const b=Object.assign(Object.assign({},Xe()),{[f]:m});return new B.LL("auth","Firebase",b).create(f,{appName:y.name})}function qe(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Be(y,"argument-error"),xe(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(y,...f){if("string"!=typeof y){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return Ee.create(y,...f)}function z(y,f,...m){if(!y)throw Ye(f,...m)}function Ce(y){const f="INTERNAL ASSERTION FAILED: "+y;throw mt(f),new Error(f)}function ee(y,f){y||Ce(f)}const re=new Map;function ue(y){ee(y instanceof Function,"Expected a class definition");let f=re.get(y);return f?(ee(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,re.set(y,f),f)}function $e(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function It(){return"http:"===on()||"https:"===on()}function on(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class cn{constructor(f,m){this.shortDelay=f,this.longDelay=m,ee(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xn(y,f){ee(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class un{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pr=new cn(3e4,6e4);function Ht(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function dn(y,f,m,b){return qo.apply(this,arguments)}function qo(){return(qo=(0,I.Z)(function*(y,f,m,b,x={}){return ri(y,x,(0,I.Z)(function*(){let L={},X={};b&&("GET"===f?X=b:L={body:JSON.stringify(b)});const _e=(0,B.xO)(Object.assign({key:y.config.apiKey},X)).slice(1),ze=yield y._getAdditionalHeaders();return ze["Content-Type"]="application/json",y.languageCode&&(ze["X-Firebase-Locale"]=y.languageCode),un.fetch()(Mi(y,y.config.apiHost,m,_e),Object.assign({method:f,headers:ze,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ri(y,f,m){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,I.Z)(function*(y,f,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},an),f);try{const x=new Mr(y),L=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const X=yield L.json();if("needConfirmation"in X)throw bi(y,"account-exists-with-different-credential",X);if(L.ok&&!("errorMessage"in X))return X;{const _e=L.ok?X.errorMessage:X.error.message,[ze,Ze]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw bi(y,"credential-already-in-use",X);if("EMAIL_EXISTS"===ze)throw bi(y,"email-already-in-use",X);if("USER_DISABLED"===ze)throw bi(y,"user-disabled",X);const wt=b[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw xe(y,wt,Ze);Be(y,wt)}}catch(x){if(x instanceof B.ZR)throw x;Be(y,"network-request-failed")}})).apply(this,arguments)}function ii(y,f,m,b){return as.apply(this,arguments)}function as(){return(as=(0,I.Z)(function*(y,f,m,b,x={}){const L=yield dn(y,f,m,b,x);return"mfaPendingCredential"in L&&Be(y,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Mi(y,f,m,b){const x=`${f}${m}?${b}`;return y.config.emulator?xn(y.config,x):`${y.config.apiScheme}://${x}`}class Mr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ne(this.auth,"network-request-failed")),pr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bi(y,f,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const x=Ne(y,f,b);return x.customData._tokenResponse=m,x}function nt(){return(nt=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Yr(y,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gr(y,f){return si.apply(this,arguments)}function si(){return(si=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ms(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Gt(){return(Gt=(0,I.Z)(function*(y,f=!1){const m=(0,B.m9)(y),b=yield m.getIdToken(f),x=vt(b);z(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const L="object"==typeof x.firebase?x.firebase:void 0,X=L?.sign_in_provider;return{claims:x,token:b,authTime:Ms(Ct(x.auth_time)),issuedAtTime:Ms(Ct(x.iat)),expirationTime:Ms(Ct(x.exp)),signInProvider:X||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Ct(y){return 1e3*Number(y)}function vt(y){var f;const[m,b,x]=y.split(".");if(void 0===m||void 0===b||void 0===x)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,B.tV)(b);return L?JSON.parse(L):(mt("Failed to decode base64 JWT payload"),null)}catch(L){return mt("Caught error parsing JWT payload as JSON",null===(f=L)||void 0===f?void 0:f.toString()),null}}function Xn(y,f){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,I.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof B.ZR&&oi(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function oi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Vt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,I.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,I.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class xi{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ms(this.lastLoginAt),this.creationTime=Ms(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hn(y){return qi.apply(this,arguments)}function qi(){return(qi=(0,I.Z)(function*(y){var f;const m=y.auth,b=yield y.getIdToken(),x=yield Xn(y,gr(m,{idToken:b}));z(x?.users.length,m,"internal-error");const L=x.users[0];y._notifyReloadListener(L);const X=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?pt(L.providerUserInfo):[],_e=Br(y.providerData,X),wt=!!y.isAnonymous&&!(y.email&&L.passwordHash||_e?.length),Nt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:_e,metadata:new xi(L.createdAt,L.lastLoginAt),isAnonymous:wt};Object.assign(y,Nt)})).apply(this,arguments)}function mr(){return(mr=(0,I.Z)(function*(y){const f=(0,B.m9)(y);yield hn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Br(y,f){return[...y.filter(b=>!f.some(x=>x.providerId===b.providerId)),...f]}function pt(y){return y.map(f=>{var{providerId:m}=f,b=(0,ge._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ht(){return(ht=(0,I.Z)(function*(y,f){const m=yield ri(y,{},(0,I.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:L}=y.config,X=Mi(y,x,"/v1/token",`key=${L}`),_e=yield y._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(X,{method:"POST",headers:_e,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){z(f.idToken,"internal-error"),z(typeof f.idToken<"u","internal-error"),z(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Cn(y){const f=vt(y);return z(f,"internal-error"),z(typeof f.exp<"u","internal-error"),z(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,I.Z)(function*(){return z(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,I.Z)(function*(){const{accessToken:x,refreshToken:L,expiresIn:X}=yield function Fe(y,f){return ht.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(x,L,Number(X))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:x,expirationTime:L}=m,X=new Ot;return b&&(z("string"==typeof b,"internal-error",{appName:f}),X.refreshToken=b),x&&(z("string"==typeof x,"internal-error",{appName:f}),X.accessToken=x),L&&(z("number"==typeof L,"internal-error",{appName:f}),X.expirationTime=L),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function kt(y,f){z("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class G{constructor(f){var{uid:m,auth:b,stsTokenManager:x}=f,L=(0,ge._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new xi(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,I.Z)(function*(){const b=yield Xn(m,m.stsTokenManager.getToken(m.auth,f));return z(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Un(y){return Gt.apply(this,arguments)}(this,f)}reload(){return function _n(y){return mr.apply(this,arguments)}(this)}_assign(f){this!==f&&(z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new G(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,I.Z)(function*(){let x=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),x=!0),m&&(yield hn(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,I.Z)(function*(){const m=yield f.getIdToken();return yield Xn(f,function ls(y,f){return nt.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,x,L,X,_e,ze,Ze,wt;const Nt=null!==(b=m.displayName)&&void 0!==b?b:void 0,kr=null!==(x=m.email)&&void 0!==x?x:void 0,Es=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,cd=null!==(X=m.photoURL)&&void 0!==X?X:void 0,Xf=null!==(_e=m.tenantId)&&void 0!==_e?_e:void 0,ud=null!==(ze=m._redirectEventId)&&void 0!==ze?ze:void 0,ep=null!==(Ze=m.createdAt)&&void 0!==Ze?Ze:void 0,bm=null!==(wt=m.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:tp,emailVerified:Dm,isAnonymous:fh,providerData:fa,stsTokenManager:tn}=m;z(tp&&tn,f,"internal-error");const tc=Ot.fromJSON(this.name,tn);z("string"==typeof tp,f,"internal-error"),kt(Nt,f.name),kt(kr,f.name),z("boolean"==typeof Dm,f,"internal-error"),z("boolean"==typeof fh,f,"internal-error"),kt(Es,f.name),kt(cd,f.name),kt(Xf,f.name),kt(ud,f.name),kt(ep,f.name),kt(bm,f.name);const ph=new G({uid:tp,auth:f,email:kr,emailVerified:Dm,displayName:Nt,isAnonymous:fh,photoURL:cd,phoneNumber:Es,tenantId:Xf,stsTokenManager:tc,createdAt:ep,lastLoginAt:bm});return fa&&Array.isArray(fa)&&(ph.providerData=fa.map(dl=>Object.assign({},dl))),ud&&(ph._redirectEventId=ud),ph}static _fromIdTokenResponse(f,m,b=!1){return(0,I.Z)(function*(){const x=new Ot;x.updateFromServerResponse(m);const L=new G({uid:m.localId,auth:f,stsTokenManager:x,isAnonymous:b});return yield hn(L),L})()}}const te=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(m,b){var x=this;return(0,I.Z)(function*(){x.storage[m]=b})()}_get(m){var b=this;return(0,I.Z)(function*(){const x=b.storage[m];return void 0===x?null:x})()}_remove(m){var b=this;return(0,I.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function Ae(y,f,m){return`firebase:${y}:${f}:${m}`}class le{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:x,name:L}=this.auth;this.fullUserKey=Ae(this.userKey,x.apiKey,L),this.fullPersistenceKey=Ae("persistence",x.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,I.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?G._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,I.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,I.Z)(function*(){if(!m.length)return new le(ue(te),f,b);const x=(yield Promise.all(m.map(function(){var Ze=(0,I.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let L=x[0]||ue(te);const X=Ae(b,f.config.apiKey,f.name);let _e=null;for(const Ze of m)try{const wt=yield Ze._get(X);if(wt){const Nt=G._fromJSON(f,wt);Ze!==L&&(_e=Nt),L=Ze;break}}catch{}const ze=x.filter(Ze=>Ze._shouldAllowMigration);return L._shouldAllowMigration&&ze.length?(L=ze[0],_e&&(yield L._set(X,_e.toJSON())),yield Promise.all(m.map(function(){var Ze=(0,I.Z)(function*(wt){if(wt!==L)try{yield wt._remove(X)}catch{}});return function(wt){return Ze.apply(this,arguments)}}())),new le(L,f,b)):new le(L,f,b)})()}}function We(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Dn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Et(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Le(f))return"Blackberry";if(at(f))return"Webos";if(Zt(f))return"Safari";if((f.includes("chrome/")||Wn(f))&&!f.includes("edge/"))return"Chrome";if(In(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Et(y=(0,B.z$)()){return/firefox\//i.test(y)}function Zt(y=(0,B.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Wn(y=(0,B.z$)()){return/crios\//i.test(y)}function Dn(y=(0,B.z$)()){return/iemobile/i.test(y)}function In(y=(0,B.z$)()){return/android/i.test(y)}function Le(y=(0,B.z$)()){return/blackberry/i.test(y)}function at(y=(0,B.z$)()){return/webos/i.test(y)}function Tt(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function qn(y=(0,B.z$)()){return Tt(y)||In(y)||at(y)||Le(y)||/windows phone/i.test(y)||Dn(y)}function Di(y,f=[]){let m;switch(y){case"Browser":m=We((0,B.z$)());break;case"Worker":m=`${We((0,B.z$)())}-${y}`;break;default:m=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${Q.SDK_VERSION}/${b}`}class xr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=L=>new Promise((X,_e)=>{try{X(f(L))}catch(ze){_e(ze)}});b.onAbort=m,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,I.Z)(function*(){var b;if(m.auth.currentUser===f)return;const x=[];try{for(const L of m.queue)yield L(f),L.onAbort&&x.push(L.onAbort)}catch(L){x.reverse();for(const X of x)try{X()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=L)||void 0===b?void 0:b.message})}})()}}class bt{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tn(this),this.idTokenSubscription=new Tn(this),this.beforeStateQueue=new xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ee,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=ue(m)),this._initializationPromise=this.queue((0,I.Z)(function*(){var x,L;if(!b._deleted&&(b.persistenceManager=yield le.create(b,f),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(L=b.currentUser)||void 0===L?void 0:L.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,I.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,I.Z)(function*(){var b;const x=yield m.assertedPersistence.getCurrentUser();let L=x,X=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const _e=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,ze=L?._redirectEventId,Ze=yield m.tryRedirectSignIn(f);(!_e||_e===ze)&&Ze?.user&&(L=Ze.user,X=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(X)try{yield m.beforeStateQueue.runMiddleware(L)}catch(_e){L=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(_e))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return z(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var m=this;return(0,I.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,I.Z)(function*(){var b;try{yield hn(f)}catch(x){if("auth/network-request-failed"!==(null===(b=x)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function tt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,I.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,I.Z)(function*(){const b=f?(0,B.m9)(f):null;return b&&z(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,I.Z)(function*(){if(!b._deleted)return f&&z(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,I.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,I.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,I.Z)(function*(){yield m.assertedPersistence.setPersistence(ue(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,I.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(m);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,I.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&ue(f)||m._popupRedirectResolver;z(b,m,"argument-error"),m.redirectPersistenceManager=yield le.create(m,[ue(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,I.Z)(function*(){var b,x;return m._isInitialized&&(yield m.queue((0,I.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,I.Z)(function*(){if(f===m.currentUser)return m.queue((0,I.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,x){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),X=this._isInitialized?Promise.resolve():this._initializationPromise;return z(X,this,"internal-error"),X.then(()=>L(this.currentUser)),"function"==typeof m?f.addObserver(m,b,x):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,I.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,I.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function Ut(y){return(0,B.m9)(y)}class Tn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ki(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function cs(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class _r{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Ce("not implemented")}_getIdTokenResponse(f){return Ce("not implemented")}_linkToIdToken(f,m){return Ce("not implemented")}_getReauthenticationResolver(f){return Ce("not implemented")}}function Fn(y,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:resetPassword",Ht(y,f))})).apply(this,arguments)}function en(y,f){return er.apply(this,arguments)}function er(){return(er=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Io(y,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:update",Ht(y,f))})).apply(this,arguments)}function ai(){return(ai=(0,I.Z)(function*(y,f){return ii(y,"POST","/v1/accounts:signInWithPassword",Ht(y,f))})).apply(this,arguments)}function Rr(y,f){return tr.apply(this,arguments)}function tr(){return(tr=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:sendOobCode",Ht(y,f))})).apply(this,arguments)}function ar(y,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,I.Z)(function*(y,f){return Rr(y,f)})).apply(this,arguments)}function ln(y,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,I.Z)(function*(y,f){return Rr(y,f)})).apply(this,arguments)}function Rs(y,f){return To.apply(this,arguments)}function To(){return(To=(0,I.Z)(function*(y,f){return Rr(y,f)})).apply(this,arguments)}function Al(y,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,I.Z)(function*(y,f){return Rr(y,f)})).apply(this,arguments)}function Tc(){return(Tc=(0,I.Z)(function*(y,f){return ii(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,f))})).apply(this,arguments)}function Aa(){return(Aa=(0,I.Z)(function*(y,f){return ii(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,f))})).apply(this,arguments)}class Ml extends _r{constructor(f,m,b,x=null){super("password",b),this._email=f,this._password=m,this._tenantId=x}static _fromEmailAndPassword(f,m){return new Ml(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Ml(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,I.Z)(function*(){switch(m.signInMethod){case"password":return function Eo(y,f){return ai.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Na(y,f){return Tc.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Be(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,I.Z)(function*(){switch(b.signInMethod){case"password":return en(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Au(y,f){return Aa.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Be(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function yr(y,f){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,I.Z)(function*(y,f){return ii(y,"POST","/v1/accounts:signInWithIdp",Ht(y,f))})).apply(this,arguments)}class Os extends _r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Os(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Be("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x}=m,L=(0,ge._T)(m,["providerId","signInMethod"]);if(!b||!x)return null;const X=new Os(b,x);return X.idToken=L.idToken||void 0,X.accessToken=L.accessToken||void 0,X.secret=L.secret,X.nonce=L.nonce,X.pendingToken=L.pendingToken||null,X}_getIdTokenResponse(f){return yr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,yr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,yr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,B.xO)(m)}return f}}function Sf(y,f){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:sendVerificationCode",Ht(y,f))})).apply(this,arguments)}function Xs(){return(Xs=(0,I.Z)(function*(y,f){return ii(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,f))})).apply(this,arguments)}function ds(){return(ds=(0,I.Z)(function*(y,f){const m=yield ii(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,f));if(m.temporaryProof)throw bi(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ma={USER_NOT_FOUND:"user-not-found"};function hs(){return(hs=(0,I.Z)(function*(y,f){return ii(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ma)})).apply(this,arguments)}class Zi extends _r{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Zi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Zi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function xl(y,f){return Xs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Se(y,f){return ds.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function fn(y,f){return hs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:x}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:L}=f;return b||m||x||L?new Zi({verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:L}):null}}class Zn{constructor(f){var m,b,x,L,X,_e;const ze=(0,B.zd)((0,B.pd)(f)),Ze=null!==(m=ze.apiKey)&&void 0!==m?m:null,wt=null!==(b=ze.oobCode)&&void 0!==b?b:null,Nt=function Rl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=ze.mode)&&void 0!==x?x:null);z(Ze&&wt&&Nt,"argument-error"),this.apiKey=Ze,this.operation=Nt,this.code=wt,this.continueUrl=null!==(L=ze.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(X=ze.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(_e=ze.tenantId)&&void 0!==_e?_e:null}static parseLink(f){const m=function Ol(y){const f=(0,B.zd)((0,B.pd)(y)).link,m=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||m||f||y}(f);try{return new Zn(m)}catch{return null}}}let ci=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return Ml._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const x=Zn.parseLink(b);return z(x,"argument-error"),Ml._fromEmailAndCode(m,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ui{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Yi extends ui{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ks extends Yi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return z("providerId"in m&&"signInMethod"in m,"argument-error"),Os._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return z(f.idToken||f.accessToken,"argument-error"),Os._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ks.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ks.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:L,nonce:X,providerId:_e}=f;if(!b&&!x&&!m&&!L||!_e)return null;try{return new ks(_e)._credential({idToken:m,accessToken:b,nonce:X,pendingToken:L})}catch{return null}}}let Ko=(()=>{class y extends Yi{constructor(){super("facebook.com")}static credential(m){return Os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Zo=(()=>{class y extends Yi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:x}=m;if(!b&&!x)return null;try{return y.credential(b,x)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),xa=(()=>{class y extends Yi{constructor(){super("github.com")}static credential(m){return Os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Yo extends _r{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return yr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,yr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,yr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x,pendingToken:L}=m;return b&&x&&L&&b===x?new Yo(b,L):null}static _create(f,m){return new Yo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class En extends ui{constructor(f){z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return En.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return En.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Yo.fromJSON(f);return z(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Yo._create(b,m)}catch{return null}}}let vr=(()=>{class y extends Yi{constructor(){super("twitter.com")}static credential(m,b){return Os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=m;if(!b||!x)return null;try{return y.credential(b,x)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ps(y,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,I.Z)(function*(y,f){return ii(y,"POST","/v1/accounts:signUp",Ht(y,f))})).apply(this,arguments)}class lr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,x=!1){return(0,I.Z)(function*(){const L=yield G._fromIdTokenResponse(f,b,x),X=Ra(b);return new lr({user:L,providerId:X,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,I.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const x=Ra(b);return new lr({user:f,providerId:x,_tokenResponse:b,operationType:m})})()}}function Ra(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function jn(){return(jn=(0,I.Z)(function*(y){var f;const m=Ut(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new lr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ps(m,{returnSecureToken:!0}),x=yield lr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class ka extends B.ZR{constructor(f,m,b,x){var L;super(m.code,m.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,ka.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,x){return new ka(f,m,b,x)}}function Ru(y,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?ka._fromErrorAndOperation(y,L,f,b):L})}function wi(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function ps(){return(ps=(0,I.Z)(function*(y,f){const m=(0,B.m9)(y);yield rn(!0,m,f);const{providerUserInfo:b}=yield Yr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),x=wi(b||[]);return m.providerData=m.providerData.filter(L=>x.has(L.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function eo(y,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,I.Z)(function*(y,f,m=!1){const b=yield Xn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return lr._forOperation(y,"link",b)})).apply(this,arguments)}function rn(y,f,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,I.Z)(function*(y,f,m){yield hn(f);const x=!1===y?"provider-already-linked":"no-such-provider";z(wi(f.providerData).has(m)===y,f.auth,x)})).apply(this,arguments)}function to(y,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,I.Z)(function*(y,f,m=!1){var b;const{auth:x}=y,L="reauthenticate";try{const X=yield Xn(y,Ru(x,L,f,y),m);z(X.idToken,x,"internal-error");const _e=vt(X.idToken);z(_e,x,"internal-error");const{sub:ze}=_e;return z(y.uid===ze,x,"user-mismatch"),lr._forOperation(y,L,X)}catch(X){throw"auth/user-not-found"===(null===(b=X)||void 0===b?void 0:b.code)&&Be(x,"user-mismatch"),X}})).apply(this,arguments)}function Ri(y,f){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,I.Z)(function*(y,f,m=!1){const b="signIn",x=yield Ru(y,b,f),L=yield lr._fromIdTokenResponse(y,b,x);return m||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function On(y,f){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,I.Z)(function*(y,f){return Ri(Ut(y),f)})).apply(this,arguments)}function Ls(y,f){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,I.Z)(function*(y,f){const m=(0,B.m9)(y);return yield rn(!1,m,f.providerId),eo(m,f)})).apply(this,arguments)}function gs(y,f){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,I.Z)(function*(y,f){return to((0,B.m9)(y),f)})).apply(this,arguments)}function no(y,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,I.Z)(function*(y,f){return ii(y,"POST","/v1/accounts:signInWithCustomToken",Ht(y,f))})).apply(this,arguments)}function Vs(){return(Vs=(0,I.Z)(function*(y,f){const m=Ut(y),b=yield no(m,{token:f,returnSecureToken:!0}),x=yield lr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Oe{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Jt._fromServerResponse(f,m):Be(f,"internal-error")}}class Jt extends Oe{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Jt(m)}}function ro(y,f,m){var b;z((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),z(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(z(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(z(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function $n(){return($n=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),x={requestType:"PASSWORD_RESET",email:f};m&&ro(b,x,m),yield ln(b,x)})).apply(this,arguments)}function Qi(){return(Qi=(0,I.Z)(function*(y,f,m){yield Fn((0,B.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function io(){return(io=(0,I.Z)(function*(y,f){yield Io((0,B.m9)(y),{oobCode:f})})).apply(this,arguments)}function Bs(y,f){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,I.Z)(function*(y,f){const m=(0,B.m9)(y),b=yield Fn(m,{oobCode:f}),x=b.requestType;switch(z(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(b.mfaInfo,m,"internal-error");default:z(b.email,m,"internal-error")}let L=null;return b.mfaInfo&&(L=Oe._fromServerResponse(Ut(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:L},operation:x}})).apply(this,arguments)}function kl(){return(kl=(0,I.Z)(function*(y,f){const{data:m}=yield Bs((0,B.m9)(y),f);return m.email})).apply(this,arguments)}function Hn(){return(Hn=(0,I.Z)(function*(y,f,m){const b=Ut(y),x=yield Ps(b,{returnSecureToken:!0,email:f,password:m}),L=yield lr._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(L.user),L})).apply(this,arguments)}function Us(){return(Us=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),x={requestType:"EMAIL_SIGNIN",email:f};z(m.handleCodeInApp,b,"argument-error"),m&&ro(b,x,m),yield Rs(b,x)})).apply(this,arguments)}function ea(){return(ea=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),x=ci.credentialWithLink(f,m||$e());return z(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),On(b,x)})).apply(this,arguments)}function qd(y,f){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:createAuthUri",Ht(y,f))})).apply(this,arguments)}function js(){return(js=(0,I.Z)(function*(y,f){const b={identifier:f,continueUri:It()?$e():"http://localhost"},{signinMethods:x}=yield qd((0,B.m9)(y),b);return x||[]})).apply(this,arguments)}function So(){return(So=(0,I.Z)(function*(y,f){const m=(0,B.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&ro(m.auth,x,f);const{email:L}=yield ar(m.auth,x);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ha(){return(Ha=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&ro(b.auth,L,m);const{email:X}=yield Al(b.auth,L);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ga(y,f){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,I.Z)(function*(y,f){return dn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function za(){return(za=(0,I.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,B.m9)(y),L={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},X=yield Xn(b,Ga(b.auth,L));b.displayName=X.displayName||null,b.photoURL=X.photoUrl||null;const _e=b.providerData.find(({providerId:ze})=>"password"===ze);_e&&(_e.displayName=b.displayName,_e.photoURL=b.photoURL),yield b._updateTokensIfNecessary(X)})).apply(this,arguments)}function T(y,f,m){return P.apply(this,arguments)}function P(){return(P=(0,I.Z)(function*(y,f,m){const{auth:b}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(L.email=f),m&&(L.password=m);const X=yield Xn(y,en(b,L));yield y._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class ce{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class be extends ce{constructor(f,m,b,x){super(f,m,b),this.username=x}}class it extends ce{constructor(f,m){super(f,"facebook.com",m)}}class pn extends be{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class yn extends ce{constructor(f,m){super(f,"google.com",m)}}class gn extends be{constructor(f,m,b){super(f,"twitter.com",m,b)}}function sn(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function H(y){var f,m;if(!y)return null;const{providerId:b}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const X=null===(m=null===(f=vt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(X)return new ce(L,"anonymous"!==X&&"custom"!==X?X:null)}if(!b)return null;switch(b){case"facebook.com":return new it(L,x);case"github.com":return new pn(L,x);case"google.com":return new yn(L,x);case"twitter.com":return new gn(L,x,y.screenName||null);case"custom":case"anonymous":return new ce(L,null);default:return new ce(L,b,x)}}(m)}class $s{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new $s("enroll",f,m)}static _fromMfaPendingCredential(f){return new $s("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return $s._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return $s._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ku{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=Ut(f),x=m.customData._serverResponse,L=(x.mfaInfo||[]).map(_e=>Oe._fromServerResponse(b,_e));z(x.mfaPendingCredential,b,"internal-error");const X=$s._fromMfaPendingCredential(x.mfaPendingCredential);return new ku(X,L,function(){var _e=(0,I.Z)(function*(ze){const Ze=yield ze._process(b,X);delete x.mfaInfo,delete x.mfaPendingCredential;const wt=Object.assign(Object.assign({},x),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(m.operationType){case"signIn":const Nt=yield lr._fromIdTokenResponse(b,m.operationType,wt);return yield b._updateCurrentUser(Nt.user),Nt;case"reauthenticate":return z(m.user,b,"internal-error"),lr._forOperation(m.user,m.operationType,wt);default:Be(b,"internal-error")}});return function(ze){return _e.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,I.Z)(function*(){return m.signInResolver(f)})()}}function Ac(y,f){return dn(y,"POST","/v2/accounts/mfaEnrollment:start",Ht(y,f))}class Nf{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Oe._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Nf(f)}getSession(){var f=this;return(0,I.Z)(function*(){return $s._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,I.Z)(function*(){const x=f,L=yield b.getSession(),X=yield Xn(b.user,x._process(b.user.auth,L,m));return yield b.user._updateTokensIfNecessary(X),b.user.reload()})()}unenroll(f){var m=this;return(0,I.Z)(function*(){var b;const x="string"==typeof f?f:f.uid,L=yield m.user.getIdToken(),X=yield Xn(m.user,function Zg(y,f){return dn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(y,f))}(m.user.auth,{idToken:L,mfaEnrollmentId:x}));m.enrolledFactors=m.enrolledFactors.filter(({uid:_e})=>_e!==x),yield m.user._updateTokensIfNecessary(X);try{yield m.user.reload()}catch(_e){if("auth/user-token-expired"!==(null===(b=_e)||void 0===b?void 0:b.code))throw _e}})()}}const Pu=new WeakMap,na="__sak";class Lu{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(na,"1"),this.storage.removeItem(na),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bl=(()=>{class y extends Lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vl(){const y=(0,B.z$)();return Zt(y)||Tt(y)}()&&function Rn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),L=this.localCache[b];x!==L&&m(b,L,x)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((_e,ze,Ze)=>{this.notifyListeners(_e,Ze)});const x=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(x);if(m.newValue!==_e)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!b)return}const L=()=>{const _e=this.storage.getItem(x);!b&&this.localCache[x]===_e||this.notifyListeners(x,_e)},X=this.storage.getItem(x);!function Qe(){return(0,B.w1)()&&10===document.documentMode}()||X===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const L of Array.from(x))L(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var x=()=>super._set,L=this;return(0,I.Z)(function*(){yield x().call(L,m,b),L.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,x=this;return(0,I.Z)(function*(){const L=yield b().call(x,m);return x.localCache[m]=JSON.stringify(L),L})()}_remove(m){var b=()=>super._remove,x=this;return(0,I.Z)(function*(){yield b().call(x,m),delete x.localCache[m]})()}}return y.type="LOCAL",y})(),vs=(()=>{class y extends Lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Af=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(L=>L.isListeningto(m));if(b)return b;const x=new y(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,I.Z)(function*(){const x=m,{eventId:L,eventType:X,data:_e}=x.data,ze=b.handlersMap[X];if(!ze?.size)return;x.ports[0].postMessage({status:"ack",eventId:L,eventType:X});const Ze=Array.from(ze).map(function(){var Nt=(0,I.Z)(function*(kr){return kr(x.origin,_e)});return function(kr){return Nt.apply(this,arguments)}}()),wt=yield function ao(y){return Promise.all(y.map(function(){var f=(0,I.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(Ze);x.ports[0].postMessage({status:"done",eventId:L,eventType:X,response:wt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ka(y="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return y+m}class Mc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var x=this;return(0,I.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let X,_e;return new Promise((ze,Ze)=>{const wt=Ka("",20);L.port1.start();const Nt=setTimeout(()=>{Ze(new Error("unsupported_event"))},b);_e={messageChannel:L,onMessage(kr){const Es=kr;if(Es.data.eventId===wt)switch(Es.data.status){case"ack":clearTimeout(Nt),X=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),ze(Es.data.response);break;default:clearTimeout(Nt),clearTimeout(X),Ze(new Error("invalid_response"))}}},x.handlers.add(_e),L.port1.addEventListener("message",_e.onMessage),x.target.postMessage({eventType:f,eventId:wt,data:m},[L.port2])}).finally(()=>{_e&&x.removeMessageHandler(_e)})})()}}function br(){return window}function Ul(){return typeof br().WorkerGlobalScope<"u"&&"function"==typeof br().importScripts}function jl(){return(jl=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const No="firebaseLocalStorageDb",Ao="firebaseLocalStorage",lo="fbase_key";class $r{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function $l(y,f){return y.transaction([Ao],f?"readwrite":"readonly").objectStore(Ao)}function Ya(){const y=indexedDB.open(No,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Ao,{keyPath:lo})}catch(x){m(x)}}),y.addEventListener("success",(0,I.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Ao)?f(b):(b.close(),yield function Hl(){const y=indexedDB.deleteDatabase(No);return new $r(y).toPromise()}(),f(yield Ya()))}))})}function Mo(y,f,m){return ju.apply(this,arguments)}function ju(){return(ju=(0,I.Z)(function*(y,f,m){const b=$l(y,!0).put({[lo]:f,value:m});return new $r(b).toPromise()})).apply(this,arguments)}function Qa(){return(Qa=(0,I.Z)(function*(y,f){const m=$l(y,!1).get(f),b=yield new $r(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function di(y,f){const m=$l(y,!0).delete(f);return new $r(m).toPromise()}const Ja=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,I.Z)(function*(){return m.db||(m.db=yield Ya()),m.db})()}_withRetries(m){var b=this;return(0,I.Z)(function*(){let x=0;for(;;)try{const L=yield b._openDb();return yield m(L)}catch(L){if(x++>3)throw L;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,I.Z)(function*(){return Ul()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,I.Z)(function*(){m.receiver=Af._getInstance(function Za(){return Ul()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,I.Z)(function*(x,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(x,L){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,I.Z)(function*(x,L){return["keyChanged"]});return function(x,L){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,I.Z)(function*(){var b,x;if(m.activeServiceWorker=yield function ra(){return jl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Mc(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(b=L[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=L[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,I.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Uu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ya();return yield Mo(m,na,"1"),yield di(m,na),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,I.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var x=this;return(0,I.Z)(function*(){return x._withPendingWrite((0,I.Z)(function*(){return yield x._withRetries(L=>Mo(L,m,b)),x.localCache[m]=b,x.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,I.Z)(function*(){const x=yield b._withRetries(L=>function Hs(y,f){return Qa.apply(this,arguments)}(L,m));return b.localCache[m]=x,x})()}_remove(m){var b=this;return(0,I.Z)(function*(){return b._withPendingWrite((0,I.Z)(function*(){return yield b._withRetries(x=>di(x,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,I.Z)(function*(){const b=yield m._withRetries(X=>{const _e=$l(X,!1).getAll();return new $r(_e).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const x=[],L=new Set;for(const{fbase_key:X,value:_e}of b)L.add(X),JSON.stringify(m.localCache[X])!==JSON.stringify(_e)&&(m.notifyListeners(X,_e),x.push(X));for(const X of Object.keys(m.localCache))m.localCache[X]&&!L.has(X)&&(m.notifyListeners(X,null),x.push(X));return x})()}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const L of Array.from(x))L(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Hu(y,f){return dn(y,"POST","/v2/accounts/mfaSignIn:start",Ht(y,f))}function Gs(){return(Gs=(0,I.Z)(function*(y){return(yield dn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ds(y){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=x=>{const L=Ne("internal-error");L.customData=x,m(L)},b.type="text/javascript",b.charset="UTF-8",function xo(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Xa(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ws=1e12;class An{constructor(f){this.auth=f,this.counter=Ws,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new Kd(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||Ws;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ws))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,I.Z)(function*(){var b;return null===(b=m._widgets.get(f||Ws))||void 0===b||b.execute(),""})()}}class Kd{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;z(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gu(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ia=Xa("rcb"),xf=new cn(3e4,6e4);class Rc{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=br().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return z(function Yd(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(br().grecaptcha):new Promise((b,x)=>{const L=br().setTimeout(()=>{x(Ne(f,"network-request-failed"))},xf.get());br()[ia]=()=>{br().clearTimeout(L),delete br()[ia];const _e=br().grecaptcha;if(!_e)return void x(Ne(f,"internal-error"));const ze=_e.render;_e.render=(Ze,wt)=>{const Nt=ze(Ze,wt);return this.counter++,Nt},this.hostLanguage=m,b(_e)},Ds(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ia,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),x(Ne(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=br().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dr{load(f){return(0,I.Z)(function*(){return new An(f)})()}clearedOneInstance(){}}const Qd="recaptcha",Yg={theme:"light",type:"image"};class wr{constructor(f,m=Object.assign({},Yg),b){this.parameters=m,this.type=Qd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ut(b),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;z(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dr:new Rc,this.validateStartingState()}verify(){var f=this;return(0,I.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(L=>{const X=_e=>{!_e||(f.tokenChangeListeners.delete(X),L(_e))};f.tokenChangeListeners.add(X),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=br()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,I.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,I.Z)(function*(){z(It()&&!Ul(),f.auth,"internal-error"),yield function Gl(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function hi(y){return Gs.apply(this,arguments)}(f.auth);z(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oo{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Zi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Wl(){return(Wl=(0,I.Z)(function*(y,f,m){const b=Ut(y),x=yield co(b,f,(0,B.m9)(m));return new Oo(x,L=>On(b,L))})).apply(this,arguments)}function ts(){return(ts=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);yield rn(!1,b,"phone");const x=yield co(b.auth,f,(0,B.m9)(m));return new Oo(x,L=>Ls(b,L))})).apply(this,arguments)}function Pi(){return(Pi=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y),x=yield co(b.auth,f,(0,B.m9)(m));return new Oo(x,L=>gs(b,L))})).apply(this,arguments)}function co(y,f,m){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,I.Z)(function*(y,f,m){var b;const x=yield m.verify();try{let L;if(z("string"==typeof x,y,"argument-error"),z(m.type===Qd,y,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const X=L.session;if("phoneNumber"in L)return z("enroll"===X.type,y,"internal-error"),(yield Ac(y,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{z("signin"===X.type,y,"internal-error");const _e=(null===(b=L.multiFactorHint)||void 0===b?void 0:b.uid)||L.multiFactorUid;return z(_e,y,"missing-multi-factor-info"),(yield Hu(y,{mfaPendingCredential:X.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield Sf(y,{phoneNumber:L.phoneNumber,recaptchaToken:x});return X}}finally{m._reset()}})).apply(this,arguments)}function ko(){return(ko=(0,I.Z)(function*(y,f){yield eo((0,B.m9)(y),f)})).apply(this,arguments)}let Po=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Ut(m)}verifyPhoneNumber(m,b){return co(this.auth,m,(0,B.m9)(b))}static credential(m,b){return Zi._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:x}=m;return b&&x?Zi._fromTokenResponse(b,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Fo(y,f){return f?ue(f):(z(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class sa extends _r{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return yr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return yr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return yr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Fi(y){return Ri(y.auth,new sa(y),y.bypassAuthState)}function oa(y){const{auth:f,user:m}=y;return z(m,f,"internal-error"),to(m,new sa(y),y.bypassAuthState)}function Lo(y){return zu.apply(this,arguments)}function zu(){return(zu=(0,I.Z)(function*(y){const{auth:f,user:m}=y;return z(m,f,"internal-error"),eo(m,new sa(y),y.bypassAuthState)})).apply(this,arguments)}class kc{constructor(f,m,b,x,L=!1){this.auth=f,this.resolver=b,this.user=x,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,I.Z)(function*(b,x){f.pendingPromise={resolve:b,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(b,x){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,I.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:L,tenantId:X,error:_e,type:ze}=f;if(_e)return void m.reject(_e);const Ze={auth:m.auth,requestUri:b,sessionId:x,tenantId:X||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ze)(Ze))}catch(wt){m.reject(wt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Fi;case"linkViaPopup":case"linkViaRedirect":return Lo;case"reauthViaPopup":case"reauthViaRedirect":return oa;default:Be(this.auth,"internal-error")}}resolve(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jd=new cn(2e3,1e4);function Pc(){return(Pc=(0,I.Z)(function*(y,f,m){const b=Ut(y);qe(y,f,ui);const x=Fo(b,m);return new tl(b,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function Rf(){return(Rf=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);qe(b.auth,f,ui);const x=Fo(b.auth,m);return new tl(b.auth,"reauthViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}function el(){return(el=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);qe(b.auth,f,ui);const x=Fo(b.auth,m);return new tl(b.auth,"linkViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}let tl=(()=>{class y extends kc{constructor(m,b,x,L,X){super(m,b,L,X),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,I.Z)(function*(){const b=yield m.execute();return z(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,I.Z)(function*(){ee(1===m.filter.length,"Popup operations only handle one event");const b=Ka();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Ne(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Jd.get())};m()}}return y.currentPopupAction=null,y})();const Li=new Map;class ql extends kc{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,I.Z)(function*(){let b=Li.get(m.auth._key());if(!b){try{const L=(yield function Vo(y,f){return ns.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(L)}catch(x){b=()=>Promise.reject(x)}Li.set(m.auth._key(),b)}return m.bypassAuthState||Li.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,I.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const x=yield b.auth._redirectUserForId(f.eventId);if(x)return b.user=x,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function ns(){return(ns=(0,I.Z)(function*(y,f){const m=Ku(f),b=ws(y);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(m));return yield b._remove(m),x})).apply(this,arguments)}function Bo(y,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,I.Z)(function*(y,f){return ws(y)._set(Ku(f),"true")})).apply(this,arguments)}function aa(y,f){Li.set(y._key(),f)}function ws(y){return ue(y._redirectPersistence)}function Ku(y){return Ae("pendingRedirect",y.config.apiKey,y.name)}function S(){return(S=(0,I.Z)(function*(y,f,m){const b=Ut(y);qe(y,f,ui);const x=Fo(b,m);return yield Bo(x,b),x._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function $(){return($=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);qe(b.auth,f,ui);const x=Fo(b.auth,m);yield Bo(x,b.auth);const L=yield xt(b);return x._openRedirect(b.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function Ve(){return(Ve=(0,I.Z)(function*(y,f,m){const b=(0,B.m9)(y);qe(b.auth,f,ui);const x=Fo(b.auth,m);yield rn(!1,b,f.providerId),yield Bo(x,b.auth);const L=yield xt(b);return x._openRedirect(b.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function Dt(){return(Dt=(0,I.Z)(function*(y,f){return yield Ut(y)._initializationPromise,Mt(y,f,!1)})).apply(this,arguments)}function Mt(y,f){return $t.apply(this,arguments)}function $t(){return($t=(0,I.Z)(function*(y,f,m=!1){const b=Ut(y),x=Fo(b,f),X=yield new ql(b,x,m).execute();return X&&!m&&(delete X.user._redirectEventId,yield b._persistUserIfCurrent(X.user),yield b._setRedirectUser(null,f)),X})).apply(this,arguments)}function xt(y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,I.Z)(function*(y){const f=Ka(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class nl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function il(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uo(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!uo(f)){const x=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ne(this.auth,x))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rl(f))}saveEventToCache(f){this.cachedEventUids.add(rl(f)),this.lastProcessedEventTime=Date.now()}}function rl(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function uo({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function ho(y){return la.apply(this,arguments)}function la(){return(la=(0,I.Z)(function*(y,f={}){return dn(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Kl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ca=/^https?/;function Ry(){return(Ry=(0,I.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield ho(y);for(const m of f)try{if(kf(m))return}catch{}Be(y,"unauthorized-domain")})).apply(this,arguments)}function kf(y){const f=$e(),{protocol:m,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const X=new URL(y);return""===X.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&X.hostname===b}if(!ca.test(m))return!1;if(Kl.test(y))return b===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const Oy=new cn(3e4,6e4);function Pf(){const y=br().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Yu=null;function wD(y){return Yu=Yu||function Lc(y){return new Promise((f,m)=>{var b,x,L;function X(){Pf(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Pf(),m(Ne(y,"network-request-failed"))},timeout:Oy.get()})}if(null!==(x=null===(b=br().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)f(gapi.iframes.getContext());else{if(null===(L=br().gapi)||void 0===L||!L.load){const _e=Xa("iframefcb");return br()[_e]=()=>{gapi.load?X():m(Ne(y,"network-request-failed"))},Ds(`https://apis.google.com/js/api.js?onload=${_e}`).catch(ze=>m(ze))}X()}}).catch(f=>{throw Yu=null,f})}(y),Yu}const Ff=new cn(5e3,15e3),Qg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},th=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jg(y){const f=y.config;z(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?xn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:Q.SDK_VERSION},x=th.get(y.config.apiHost);x&&(b.eid=x);const L=y._getFrameworks();return L.length&&(b.fw=L.join(",")),`${m}?${(0,B.xO)(b).slice(1)}`}function Vc(){return Vc=(0,I.Z)(function*(y){const f=yield wD(y),m=br().gapi;return z(m,y,"internal-error"),f.open({where:document.body,url:Jg(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qg,dontclear:!0},b=>new Promise(function(){var x=(0,I.Z)(function*(L,X){yield b.restyle({setHideOnLeave:!1});const _e=Ne(y,"network-request-failed"),ze=br().setTimeout(()=>{X(_e)},Ff.get());function Ze(){br().clearTimeout(ze),L(b)}b.ping(Ze).then(Ze,()=>{X(_e)})});return function(L,X){return x.apply(this,arguments)}}()))}),Vc.apply(this,arguments)}const nh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ju{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Is(y,f,m,b,x,L){z(y.config.authDomain,y,"auth-domain-config-required"),z(y.config.apiKey,y,"invalid-api-key");const X={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:Q.SDK_VERSION,eventId:x};if(f instanceof ui){f.setDefaultLanguage(y.languageCode),X.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(X.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ze,Ze]of Object.entries(L||{}))X[ze]=Ze}if(f instanceof Yi){const ze=f.getScopes().filter(Ze=>""!==Ze);ze.length>0&&(X.scopes=ze.join(","))}y.tenantId&&(X.tid=y.tenantId);const _e=X;for(const ze of Object.keys(_e))void 0===_e[ze]&&delete _e[ze];return`${function Py({config:y}){return y.emulator?xn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(_e).slice(1)}`}const Bc="webStorageSupport";class fo extends class em{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new fo(f)}_finalizeEnroll(f,m,b){return function Kg(y,f){return dn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(y,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function xc(y,f){return dn(y,"POST","/v2/accounts/mfaSignIn:finalize",Ht(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zl=(()=>{class y{constructor(){}static assertion(m){return fo._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Vf="@firebase/auth";class tm{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,I.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var x;f((null===(x=b)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ua(){return window}function al(){return(al=(0,I.Z)(function*(y,f,m){var b;const{BuildInfo:x}=ua();ee(f.sessionId,"AuthEvent did not contain a session ID");const L=yield sh(f.sessionId),X={};return Tt()?X.ibi=x.packageName:In()?X.apn=x.packageName:Be(y,"operation-not-supported-in-this-environment"),x.displayName&&(X.appDisplayName=x.displayName),X.sessionId=L,Is(y,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,X)})).apply(this,arguments)}function ed(){return(ed=(0,I.Z)(function*(y){const{BuildInfo:f}=ua(),m={};Tt()?m.iosBundleId=f.packageName:In()?m.androidPackageName=f.packageName:Be(y,"operation-not-supported-in-this-environment"),yield ho(y,m)})).apply(this,arguments)}function am(){return(am=(0,I.Z)(function*(y,f,m){const{cordova:b}=ua();let x=()=>{};try{yield new Promise((L,X)=>{let _e=null;function ze(){var Nt;L();const kr=null===(Nt=b.plugins.browsertab)||void 0===Nt?void 0:Nt.close;"function"==typeof kr&&kr(),"function"==typeof m?.close&&m.close()}function Ze(){_e||(_e=window.setTimeout(()=>{X(Ne(y,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===document?.visibilityState&&Ze()}f.addPassiveListener(ze),document.addEventListener("resume",Ze,!1),In()&&document.addEventListener("visibilitychange",wt,!1),x=()=>{f.removePassiveListener(ze),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",wt,!1),_e&&window.clearTimeout(_e)}})}finally{x()}})).apply(this,arguments)}function sh(y){return td.apply(this,arguments)}function td(){return(td=(0,I.Z)(function*(y){const f=EC(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function EC(y){if(ee(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(0,B.Pz)("authIdTokenMaxAge"),function nm(y){(0,Q._registerComponent)(new we.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:L,authDomain:X}=b.options;return((_e,ze)=>{z(L&&!L.includes(":"),"invalid-api-key",{appName:_e.name}),z(!X?.includes(":"),"argument-error",{appName:_e.name});const Ze={apiKey:L,authDomain:X,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Di(y)},wt=new bt(_e,ze,Ze);return function Pe(y,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(ue);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,f?.popupRedirectResolver)}(wt,m),wt})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,Q._registerComponent)(new we.wA("auth-internal",f=>{const m=Ut(f.getProvider("auth").getImmediate());return new tm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Q.registerVersion)(Vf,"0.20.8",function Vy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,Q.registerVersion)(Vf,"0.20.8","esm2017")}("Browser");class cm extends nl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,I.Z)(function*(){yield f.initPromise})()}}function ll(y){return jf.apply(this,arguments)}function jf(){return(jf=(0,I.Z)(function*(y){const f=yield nd()._get(rd(y));return f&&(yield nd()._remove(rd(y))),f})).apply(this,arguments)}function oh(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function nd(){return ue(Bl)}function rd(y){return Ae("authEvent",y.config.apiKey,y.name)}function Uc(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,B.zd)(m.join("?"))}function jc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ne("no-auth-event")}}function Wf(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function sd(y=(0,B.z$)()){return!("file:"!==Wf()&&"ionic:"!==Wf()&&"capacitor:"!==Wf()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function gm(){try{const y=self.localStorage,f=Ka();if(y)return y.setItem(f,"1"),y.removeItem(f),!function pm(y=(0,B.z$)()){return function lh(){return(0,B.w1)()&&11===document?.documentMode}()||function $y(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch{return qf()&&(0,B.hl)()}return!1}function qf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kf(){return(function CC(){return"http:"===Wf()||"https:"===Wf()}()||(0,B.ru)()||sd())&&!function zf(){return(0,B.b$)()||(0,B.UG)()}()&&gm()&&!qf()}function Zf(){return sd()&&typeof document<"u"}function mm(){return(mm=(0,I.Z)(function*(){return!!Zf()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const dr={LOCAL:"local",NONE:"none",SESSION:"session"},sr=z,cl="persistence";function od(y){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,I.Z)(function*(y){yield y._initializationPromise;const f=uh(),m=Ae(cl,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function uh(){var y;try{return(null===(y=function _m(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const ul=z;class Bi{constructor(){this.browserResolver=ue(class Fy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Mt,this._overrideRedirectResult=aa}_openPopup(f,m,b,x){var L=this;return(0,I.Z)(function*(){var X;ee(null===(X=L.eventManagers[f._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const _e=Is(f,m,b,$e(),x);return function rh(y,f,m,b=500,x=600){const L=Math.max((window.screen.availHeight-x)/2,0).toString(),X=Math.max((window.screen.availWidth-b)/2,0).toString();let _e="";const ze=Object.assign(Object.assign({},nh),{width:b.toString(),height:x.toString(),top:L,left:X}),Ze=(0,B.z$)().toLowerCase();m&&(_e=Wn(Ze)?"_blank":m),Et(Ze)&&(f=f||"http://localhost",ze.scrollbars="yes");const wt=Object.entries(ze).reduce((kr,[Es,cd])=>`${kr}${Es}=${cd},`,"");if(function nn(y=(0,B.z$)()){var f;return Tt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ze)&&"_self"!==_e)return function Xg(y,f){const m=document.createElement("a");m.href=y,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",_e),new Ju(null);const Nt=window.open(f||"",_e,wt);z(Nt,y,"popup-blocked");try{Nt.focus()}catch{}return new Ju(Nt)}(f,_e,Ka())})()}_openRedirect(f,m,b,x){var L=this;return(0,I.Z)(function*(){return yield L._originValidation(f),function es(y){br().location.href=y}(Is(f,m,b,$e(),x)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:x,promise:L}=this.eventManagers[m];return x?Promise.resolve(x):(ee(L,"If manager is not set, promise should be"),L)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,I.Z)(function*(){const b=yield function ky(y){return Vc.apply(this,arguments)}(f),x=new nl(f);return b.register("authEvent",L=>(z(L?.authEvent,f,"invalid-auth-event"),{status:x.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:x},m.iframes[f._key()]=b,x})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Bc,{type:Bc},x=>{var L;const X=null===(L=x?.[0])||void 0===L?void 0:L[Bc];void 0!==X&&m(!!X),Be(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Fc(y){return Ry.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return qn()||Zt()||Tt()}}),this.cordovaResolver=ue(class ah{constructor(){this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mt,this._overrideRedirectResult=aa}_initialize(f){var m=this;return(0,I.Z)(function*(){const b=f._key();let x=m.eventManagers.get(b);return x||(x=new cm(f),m.eventManagers.set(b,x),m.attachCallbackListeners(f,x)),x})()}_openPopup(f){Be(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,x){var L=this;return(0,I.Z)(function*(){!function TD(y){var f,m,b,x,L,X,_e,ze,Ze,wt;const Nt=ua();z("function"==typeof(null===(f=Nt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof(null===(m=Nt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(L=null===(x=null===(b=Nt?.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===L?void 0:L.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(ze=null===(_e=null===(X=Nt?.cordova)||void 0===X?void 0:X.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===ze?void 0:ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(wt=null===(Ze=Nt?.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===wt?void 0:wt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const X=yield L._initialize(f);yield X.initialized(),X.resetRedirect(),function qu(){Li.clear()}(),yield L._originValidation(f);const _e=function um(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:oh(),postBody:null,tenantId:y.tenantId,error:Ne(y,"no-auth-event")}}(f,b,x);yield function dm(y,f){return nd()._set(rd(y),f)}(f,_e);const ze=yield function da(y,f,m){return al.apply(this,arguments)}(f,_e,m),Ze=yield function sm(y){const{cordova:f}=ua();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let x=null;b?f.plugins.browsertab.openUrl(y):x=f.InAppBrowser.open(y,function zn(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(x)})})}(ze);return function om(y,f,m){return am.apply(this,arguments)}(f,X,Ze)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function im(y){return ed.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:x,BuildInfo:L}=ua(),X=setTimeout((0,I.Z)(function*(){yield ll(f),m.onEvent(jc())}),500),_e=function(){var wt=(0,I.Z)(function*(Nt){clearTimeout(X);const kr=yield ll(f);let Es=null;kr&&Nt?.url&&(Es=function $f(y,f){var m,b;const x=function Ln(y){const f=Uc(y),m=f.link?decodeURIComponent(f.link):void 0,b=Uc(m).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Uc(x).link||x||b||m||y}(f);if(x.includes("/__/auth/callback")){const L=Uc(x),X=L.firebaseError?function Uy(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,_e=null===(b=null===(m=X?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],ze=_e?Ne(_e):null;return ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(kr,Nt.url)),m.onEvent(Es||jc())});return function(kr){return wt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,_e);const ze=x,Ze=`${L.packageName.toLowerCase()}://`;ua().handleOpenURL=function(){var wt=(0,I.Z)(function*(Nt){if(Nt.toLowerCase().startsWith(Ze)&&_e({url:Nt}),"function"==typeof ze)try{ze(Nt)}catch(kr){console.error(kr)}});return function(Nt){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=Mt,this._overrideRedirectResult=aa}_initialize(f){var m=this;return(0,I.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,x){var L=this;return(0,I.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(f,m,b,x)})()}_openRedirect(f,m,b,x){var L=this;return(0,I.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(f,m,b,x)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Zf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ul(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,I.Z)(function*(){if(f.underlyingResolver)return;const m=yield function TC(){return mm.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Yf(y){return y.unwrap()}function ym(y){return dh(y)}function dh(y){const{_tokenResponse:f}=y instanceof B.ZR?y.customData:y;if(!f)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Po.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Zo;break;case"facebook.com":b=Ko;break;case"github.com":b=xa;break;case"twitter.com":b=vr;break;default:const{oauthIdToken:x,oauthAccessToken:L,oauthTokenSecret:X,pendingToken:_e,nonce:ze}=f;return L||X||x||_e?_e?m.startsWith("saml.")?Yo._create(m,_e):Os._fromParams({providerId:m,signInMethod:m,pendingToken:_e,idToken:x,accessToken:L}):new ks(m).credential({idToken:x,accessToken:L,rawNonce:ze}):null}return y instanceof B.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Qn(y,f){return f.catch(m=>{throw m instanceof B.ZR&&function Qf(y,f){var m,b;const x=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=f)||void 0===b?void 0:b.code))f.resolver=new ti(y,function ur(y,f){var m;const b=(0,B.m9)(y),x=f;return z(f.customData.operationType,b,"argument-error"),z(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),ku._fromError(b,x)}(y,f));else if(x){const L=dh(f),X=f;L&&(X.credential=L,X.tenantId=x.tenantId||void 0,X.email=x.email||void 0,X.phoneNumber=x.phoneNumber||void 0)}}(y,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:ym(m),additionalUserInfo:sn(m),user:Ci.getOrCreate(x)}})}function Wr(y,f){return ha.apply(this,arguments)}function ha(){return(ha=(0,I.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>Qn(y,m.confirm(b))}})).apply(this,arguments)}class ti{constructor(f,m){this.resolver=m,this.auth=function Ql(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Qn(Yf(this.auth),this.resolver.resolveSignIn(f))}}class Ci{constructor(f){this._delegate=f,this.multiFactor=function Fu(y){const f=(0,B.m9)(y);return Pu.has(f)||Pu.set(f,Nf._fromUser(f)),Pu.get(f)}(f)}static getOrCreate(f){return Ci.USER_MAP.has(f)||Ci.USER_MAP.set(f,new Ci(f)),Ci.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,I.Z)(function*(){return Qn(m.auth,Ls(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,I.Z)(function*(){return Wr(b.auth,function Ei(y,f,m){return ts.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,I.Z)(function*(){return Qn(m.auth,function Of(y,f,m){return el.apply(this,arguments)}(m._delegate,f,Bi))})()}linkWithRedirect(f){var m=this;return(0,I.Z)(function*(){return yield od(Ut(m.auth)),function ne(y,f,m){return function pe(y,f,m){return Ve.apply(this,arguments)}(y,f,m)}(m._delegate,f,Bi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,I.Z)(function*(){return Qn(m.auth,gs(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Wr(this.auth,function ei(y,f,m){return Pi.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Qn(this.auth,function xy(y,f,m){return Rf.apply(this,arguments)}(this._delegate,f,Bi))}reauthenticateWithRedirect(f){var m=this;return(0,I.Z)(function*(){return yield od(Ut(m.auth)),function N(y,f,m){return function k(y,f,m){return $.apply(this,arguments)}(y,f,m)}(m._delegate,f,Bi)})()}sendEmailVerification(f){return function $a(y,f){return So.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,I.Z)(function*(){return yield function Qr(y,f){return ps.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function E(y,f){return T((0,B.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function R(y,f){return T((0,B.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function My(y,f){return ko.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Wa(y,f){return za.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function ta(y,f,m){return Ha.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ci.USER_MAP=new WeakMap;const Jl=z;let Xl=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;Jl(x,"invalid-api-key",{appName:m.name}),Jl(x,"invalid-api-key",{appName:m.name});const L=typeof window<"u"?Bi:void 0;this._delegate=b.initialize({options:{persistence:vm(x,m.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ci.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function gt(y,f,m){const b=Ut(y);z(b._canInitEmulator,b,"emulator-config-failed"),z(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const x=!!m?.disableWarnings,L=Ki(f),{host:X,port:_e}=function ir(y){const f=Ki(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const L=x[1];return{host:L,port:cs(b.substr(L.length+1))}}{const[L,X]=b.split(":");return{host:L,port:cs(X)}}}(f);b.config.emulator={url:`${L}//${X}${null===_e?"":`:${_e}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:X,port:_e,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function us(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function Xr(y,f){return io.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Bs(this._delegate,m)}confirmPasswordReset(m,b){return function Va(y,f,m){return Qi.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var x=this;return(0,I.Z)(function*(){return Qn(x._delegate,function Ji(y,f,m){return Hn.apply(this,arguments)}(x._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function ja(y,f){return js.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ki(y,f){return"EMAIL_SIGNIN"===Zn.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,I.Z)(function*(){Jl(Kf(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Ke(y,f){return Dt.apply(this,arguments)}(m._delegate,Bi);return b?Qn(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function fm(y,f){Ut(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,x){const{next:L,error:X,complete:_e}=ec(m,b,x);return this._delegate.onAuthStateChanged(L,X,_e)}onIdTokenChanged(m,b,x){const{next:L,error:X,complete:_e}=ec(m,b,x);return this._delegate.onIdTokenChanged(L,X,_e)}sendSignInLinkToEmail(m,b){return function Pl(y,f,m){return Us.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function La(y,f,m){return $n.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,I.Z)(function*(){let x;switch(function ch(y,f){sr(Object.values(dr).includes(f),y,"invalid-persistence-type"),(0,B.b$)()?sr(f!==dr.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?sr(f===dr.NONE,y,"unsupported-persistence-type"):qf()?sr(f===dr.NONE||f===dr.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):sr(f===dr.NONE||gm(),y,"unsupported-persistence-type")}(b._delegate,m),m){case dr.SESSION:x=vs;break;case dr.LOCAL:x=(yield ue(Ja)._isAvailable())?Ja:Bl;break;case dr.NONE:x=te;break;default:return Be("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Qn(this._delegate,function Oa(y){return jn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Qn(this._delegate,On(this._delegate,m))}signInWithCustomToken(m){return Qn(this._delegate,function Fa(y,f){return Vs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Qn(this._delegate,function Xi(y,f,m){return On((0,B.m9)(y),ci.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Qn(this._delegate,function Ou(y,f,m){return ea.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Wr(this._delegate,function Oc(y,f,m){return Wl.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,I.Z)(function*(){return Jl(Kf(),b._delegate,"operation-not-supported-in-this-environment"),Qn(b._delegate,function Xd(y,f,m){return Pc.apply(this,arguments)}(b._delegate,m,Bi))})()}signInWithRedirect(m){var b=this;return(0,I.Z)(function*(){return Jl(Kf(),b._delegate,"operation-not-supported-in-this-environment"),yield od(b._delegate),function Yn(y,f,m){return function Zu(y,f,m){return S.apply(this,arguments)}(y,f,m)}(b._delegate,m,Bi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ua(y,f){return kl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=dr,y})();function ec(y,f,m){let b=y;"function"!=typeof y&&({next:b,error:f,complete:m}=y);const x=b;return{next:X=>x(X&&Ci.getOrCreate(X)),error:f,complete:m}}function vm(y,f){const m=function ad(y,f){const m=uh();if(!m)return[];const b=Ae(cl,y,f);switch(m.getItem(b)){case dr.NONE:return[te];case dr.LOCAL:return[Ja,vs];case dr.SESSION:return[vs];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(Ja)&&m.push(Ja),typeof window<"u")for(const b of[Bl,vs])m.includes(b)||m.push(b);return m.includes(te)||m.push(te),m}class hh{constructor(){this.providerId="phone",this._delegate=new Po(Yf(u.Z.auth()))}static credential(f,m){return Po.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}hh.PHONE_SIGN_IN_METHOD=Po.PHONE_SIGN_IN_METHOD,hh.PROVIDER_ID=Po.PROVIDER_ID;const Hy=z;class Jf{constructor(f,m,b=u.Z.app()){var x;Hy(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new wr(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ld(y){y.INTERNAL.registerComponent(new we.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Xl(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ci,FacebookAuthProvider:Ko,GithubAuthProvider:xa,GoogleAuthProvider:Zo,OAuthProvider:ks,SAMLAuthProvider:En,PhoneAuthProvider:hh,PhoneMultiFactorGenerator:Zl,RecaptchaVerifier:Jf,TwitterAuthProvider:vr,Auth:Xl,AuthCredential:_r,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.21")}(u.Z)},9751:(dt,De,V)=>{"use strict";V.d(De,{y:()=>me});var I=V(930),u=V(727),B=V(8822),Q=V(9635),ie=V(2416),ge=V(576),we=V(2806);let me=(()=>{class Z{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const Ie=new Z;return Ie.source=this,Ie.operator=Te,Ie}subscribe(Te,Ie,Xe){const Ee=function q(Z){return Z&&Z instanceof I.Lv||function K(Z){return Z&&(0,ge.m)(Z.next)&&(0,ge.m)(Z.error)&&(0,ge.m)(Z.complete)}(Z)&&(0,u.Nn)(Z)}(Te)?Te:new I.Hp(Te,Ie,Xe);return(0,we.x)(()=>{const{operator:fe,source:ct}=this;Ee.add(fe?fe.call(Ee,ct):ct?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Te){try{return this._subscribe(Te)}catch(Ie){Te.error(Ie)}}forEach(Te,Ie){return new(Ie=de(Ie))((Xe,Ee)=>{const fe=new I.Hp({next:ct=>{try{Te(ct)}catch(mt){Ee(mt),fe.unsubscribe()}},error:Ee,complete:Xe});this.subscribe(fe)})}_subscribe(Te){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Te)}[B.L](){return this}pipe(...Te){return(0,Q.U)(Te)(this)}toPromise(Te){return new(Te=de(Te))((Ie,Xe)=>{let Ee;this.subscribe(fe=>Ee=fe,fe=>Xe(fe),()=>Ie(Ee))})}}return Z.create=ke=>new Z(ke),Z})();function de(Z){var ke;return null!==(ke=Z??ie.v.Promise)&&void 0!==ke?ke:Promise}},7579:(dt,De,V)=>{"use strict";V.d(De,{x:()=>we});var I=V(9751),u=V(727);const Q=(0,V(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=V(8737),ge=V(2806);let we=(()=>{class de extends I.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const Z=new me(this,this);return Z.operator=q,Z}_throwIfClosed(){if(this.closed)throw new Q}next(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(q)}})}error(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:Z}=this;for(;Z.length;)Z.shift().error(q)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:Z,isStopped:ke,observers:Te}=this;return Z||ke?u.Lc:(this.currentObservers=null,Te.push(q),new u.w0(()=>{this.currentObservers=null,(0,ie.P)(Te,q)}))}_checkFinalizedStatuses(q){const{hasError:Z,thrownError:ke,isStopped:Te}=this;Z?q.error(ke):Te&&q.complete()}asObservable(){const q=new I.y;return q.source=this,q}}return de.create=(K,q)=>new me(K,q),de})();class me extends we{constructor(K,q){super(),this.destination=K,this.source=q}next(K){var q,Z;null===(Z=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===Z||Z.call(q,K)}error(K){var q,Z;null===(Z=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===Z||Z.call(q,K)}complete(){var K,q;null===(q=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===q||q.call(K)}_subscribe(K){var q,Z;return null!==(Z=null===(q=this.source)||void 0===q?void 0:q.subscribe(K))&&void 0!==Z?Z:u.Lc}}},930:(dt,De,V)=>{"use strict";V.d(De,{Hp:()=>Xe,Lv:()=>Z});var I=V(576),u=V(727),B=V(2416),Q=V(7849),ie=V(5032);const ge=de("C",void 0,void 0);function de(Be,Ne,xe){return{kind:Be,value:Ne,error:xe}}var K=V(3410),q=V(2806);class Z extends u.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,u.Nn)(Ne)&&Ne.add(this)):this.destination=mt}static create(Ne,xe,qe){return new Xe(Ne,xe,qe)}next(Ne){this.isStopped?ct(function me(Be){return de("N",Be,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?ct(function we(Be){return de("E",void 0,Be)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?ct(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Te(Be,Ne){return ke.call(Be,Ne)}class Ie{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Ne)}catch(qe){Ee(qe)}}error(Ne){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Ne)}catch(qe){Ee(qe)}else Ee(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(xe){Ee(xe)}}}class Xe extends Z{constructor(Ne,xe,qe){let Ye;if(super(),(0,I.m)(Ne)||!Ne)Ye={next:Ne??void 0,error:xe??void 0,complete:qe??void 0};else{let z;this&&B.v.useDeprecatedNextContext?(z=Object.create(Ne),z.unsubscribe=()=>this.unsubscribe(),Ye={next:Ne.next&&Te(Ne.next,z),error:Ne.error&&Te(Ne.error,z),complete:Ne.complete&&Te(Ne.complete,z)}):Ye=Ne}this.destination=new Ie(Ye)}}function Ee(Be){B.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Be):(0,Q.h)(Be)}function ct(Be,Ne){const{onStoppedNotification:xe}=B.v;xe&&K.z.setTimeout(()=>xe(Be,Ne))}const mt={closed:!0,next:ie.Z,error:function fe(Be){throw Be},complete:ie.Z}},727:(dt,De,V)=>{"use strict";V.d(De,{Lc:()=>ge,w0:()=>ie,Nn:()=>we});var I=V(576);const B=(0,V(3888).d)(de=>function(q){de(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((Z,ke)=>`${ke+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var Q=V(8737);class ie{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Te of q)Te.remove(this);else q.remove(this);const{initialTeardown:Z}=this;if((0,I.m)(Z))try{Z()}catch(Te){K=Te instanceof B?Te.errors:[Te]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Te of ke)try{me(Te)}catch(Ie){K=K??[],Ie instanceof B?K=[...K,...Ie.errors]:K.push(Ie)}}if(K)throw new B(K)}}add(K){var q;if(K&&K!==this)if(this.closed)me(K);else{if(K instanceof ie){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(K)}}_hasParent(K){const{_parentage:q}=this;return q===K||Array.isArray(q)&&q.includes(K)}_addParent(K){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(K),q):q?[q,K]:K}_removeParent(K){const{_parentage:q}=this;q===K?this._parentage=null:Array.isArray(q)&&(0,Q.P)(q,K)}remove(K){const{_finalizers:q}=this;q&&(0,Q.P)(q,K),K instanceof ie&&K._removeParent(this)}}ie.EMPTY=(()=>{const de=new ie;return de.closed=!0,de})();const ge=ie.EMPTY;function we(de){return de instanceof ie||de&&"closed"in de&&(0,I.m)(de.remove)&&(0,I.m)(de.add)&&(0,I.m)(de.unsubscribe)}function me(de){(0,I.m)(de)?de():de.unsubscribe()}},2416:(dt,De,V)=>{"use strict";V.d(De,{v:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,De,V)=>{"use strict";V.d(De,{E:()=>u});const u=new(V(9751).y)(ie=>ie.complete())},8996:(dt,De,V)=>{"use strict";V.d(De,{D:()=>Ne});var I=V(8421),u=V(5363),B=V(9468),ge=V(9751),me=V(2202),de=V(576),K=V(9672);function Z(xe,qe){if(!xe)throw new Error("Iterable cannot be null");return new ge.y(Ye=>{(0,K.f)(Ye,qe,()=>{const z=xe[Symbol.asyncIterator]();(0,K.f)(Ye,qe,()=>{z.next().then(Ce=>{Ce.done?Ye.complete():Ye.next(Ce.value)})},0,!0)})})}var ke=V(3670),Te=V(8239),Ie=V(1144),Xe=V(6495),Ee=V(2206),fe=V(4532),ct=V(3260);function Ne(xe,qe){return qe?function Be(xe,qe){if(null!=xe){if((0,ke.c)(xe))return function Q(xe,qe){return(0,I.Xf)(xe).pipe((0,B.R)(qe),(0,u.Q)(qe))}(xe,qe);if((0,Ie.z)(xe))return function we(xe,qe){return new ge.y(Ye=>{let z=0;return qe.schedule(function(){z===xe.length?Ye.complete():(Ye.next(xe[z++]),Ye.closed||this.schedule())})})}(xe,qe);if((0,Te.t)(xe))return function ie(xe,qe){return(0,I.Xf)(xe).pipe((0,B.R)(qe),(0,u.Q)(qe))}(xe,qe);if((0,Ee.D)(xe))return Z(xe,qe);if((0,Xe.T)(xe))return function q(xe,qe){return new ge.y(Ye=>{let z;return(0,K.f)(Ye,qe,()=>{z=xe[me.h](),(0,K.f)(Ye,qe,()=>{let Ce,ee;try{({value:Ce,done:ee}=z.next())}catch(re){return void Ye.error(re)}ee?Ye.complete():Ye.next(Ce)},0,!0)}),()=>(0,de.m)(z?.return)&&z.return()})}(xe,qe);if((0,ct.L)(xe))return function mt(xe,qe){return Z((0,ct.Q)(xe),qe)}(xe,qe)}throw(0,fe.z)(xe)}(xe,qe):(0,I.Xf)(xe)}},8421:(dt,De,V)=>{"use strict";V.d(De,{Xf:()=>ke});var I=V(655),u=V(1144),B=V(8239),Q=V(9751),ie=V(3670),ge=V(2206),we=V(4532),me=V(6495),de=V(3260),K=V(576),q=V(7849),Z=V(8822);function ke(Be){if(Be instanceof Q.y)return Be;if(null!=Be){if((0,ie.c)(Be))return function Te(Be){return new Q.y(Ne=>{const xe=Be[Z.L]();if((0,K.m)(xe.subscribe))return xe.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,u.z)(Be))return function Ie(Be){return new Q.y(Ne=>{for(let xe=0;xe<Be.length&&!Ne.closed;xe++)Ne.next(Be[xe]);Ne.complete()})}(Be);if((0,B.t)(Be))return function Xe(Be){return new Q.y(Ne=>{Be.then(xe=>{Ne.closed||(Ne.next(xe),Ne.complete())},xe=>Ne.error(xe)).then(null,q.h)})}(Be);if((0,ge.D)(Be))return fe(Be);if((0,me.T)(Be))return function Ee(Be){return new Q.y(Ne=>{for(const xe of Be)if(Ne.next(xe),Ne.closed)return;Ne.complete()})}(Be);if((0,de.L)(Be))return function ct(Be){return fe((0,de.Q)(Be))}(Be)}throw(0,we.z)(Be)}function fe(Be){return new Q.y(Ne=>{(function mt(Be,Ne){var xe,qe,Ye,z;return(0,I.mG)(this,void 0,void 0,function*(){try{for(xe=(0,I.KL)(Be);!(qe=yield xe.next()).done;)if(Ne.next(qe.value),Ne.closed)return}catch(Ce){Ye={error:Ce}}finally{try{qe&&!qe.done&&(z=xe.return)&&(yield z.call(xe))}finally{if(Ye)throw Ye.error}}Ne.complete()})})(Be,Ne).catch(xe=>Ne.error(xe))})}},6451:(dt,De,V)=>{"use strict";V.d(De,{T:()=>ge});var I=V(8189),u=V(8421),B=V(515),Q=V(3269),ie=V(8996);function ge(...we){const me=(0,Q.yG)(we),de=(0,Q._6)(we,1/0),K=we;return K.length?1===K.length?(0,u.Xf)(K[0]):(0,I.J)(de)((0,ie.D)(K,me)):B.E}},5403:(dt,De,V)=>{"use strict";V.d(De,{x:()=>u});var I=V(930);function u(Q,ie,ge,we,me){return new B(Q,ie,ge,we,me)}class B extends I.Lv{constructor(ie,ge,we,me,de,K){super(ie),this.onFinalize=de,this.shouldUnsubscribe=K,this._next=ge?function(q){try{ge(q)}catch(Z){ie.error(Z)}}:super._next,this._error=me?function(q){try{me(q)}catch(Z){ie.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(q){ie.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(dt,De,V)=>{"use strict";V.d(De,{U:()=>B});var I=V(4482),u=V(5403);function B(Q,ie){return(0,I.e)((ge,we)=>{let me=0;ge.subscribe((0,u.x)(we,de=>{we.next(Q.call(ie,de,me++))}))})}},8189:(dt,De,V)=>{"use strict";V.d(De,{J:()=>B});var I=V(5577),u=V(4671);function B(Q=1/0){return(0,I.z)(u.y,Q)}},5577:(dt,De,V)=>{"use strict";V.d(De,{z:()=>me});var I=V(4004),u=V(8421),B=V(4482),Q=V(9672),ie=V(5403),we=V(576);function me(de,K,q=1/0){return(0,we.m)(K)?me((Z,ke)=>(0,I.U)((Te,Ie)=>K(Z,Te,ke,Ie))((0,u.Xf)(de(Z,ke))),q):("number"==typeof K&&(q=K),(0,B.e)((Z,ke)=>function ge(de,K,q,Z,ke,Te,Ie,Xe){const Ee=[];let fe=0,ct=0,mt=!1;const Be=()=>{mt&&!Ee.length&&!fe&&K.complete()},Ne=qe=>fe<Z?xe(qe):Ee.push(qe),xe=qe=>{Te&&K.next(qe),fe++;let Ye=!1;(0,u.Xf)(q(qe,ct++)).subscribe((0,ie.x)(K,z=>{ke?.(z),Te?Ne(z):K.next(z)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(fe--;Ee.length&&fe<Z;){const z=Ee.shift();Ie?(0,Q.f)(K,Ie,()=>xe(z)):xe(z)}Be()}catch(z){K.error(z)}}))};return de.subscribe((0,ie.x)(K,Ne,()=>{mt=!0,Be()})),()=>{Xe?.()}}(Z,ke,de,q)))}},5363:(dt,De,V)=>{"use strict";V.d(De,{Q:()=>Q});var I=V(9672),u=V(4482),B=V(5403);function Q(ie,ge=0){return(0,u.e)((we,me)=>{we.subscribe((0,B.x)(me,de=>(0,I.f)(me,ie,()=>me.next(de),ge),()=>(0,I.f)(me,ie,()=>me.complete(),ge),de=>(0,I.f)(me,ie,()=>me.error(de),ge)))})}},3099:(dt,De,V)=>{"use strict";V.d(De,{B:()=>ie});var I=V(8421),u=V(7579),B=V(930),Q=V(4482);function ie(we={}){const{connector:me=(()=>new u.x),resetOnError:de=!0,resetOnComplete:K=!0,resetOnRefCountZero:q=!0}=we;return Z=>{let ke,Te,Ie,Xe=0,Ee=!1,fe=!1;const ct=()=>{Te?.unsubscribe(),Te=void 0},mt=()=>{ct(),ke=Ie=void 0,Ee=fe=!1},Be=()=>{const Ne=ke;mt(),Ne?.unsubscribe()};return(0,Q.e)((Ne,xe)=>{Xe++,!fe&&!Ee&&ct();const qe=Ie=Ie??me();xe.add(()=>{Xe--,0===Xe&&!fe&&!Ee&&(Te=ge(Be,q))}),qe.subscribe(xe),!ke&&Xe>0&&(ke=new B.Hp({next:Ye=>qe.next(Ye),error:Ye=>{fe=!0,ct(),Te=ge(mt,de,Ye),qe.error(Ye)},complete:()=>{Ee=!0,ct(),Te=ge(mt,K),qe.complete()}}),(0,I.Xf)(Ne).subscribe(ke))})(Z)}}function ge(we,me,...de){if(!0===me)return void we();if(!1===me)return;const K=new B.Hp({next:()=>{K.unsubscribe(),we()}});return me(...de).subscribe(K)}},9468:(dt,De,V)=>{"use strict";V.d(De,{R:()=>u});var I=V(4482);function u(B,Q=0){return(0,I.e)((ie,ge)=>{ge.add(B.schedule(()=>ie.subscribe(ge),Q))})}},8505:(dt,De,V)=>{"use strict";V.d(De,{b:()=>ie});var I=V(576),u=V(4482),B=V(5403),Q=V(4671);function ie(ge,we,me){const de=(0,I.m)(ge)||we||me?{next:ge,error:we,complete:me}:ge;return de?(0,u.e)((K,q)=>{var Z;null===(Z=de.subscribe)||void 0===Z||Z.call(de);let ke=!0;K.subscribe((0,B.x)(q,Te=>{var Ie;null===(Ie=de.next)||void 0===Ie||Ie.call(de,Te),q.next(Te)},()=>{var Te;ke=!1,null===(Te=de.complete)||void 0===Te||Te.call(de),q.complete()},Te=>{var Ie;ke=!1,null===(Ie=de.error)||void 0===Ie||Ie.call(de,Te),q.error(Te)},()=>{var Te,Ie;ke&&(null===(Te=de.unsubscribe)||void 0===Te||Te.call(de)),null===(Ie=de.finalize)||void 0===Ie||Ie.call(de)}))}):Q.y}},4408:(dt,De,V)=>{"use strict";V.d(De,{o:()=>ie});var I=V(727);class u extends I.w0{constructor(we,me){super()}schedule(we,me=0){return this}}const B={setInterval(ge,we,...me){const{delegate:de}=B;return de?.setInterval?de.setInterval(ge,we,...me):setInterval(ge,we,...me)},clearInterval(ge){const{delegate:we}=B;return(we?.clearInterval||clearInterval)(ge)},delegate:void 0};var Q=V(8737);class ie extends u{constructor(we,me){super(we,me),this.scheduler=we,this.work=me,this.pending=!1}schedule(we,me=0){var de;if(this.closed)return this;this.state=we;const K=this.id,q=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(q,K,me)),this.pending=!0,this.delay=me,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(q,this.id,me),this}requestAsyncId(we,me,de=0){return B.setInterval(we.flush.bind(we,this),de)}recycleAsyncId(we,me,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return me;null!=me&&B.clearInterval(me)}execute(we,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(we,me);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,me){let K,de=!1;try{this.work(we)}catch(q){de=!0,K=q||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:we,scheduler:me}=this,{actions:de}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.P)(de,this),null!=we&&(this.id=this.recycleAsyncId(me,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,De,V)=>{"use strict";V.d(De,{v:()=>B});var I=V(6063);class u{constructor(ie,ge=u.now){this.schedulerActionCtor=ie,this.now=ge}schedule(ie,ge=0,we){return new this.schedulerActionCtor(this,ie).schedule(we,ge)}}u.now=I.l.now;class B extends u{constructor(ie,ge=u.now){super(ie,ge),this.actions=[],this._active=!1}flush(ie){const{actions:ge}=this;if(this._active)return void ge.push(ie);let we;this._active=!0;do{if(we=ie.execute(ie.state,ie.delay))break}while(ie=ge.shift());if(this._active=!1,we){for(;ie=ge.shift();)ie.unsubscribe();throw we}}}},4986:(dt,De,V)=>{"use strict";V.d(De,{P:()=>Q,z:()=>B});var I=V(4408);const B=new(V(7565).v)(I.o),Q=B},6063:(dt,De,V)=>{"use strict";V.d(De,{l:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},3410:(dt,De,V)=>{"use strict";V.d(De,{z:()=>I});const I={setTimeout(u,B,...Q){const{delegate:ie}=I;return ie?.setTimeout?ie.setTimeout(u,B,...Q):setTimeout(u,B,...Q)},clearTimeout(u){const{delegate:B}=I;return(B?.clearTimeout||clearTimeout)(u)},delegate:void 0}},2202:(dt,De,V)=>{"use strict";V.d(De,{h:()=>u});const u=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,De,V)=>{"use strict";V.d(De,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(dt,De,V)=>{"use strict";V.d(De,{_6:()=>ge,jO:()=>Q,yG:()=>ie});var I=V(576),u=V(3532);function B(we){return we[we.length-1]}function Q(we){return(0,I.m)(B(we))?we.pop():void 0}function ie(we){return(0,u.K)(B(we))?we.pop():void 0}function ge(we,me){return"number"==typeof B(we)?we.pop():me}},8737:(dt,De,V)=>{"use strict";function I(u,B){if(u){const Q=u.indexOf(B);0<=Q&&u.splice(Q,1)}}V.d(De,{P:()=>I})},3888:(dt,De,V)=>{"use strict";function I(u){const Q=u(ie=>{Error.call(ie),ie.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}V.d(De,{d:()=>I})},2806:(dt,De,V)=>{"use strict";V.d(De,{O:()=>Q,x:()=>B});var I=V(2416);let u=null;function B(ie){if(I.v.useDeprecatedSynchronousErrorHandling){const ge=!u;if(ge&&(u={errorThrown:!1,error:null}),ie(),ge){const{errorThrown:we,error:me}=u;if(u=null,we)throw me}}else ie()}function Q(ie){I.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=ie)}},9672:(dt,De,V)=>{"use strict";function I(u,B,Q,ie=0,ge=!1){const we=B.schedule(function(){Q(),ge?u.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(u.add(we),!ge)return we}V.d(De,{f:()=>I})},4671:(dt,De,V)=>{"use strict";function I(u){return u}V.d(De,{y:()=>I})},1144:(dt,De,V)=>{"use strict";V.d(De,{z:()=>I});const I=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(dt,De,V)=>{"use strict";V.d(De,{D:()=>u});var I=V(576);function u(B){return Symbol.asyncIterator&&(0,I.m)(B?.[Symbol.asyncIterator])}},576:(dt,De,V)=>{"use strict";function I(u){return"function"==typeof u}V.d(De,{m:()=>I})},3670:(dt,De,V)=>{"use strict";V.d(De,{c:()=>B});var I=V(8822),u=V(576);function B(Q){return(0,u.m)(Q[I.L])}},6495:(dt,De,V)=>{"use strict";V.d(De,{T:()=>B});var I=V(2202),u=V(576);function B(Q){return(0,u.m)(Q?.[I.h])}},8239:(dt,De,V)=>{"use strict";V.d(De,{t:()=>u});var I=V(576);function u(B){return(0,I.m)(B?.then)}},3260:(dt,De,V)=>{"use strict";V.d(De,{L:()=>Q,Q:()=>B});var I=V(655),u=V(576);function B(ie){return(0,I.FC)(this,arguments,function*(){const we=ie.getReader();try{for(;;){const{value:me,done:de}=yield(0,I.qq)(we.read());if(de)return yield(0,I.qq)(void 0);yield yield(0,I.qq)(me)}}finally{we.releaseLock()}})}function Q(ie){return(0,u.m)(ie?.getReader)}},3532:(dt,De,V)=>{"use strict";V.d(De,{K:()=>u});var I=V(576);function u(B){return B&&(0,I.m)(B.schedule)}},4482:(dt,De,V)=>{"use strict";V.d(De,{A:()=>u,e:()=>B});var I=V(576);function u(Q){return(0,I.m)(Q?.lift)}function B(Q){return ie=>{if(u(ie))return ie.lift(function(ge){try{return Q(ge,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(dt,De,V)=>{"use strict";function I(){}V.d(De,{Z:()=>I})},9635:(dt,De,V)=>{"use strict";V.d(De,{U:()=>B,z:()=>u});var I=V(4671);function u(...Q){return B(Q)}function B(Q){return 0===Q.length?I.y:1===Q.length?Q[0]:function(ge){return Q.reduce((we,me)=>me(we),ge)}}},7849:(dt,De,V)=>{"use strict";V.d(De,{h:()=>B});var I=V(2416),u=V(3410);function B(Q){u.z.setTimeout(()=>{const{onUnhandledError:ie}=I.v;if(!ie)throw Q;ie(Q)})}},4532:(dt,De,V)=>{"use strict";function I(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(De,{z:()=>I})},9163:dt=>{function De(V){var I=new Error("Cannot find module '"+V+"'");throw I.code="MODULE_NOT_FOUND",I}De.keys=()=>[],De.resolve=De,De.id=9163,dt.exports=De},655:(dt,De,V)=>{"use strict";function Q(ee,re){var ue={};for(var ae in ee)Object.prototype.hasOwnProperty.call(ee,ae)&&re.indexOf(ae)<0&&(ue[ae]=ee[ae]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ae=Object.getOwnPropertySymbols(ee);Pe<ae.length;Pe++)re.indexOf(ae[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ee,ae[Pe])&&(ue[ae[Pe]]=ee[ae[Pe]])}return ue}function me(ee,re,ue,ae){return new(ue||(ue=Promise))(function($e,It){function on(cn){try{tt(ae.next(cn))}catch(xn){It(xn)}}function Kt(cn){try{tt(ae.throw(cn))}catch(xn){It(xn)}}function tt(cn){cn.done?$e(cn.value):function Pe($e){return $e instanceof ue?$e:new ue(function(It){It($e)})}(cn.value).then(on,Kt)}tt((ae=ae.apply(ee,re||[])).next())})}function Ee(ee){return this instanceof Ee?(this.v=ee,this):new Ee(ee)}function fe(ee,re,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,ae=ue.apply(ee,re||[]),$e=[];return Pe={},It("next"),It("throw"),It("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function It(un){ae[un]&&(Pe[un]=function(an){return new Promise(function(pr,Ht){$e.push([un,an,pr,Ht])>1||on(un,an)})})}function on(un,an){try{!function Kt(un){un.value instanceof Ee?Promise.resolve(un.value.v).then(tt,cn):xn($e[0][2],un)}(ae[un](an))}catch(pr){xn($e[0][3],pr)}}function tt(un){on("next",un)}function cn(un){on("throw",un)}function xn(un,an){un(an),$e.shift(),$e.length&&on($e[0][0],$e[0][1])}}function mt(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,re=ee[Symbol.asyncIterator];return re?re.call(ee):(ee=function Z(ee){var re="function"==typeof Symbol&&Symbol.iterator,ue=re&&ee[re],ae=0;if(ue)return ue.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ae>=ee.length&&(ee=void 0),{value:ee&&ee[ae++],done:!ee}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ue={},ae("next"),ae("throw"),ae("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function ae($e){ue[$e]=ee[$e]&&function(It){return new Promise(function(on,Kt){!function Pe($e,It,on,Kt){Promise.resolve(Kt).then(function(tt){$e({value:tt,done:on})},It)}(on,Kt,(It=ee[$e](It)).done,It.value)})}}}V.d(De,{FC:()=>fe,KL:()=>mt,_T:()=>Q,mG:()=>me,qq:()=>Ee})},6895:(dt,De,V)=>{"use strict";V.r(De),V.d(De,{APP_BASE_HREF:()=>fe,AsyncPipe:()=>Sc,CommonModule:()=>Yo,CurrencyPipe:()=>ks,DATE_PIPE_DEFAULT_TIMEZONE:()=>Ma,DOCUMENT:()=>we,DatePipe:()=>fn,DecimalPipe:()=>ui,FormStyle:()=>ee,FormatWidth:()=>ue,HashLocationStrategy:()=>mt,I18nPluralPipe:()=>Zi,I18nSelectPipe:()=>Rl,IMAGE_LOADER:()=>no,JsonPipe:()=>Ol,KeyValuePipe:()=>li,LOCATION_INITIALIZED:()=>K,Location:()=>Be,LocationStrategy:()=>Ee,LowerCasePipe:()=>xl,NgClass:()=>en,NgComponentOutlet:()=>er,NgFor:()=>ai,NgForOf:()=>ai,NgForOfContext:()=>Eo,NgIf:()=>ar,NgIfContext:()=>Co,NgLocaleLocalization:()=>_r,NgLocalization:()=>cs,NgOptimizedImage:()=>Us,NgPlural:()=>Na,NgPluralCase:()=>Tc,NgStyle:()=>Au,NgSwitch:()=>Rs,NgSwitchCase:()=>To,NgSwitchDefault:()=>Al,NgTemplateOutlet:()=>Aa,NumberFormatStyle:()=>z,NumberSymbol:()=>ae,PRECONNECT_CHECK_BLOCKLIST:()=>Ls,PathLocationStrategy:()=>ct,PercentPipe:()=>Yi,PlatformLocation:()=>me,Plural:()=>Ce,SlicePipe:()=>xa,TitleCasePipe:()=>Se,TranslationWidth:()=>re,UpperCasePipe:()=>ds,VERSION:()=>jn,ViewportScroller:()=>ka,WeekDay:()=>Pe,XhrFactory:()=>eo,formatCurrency:()=>Di,formatDate:()=>Cn,formatNumber:()=>bt,formatPercent:()=>xr,getCurrencySymbol:()=>zi,getLocaleCurrencyCode:()=>Zr,getLocaleCurrencyName:()=>ri,getLocaleCurrencySymbol:()=>qo,getLocaleDateFormat:()=>un,getLocaleDateTimeFormat:()=>pr,getLocaleDayNames:()=>on,getLocaleDayPeriods:()=>It,getLocaleDirection:()=>ls,getLocaleEraNames:()=>tt,getLocaleExtraDayPeriodRules:()=>Mr,getLocaleExtraDayPeriods:()=>bi,getLocaleFirstDayOfWeek:()=>cn,getLocaleId:()=>$e,getLocaleMonthNames:()=>Kt,getLocaleNumberFormat:()=>dn,getLocaleNumberSymbol:()=>Ht,getLocalePluralCase:()=>as,getLocaleTimeFormat:()=>an,getLocaleWeekEndRange:()=>xn,getNumberOfCurrencyDigits:()=>si,isPlatformBrowser:()=>Qo,isPlatformServer:()=>lr,isPlatformWorkerApp:()=>Ra,isPlatformWorkerUi:()=>Oa,provideCloudflareLoader:()=>Oe,provideCloudinaryLoader:()=>ro,provideImageKitLoader:()=>$n,provideImgixLoader:()=>Qi,registerLocaleData:()=>Fn,\u0275BrowserPlatformLocation:()=>q,\u0275DomAdapter:()=>ge,\u0275NullViewportScroller:()=>ps,\u0275PLATFORM_BROWSER_ID:()=>fs,\u0275PLATFORM_SERVER_ID:()=>En,\u0275PLATFORM_WORKER_APP_ID:()=>vr,\u0275PLATFORM_WORKER_UI_ID:()=>Ps,\u0275getDOM:()=>B,\u0275parseCookieValue:()=>Kn,\u0275setRootDomAdapter:()=>ie});var I=V(4650);let u=null;function B(){return u}function ie(E){u||(u=E)}class ge{}const we=new I.InjectionToken("DocumentToken");let me=(()=>{class E{historyGo(T){throw new Error("Not implemented")}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(){return function de(){return(0,I.\u0275\u0275inject)(q)}()},providedIn:"platform"}),E})();const K=new I.InjectionToken("Location Initialized");let q=(()=>{class E extends me{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(T){const P=B().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",T,!1),()=>P.removeEventListener("popstate",T)}onHashChange(T){const P=B().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",T,!1),()=>P.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,P,H){Z()?this._history.pushState(T,P,H):this.location.hash=H}replaceState(T,P,H){Z()?this._history.replaceState(T,P,H):this.location.hash=H}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(we))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(){return function ke(){return new q((0,I.\u0275\u0275inject)(we))}()},providedIn:"platform"}),E})();function Z(){return!!window.history.pushState}function Te(E,R){if(0==E.length)return R;if(0==R.length)return E;let T=0;return E.endsWith("/")&&T++,R.startsWith("/")&&T++,2==T?E+R.substring(1):1==T?E+R:E+"/"+R}function Ie(E){const R=E.match(/#|\?|$/),T=R&&R.index||E.length;return E.slice(0,T-("/"===E[T-1]?1:0))+E.slice(T)}function Xe(E){return E&&"?"!==E[0]?"?"+E:E}let Ee=(()=>{class E{historyGo(T){throw new Error("Not implemented")}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(){return(0,I.inject)(ct)},providedIn:"root"}),E})();const fe=new I.InjectionToken("appBaseHref");let ct=(()=>{class E extends Ee{constructor(T,P){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,I.inject)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return Te(this._baseHref,T)}path(T=!1){const P=this._platformLocation.pathname+Xe(this._platformLocation.search),H=this._platformLocation.hash;return H&&T?`${P}${H}`:P}pushState(T,P,H,ce){const be=this.prepareExternalUrl(H+Xe(ce));this._platformLocation.pushState(T,P,be)}replaceState(T,P,H,ce){const be=this.prepareExternalUrl(H+Xe(ce));this._platformLocation.replaceState(T,P,be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(me),I.\u0275\u0275inject(fe,8))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),mt=(()=>{class E extends Ee{constructor(T,P){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(T){const P=Te(this._baseHref,T);return P.length>0?"#"+P:P}pushState(T,P,H,ce){let be=this.prepareExternalUrl(H+Xe(ce));0==be.length&&(be=this._platformLocation.pathname),this._platformLocation.pushState(T,P,be)}replaceState(T,P,H,ce){let be=this.prepareExternalUrl(H+Xe(ce));0==be.length&&(be=this._platformLocation.pathname),this._platformLocation.replaceState(T,P,be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(me),I.\u0275\u0275inject(fe,8))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac}),E})(),Be=(()=>{class E{constructor(T){this._subject=new I.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const P=this._locationStrategy.getBaseHref();this._baseHref=Ie(qe(P)),this._locationStrategy.onPopState(H=>{this._subject.emit({url:this.path(!0),pop:!0,state:H.state,type:H.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,P=""){return this.path()==this.normalize(T+Xe(P))}normalize(T){return E.stripTrailingSlash(function xe(E,R){return E&&R.startsWith(E)?R.substring(E.length):R}(this._baseHref,qe(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,P="",H=null){this._locationStrategy.pushState(H,"",T,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Xe(P)),H)}replaceState(T,P="",H=null){this._locationStrategy.replaceState(H,"",T,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Xe(P)),H)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",P){this._urlChangeListeners.forEach(H=>H(T,P))}subscribe(T,P,H){return this._subject.subscribe({next:T,error:P,complete:H})}}return E.normalizeQueryParams=Xe,E.joinWithSlash=Te,E.stripTrailingSlash=Ie,E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(Ee))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(){return function Ne(){return new Be((0,I.\u0275\u0275inject)(Ee))}()},providedIn:"root"}),E})();function qe(E){return E.replace(/\/index.html$/,"")}const Ye={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var z=(()=>((z=z||{})[z.Decimal=0]="Decimal",z[z.Percent=1]="Percent",z[z.Currency=2]="Currency",z[z.Scientific=3]="Scientific",z))(),Ce=(()=>((Ce=Ce||{})[Ce.Zero=0]="Zero",Ce[Ce.One=1]="One",Ce[Ce.Two=2]="Two",Ce[Ce.Few=3]="Few",Ce[Ce.Many=4]="Many",Ce[Ce.Other=5]="Other",Ce))(),ee=(()=>((ee=ee||{})[ee.Format=0]="Format",ee[ee.Standalone=1]="Standalone",ee))(),re=(()=>((re=re||{})[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re))(),ue=(()=>((ue=ue||{})[ue.Short=0]="Short",ue[ue.Medium=1]="Medium",ue[ue.Long=2]="Long",ue[ue.Full=3]="Full",ue))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))(),Pe=(()=>((Pe=Pe||{})[Pe.Sunday=0]="Sunday",Pe[Pe.Monday=1]="Monday",Pe[Pe.Tuesday=2]="Tuesday",Pe[Pe.Wednesday=3]="Wednesday",Pe[Pe.Thursday=4]="Thursday",Pe[Pe.Friday=5]="Friday",Pe[Pe.Saturday=6]="Saturday",Pe))();function $e(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.LocaleId]}function It(E,R,T){const P=(0,I.\u0275findLocaleData)(E),ce=nt([P[I.\u0275LocaleDataIndex.DayPeriodsFormat],P[I.\u0275LocaleDataIndex.DayPeriodsStandalone]],R);return nt(ce,T)}function on(E,R,T){const P=(0,I.\u0275findLocaleData)(E),ce=nt([P[I.\u0275LocaleDataIndex.DaysFormat],P[I.\u0275LocaleDataIndex.DaysStandalone]],R);return nt(ce,T)}function Kt(E,R,T){const P=(0,I.\u0275findLocaleData)(E),ce=nt([P[I.\u0275LocaleDataIndex.MonthsFormat],P[I.\u0275LocaleDataIndex.MonthsStandalone]],R);return nt(ce,T)}function tt(E,R){return nt((0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.Eras],R)}function cn(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.FirstDayOfWeek]}function xn(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.WeekendRange]}function un(E,R){return nt((0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.DateFormat],R)}function an(E,R){return nt((0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.TimeFormat],R)}function pr(E,R){return nt((0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.DateTimeFormat],R)}function Ht(E,R){const T=(0,I.\u0275findLocaleData)(E),P=T[I.\u0275LocaleDataIndex.NumberSymbols][R];if(typeof P>"u"){if(R===ae.CurrencyDecimal)return T[I.\u0275LocaleDataIndex.NumberSymbols][ae.Decimal];if(R===ae.CurrencyGroup)return T[I.\u0275LocaleDataIndex.NumberSymbols][ae.Group]}return P}function dn(E,R){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.NumberFormats][R]}function qo(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.CurrencySymbol]||null}function ri(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.CurrencyName]||null}function Zr(E){return(0,I.\u0275getLocaleCurrencyCode)(E)}const as=I.\u0275getLocalePluralCase;function Mi(E){if(!E[I.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${E[I.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mr(E){const R=(0,I.\u0275findLocaleData)(E);return Mi(R),(R[I.\u0275LocaleDataIndex.ExtraData][2]||[]).map(P=>"string"==typeof P?Yr(P):[Yr(P[0]),Yr(P[1])])}function bi(E,R,T){const P=(0,I.\u0275findLocaleData)(E);Mi(P);const ce=nt([P[I.\u0275LocaleDataIndex.ExtraData][0],P[I.\u0275LocaleDataIndex.ExtraData][1]],R)||[];return nt(ce,T)||[]}function ls(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.Directionality]}function nt(E,R){for(let T=R;T>-1;T--)if(typeof E[T]<"u")return E[T];throw new Error("Locale data API: locale data undefined")}function Yr(E){const[R,T]=E.split(":");return{hours:+R,minutes:+T}}function zi(E,R,T="en"){const P=function ii(E){return(0,I.\u0275findLocaleData)(E)[I.\u0275LocaleDataIndex.Currencies]}(T)[E]||Ye[E]||[],H=P[1];return"narrow"===R&&"string"==typeof H?H:P[0]||E}function si(E){let R;const T=Ye[E];return T&&(R=T[2]),"number"==typeof R?R:2}const Ms=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bn={},Un=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Gt=(()=>((Gt=Gt||{})[Gt.Short=0]="Short",Gt[Gt.ShortGMT=1]="ShortGMT",Gt[Gt.Long=2]="Long",Gt[Gt.Extended=3]="Extended",Gt))(),Ct=(()=>((Ct=Ct||{})[Ct.FullYear=0]="FullYear",Ct[Ct.Month=1]="Month",Ct[Ct.Date=2]="Date",Ct[Ct.Hours=3]="Hours",Ct[Ct.Minutes=4]="Minutes",Ct[Ct.Seconds=5]="Seconds",Ct[Ct.FractionalSeconds=6]="FractionalSeconds",Ct[Ct.Day=7]="Day",Ct))(),vt=(()=>((vt=vt||{})[vt.DayPeriods=0]="DayPeriods",vt[vt.Days=1]="Days",vt[vt.Months=2]="Months",vt[vt.Eras=3]="Eras",vt))();function Cn(E,R,T,P){let H=function Et(E){if(Wn(E))return E;if("number"==typeof E&&!isNaN(E))return new Date(E);if("string"==typeof E){if(E=E.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(E)){const[H,ce=1,be=1]=E.split("-").map(it=>+it);return Xn(H,ce-1,be)}const T=parseFloat(E);if(!isNaN(E-T))return new Date(T);let P;if(P=E.match(Ms))return function Zt(E){const R=new Date(0);let T=0,P=0;const H=E[8]?R.setUTCFullYear:R.setFullYear,ce=E[8]?R.setUTCHours:R.setHours;E[9]&&(T=Number(E[9]+E[10]),P=Number(E[9]+E[11])),H.call(R,Number(E[1]),Number(E[2])-1,Number(E[3]));const be=Number(E[4]||0)-T,it=Number(E[5]||0)-P,pn=Number(E[6]||0),yn=Math.floor(1e3*parseFloat("0."+(E[7]||0)));return ce.call(R,be,it,pn,yn),R}(P)}const R=new Date(E);if(!Wn(R))throw new Error(`Unable to convert "${E}" into a date`);return R}(E);R=Pn(T,R)||R;let it,be=[];for(;R;){if(it=Un.exec(R),!it){be.push(R);break}{be=be.concat(it.slice(1));const gn=be.pop();if(!gn)break;R=gn}}let pn=H.getTimezoneOffset();P&&(pn=Ae(P,pn),H=function We(E,R,T){const P=T?-1:1,H=E.getTimezoneOffset();return function le(E,R){return(E=new Date(E.getTime())).setMinutes(E.getMinutes()+R),E}(E,P*(Ae(R,H)-H))}(H,P,!0));let yn="";return be.forEach(gn=>{const sn=function te(E){if(W[E])return W[E];let R;switch(E){case"G":case"GG":case"GGG":R=_n(vt.Eras,re.Abbreviated);break;case"GGGG":R=_n(vt.Eras,re.Wide);break;case"GGGGG":R=_n(vt.Eras,re.Narrow);break;case"y":R=hn(Ct.FullYear,1,0,!1,!0);break;case"yy":R=hn(Ct.FullYear,2,0,!0,!0);break;case"yyy":R=hn(Ct.FullYear,3,0,!1,!0);break;case"yyyy":R=hn(Ct.FullYear,4,0,!1,!0);break;case"Y":R=G(1);break;case"YY":R=G(2,!0);break;case"YYY":R=G(3);break;case"YYYY":R=G(4);break;case"M":case"L":R=hn(Ct.Month,1,1);break;case"MM":case"LL":R=hn(Ct.Month,2,1);break;case"MMM":R=_n(vt.Months,re.Abbreviated);break;case"MMMM":R=_n(vt.Months,re.Wide);break;case"MMMMM":R=_n(vt.Months,re.Narrow);break;case"LLL":R=_n(vt.Months,re.Abbreviated,ee.Standalone);break;case"LLLL":R=_n(vt.Months,re.Wide,ee.Standalone);break;case"LLLLL":R=_n(vt.Months,re.Narrow,ee.Standalone);break;case"w":R=kt(1);break;case"ww":R=kt(2);break;case"W":R=kt(1,!0);break;case"d":R=hn(Ct.Date,1);break;case"dd":R=hn(Ct.Date,2);break;case"c":case"cc":R=hn(Ct.Day,1);break;case"ccc":R=_n(vt.Days,re.Abbreviated,ee.Standalone);break;case"cccc":R=_n(vt.Days,re.Wide,ee.Standalone);break;case"ccccc":R=_n(vt.Days,re.Narrow,ee.Standalone);break;case"cccccc":R=_n(vt.Days,re.Short,ee.Standalone);break;case"E":case"EE":case"EEE":R=_n(vt.Days,re.Abbreviated);break;case"EEEE":R=_n(vt.Days,re.Wide);break;case"EEEEE":R=_n(vt.Days,re.Narrow);break;case"EEEEEE":R=_n(vt.Days,re.Short);break;case"a":case"aa":case"aaa":R=_n(vt.DayPeriods,re.Abbreviated);break;case"aaaa":R=_n(vt.DayPeriods,re.Wide);break;case"aaaaa":R=_n(vt.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":R=_n(vt.DayPeriods,re.Abbreviated,ee.Standalone,!0);break;case"bbbb":R=_n(vt.DayPeriods,re.Wide,ee.Standalone,!0);break;case"bbbbb":R=_n(vt.DayPeriods,re.Narrow,ee.Standalone,!0);break;case"B":case"BB":case"BBB":R=_n(vt.DayPeriods,re.Abbreviated,ee.Format,!0);break;case"BBBB":R=_n(vt.DayPeriods,re.Wide,ee.Format,!0);break;case"BBBBB":R=_n(vt.DayPeriods,re.Narrow,ee.Format,!0);break;case"h":R=hn(Ct.Hours,1,-12);break;case"hh":R=hn(Ct.Hours,2,-12);break;case"H":R=hn(Ct.Hours,1);break;case"HH":R=hn(Ct.Hours,2);break;case"m":R=hn(Ct.Minutes,1);break;case"mm":R=hn(Ct.Minutes,2);break;case"s":R=hn(Ct.Seconds,1);break;case"ss":R=hn(Ct.Seconds,2);break;case"S":R=hn(Ct.FractionalSeconds,1);break;case"SS":R=hn(Ct.FractionalSeconds,2);break;case"SSS":R=hn(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":R=Br(Gt.Short);break;case"ZZZZZ":R=Br(Gt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":R=Br(Gt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":R=Br(Gt.Long);break;default:return null}return W[E]=R,R}(gn);yn+=sn?sn(H,T,pn):"''"===gn?"'":gn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),yn}function Xn(E,R,T){const P=new Date(0);return P.setFullYear(E,R,T),P.setHours(0,0,0),P}function Pn(E,R){const T=$e(E);if(Bn[T]=Bn[T]||{},Bn[T][R])return Bn[T][R];let P="";switch(R){case"shortDate":P=un(E,ue.Short);break;case"mediumDate":P=un(E,ue.Medium);break;case"longDate":P=un(E,ue.Long);break;case"fullDate":P=un(E,ue.Full);break;case"shortTime":P=an(E,ue.Short);break;case"mediumTime":P=an(E,ue.Medium);break;case"longTime":P=an(E,ue.Long);break;case"fullTime":P=an(E,ue.Full);break;case"short":const H=Pn(E,"shortTime"),ce=Pn(E,"shortDate");P=oi(pr(E,ue.Short),[H,ce]);break;case"medium":const be=Pn(E,"mediumTime"),it=Pn(E,"mediumDate");P=oi(pr(E,ue.Medium),[be,it]);break;case"long":const pn=Pn(E,"longTime"),yn=Pn(E,"longDate");P=oi(pr(E,ue.Long),[pn,yn]);break;case"full":const gn=Pn(E,"fullTime"),sn=Pn(E,"fullDate");P=oi(pr(E,ue.Full),[gn,sn])}return P&&(Bn[T][R]=P),P}function oi(E,R){return R&&(E=E.replace(/\{([^}]+)}/g,function(T,P){return null!=R&&P in R?R[P]:T})),E}function Vt(E,R,T="-",P,H){let ce="";(E<0||H&&E<=0)&&(H?E=1-E:(E=-E,ce=T));let be=String(E);for(;be.length<R;)be="0"+be;return P&&(be=be.slice(be.length-R)),ce+be}function hn(E,R,T=0,P=!1,H=!1){return function(ce,be){let it=function qi(E,R){switch(E){case Ct.FullYear:return R.getFullYear();case Ct.Month:return R.getMonth();case Ct.Date:return R.getDate();case Ct.Hours:return R.getHours();case Ct.Minutes:return R.getMinutes();case Ct.Seconds:return R.getSeconds();case Ct.FractionalSeconds:return R.getMilliseconds();case Ct.Day:return R.getDay();default:throw new Error(`Unknown DateType value "${E}".`)}}(E,ce);if((T>0||it>-T)&&(it+=T),E===Ct.Hours)0===it&&-12===T&&(it=12);else if(E===Ct.FractionalSeconds)return function xi(E,R){return Vt(E,3).substring(0,R)}(it,R);const pn=Ht(be,ae.MinusSign);return Vt(it,R,pn,P,H)}}function _n(E,R,T=ee.Format,P=!1){return function(H,ce){return function mr(E,R,T,P,H,ce){switch(T){case vt.Months:return Kt(R,H,P)[E.getMonth()];case vt.Days:return on(R,H,P)[E.getDay()];case vt.DayPeriods:const be=E.getHours(),it=E.getMinutes();if(ce){const yn=Mr(R),gn=bi(R,H,P),sn=yn.findIndex(cr=>{if(Array.isArray(cr)){const[vn,kn]=cr,so=be>=vn.hours&&it>=vn.minutes,Ii=be<kn.hours||be===kn.hours&&it<kn.minutes;if(vn.hours<kn.hours){if(so&&Ii)return!0}else if(so||Ii)return!0}else if(cr.hours===be&&cr.minutes===it)return!0;return!1});if(-1!==sn)return gn[sn]}return It(R,H,P)[be<12?0:1];case vt.Eras:return tt(R,P)[E.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${T}`)}}(H,ce,E,R,T,P)}}function Br(E){return function(R,T,P){const H=-1*P,ce=Ht(T,ae.MinusSign),be=H>0?Math.floor(H/60):Math.ceil(H/60);switch(E){case Gt.Short:return(H>=0?"+":"")+Vt(be,2,ce)+Vt(Math.abs(H%60),2,ce);case Gt.ShortGMT:return"GMT"+(H>=0?"+":"")+Vt(be,1,ce);case Gt.Long:return"GMT"+(H>=0?"+":"")+Vt(be,2,ce)+":"+Vt(Math.abs(H%60),2,ce);case Gt.Extended:return 0===P?"Z":(H>=0?"+":"")+Vt(be,2,ce)+":"+Vt(Math.abs(H%60),2,ce);default:throw new Error(`Unknown zone width "${E}"`)}}}function Ot(E){return Xn(E.getFullYear(),E.getMonth(),E.getDate()+(4-E.getDay()))}function kt(E,R=!1){return function(T,P){let H;if(R){const ce=new Date(T.getFullYear(),T.getMonth(),1).getDay()-1,be=T.getDate();H=1+Math.floor((be+ce)/7)}else{const ce=Ot(T),be=function ht(E){const R=Xn(E,0,1).getDay();return Xn(E,0,1+(R<=4?4:11)-R)}(ce.getFullYear()),it=ce.getTime()-be.getTime();H=1+Math.round(it/6048e5)}return Vt(H,E,Ht(P,ae.MinusSign))}}function G(E,R=!1){return function(T,P){return Vt(Ot(T).getFullYear(),E,Ht(P,ae.MinusSign),R)}}const W={};function Ae(E,R){E=E.replace(/:/g,"");const T=Date.parse("Jan 01, 1970 00:00:00 "+E)/6e4;return isNaN(T)?R:T}function Wn(E){return E instanceof Date&&!isNaN(E.valueOf())}const Dn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Rn(E,R,T,P,H,ce,be=!1){let it="",pn=!1;if(isFinite(E)){let yn=function gt(E){let P,H,ce,be,it,R=Math.abs(E)+"",T=0;for((H=R.indexOf("."))>-1&&(R=R.replace(".","")),(ce=R.search(/e/i))>0?(H<0&&(H=ce),H+=+R.slice(ce+1),R=R.substring(0,ce)):H<0&&(H=R.length),ce=0;"0"===R.charAt(ce);ce++);if(ce===(it=R.length))P=[0],H=1;else{for(it--;"0"===R.charAt(it);)it--;for(H-=ce,P=[],be=0;ce<=it;ce++,be++)P[be]=Number(R.charAt(ce))}return H>22&&(P=P.splice(0,21),T=H-1,H=1),{digits:P,exponent:T,integerLen:H}}(E);be&&(yn=function Tn(E){if(0===E.digits[0])return E;const R=E.digits.length-E.integerLen;return E.exponent?E.exponent+=2:(0===R?E.digits.push(0,0):1===R&&E.digits.push(0),E.integerLen+=2),E}(yn));let gn=R.minInt,sn=R.minFrac,cr=R.maxFrac;if(ce){const oo=ce.match(Dn);if(null===oo)throw new Error(`${ce} is not a valid digit info`);const _s=oo[1],ys=oo[3],$s=oo[5];null!=_s&&(gn=ir(_s)),null!=ys&&(sn=ir(ys)),null!=$s?cr=ir($s):null!=ys&&sn>cr&&(cr=sn)}!function Ki(E,R,T){if(R>T)throw new Error(`The minimum number of digits after fraction (${R}) is higher than the maximum (${T}).`);let P=E.digits,H=P.length-E.integerLen;const ce=Math.min(Math.max(R,H),T);let be=ce+E.integerLen,it=P[be];if(be>0){P.splice(Math.max(E.integerLen,be));for(let sn=be;sn<P.length;sn++)P[sn]=0}else{H=Math.max(0,H),E.integerLen=1,P.length=Math.max(1,be=ce+1),P[0]=0;for(let sn=1;sn<be;sn++)P[sn]=0}if(it>=5)if(be-1<0){for(let sn=0;sn>be;sn--)P.unshift(0),E.integerLen++;P.unshift(1),E.integerLen++}else P[be-1]++;for(;H<Math.max(0,ce);H++)P.push(0);let pn=0!==ce;const yn=R+E.integerLen,gn=P.reduceRight(function(sn,cr,vn,kn){return kn[vn]=(cr+=sn)<10?cr:cr-10,pn&&(0===kn[vn]&&vn>=yn?kn.pop():pn=!1),cr>=10?1:0},0);gn&&(P.unshift(gn),E.integerLen++)}(yn,sn,cr);let vn=yn.digits,kn=yn.integerLen;const so=yn.exponent;let Ii=[];for(pn=vn.every(oo=>!oo);kn<gn;kn++)vn.unshift(0);for(;kn<0;kn++)vn.unshift(0);kn>0?Ii=vn.splice(kn,vn.length):(Ii=vn,vn=[0]);const ms=[];for(vn.length>=R.lgSize&&ms.unshift(vn.splice(-R.lgSize,vn.length).join(""));vn.length>R.gSize;)ms.unshift(vn.splice(-R.gSize,vn.length).join(""));vn.length&&ms.unshift(vn.join("")),it=ms.join(Ht(T,P)),Ii.length&&(it+=Ht(T,H)+Ii.join("")),so&&(it+=Ht(T,ae.Exponential)+"+"+so)}else it=Ht(T,ae.Infinity);return it=E<0&&!pn?R.negPre+it+R.negSuf:R.posPre+it+R.posSuf,it}function Di(E,R,T,P,H){const be=Ut(dn(R,z.Currency),Ht(R,ae.MinusSign));return be.minFrac=si(P),be.maxFrac=be.minFrac,Rn(E,be,R,ae.CurrencyGroup,ae.CurrencyDecimal,H).replace("\xa4",T).replace("\xa4","").trim()}function xr(E,R,T){return Rn(E,Ut(dn(R,z.Percent),Ht(R,ae.MinusSign)),R,ae.Group,ae.Decimal,T,!0).replace(new RegExp("%","g"),Ht(R,ae.PercentSign))}function bt(E,R,T){return Rn(E,Ut(dn(R,z.Decimal),Ht(R,ae.MinusSign)),R,ae.Group,ae.Decimal,T)}function Ut(E,R="-"){const T={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=E.split(";"),H=P[0],ce=P[1],be=-1!==H.indexOf(".")?H.split("."):[H.substring(0,H.lastIndexOf("0")+1),H.substring(H.lastIndexOf("0")+1)],it=be[0],pn=be[1]||"";T.posPre=it.substring(0,it.indexOf("#"));for(let gn=0;gn<pn.length;gn++){const sn=pn.charAt(gn);"0"===sn?T.minFrac=T.maxFrac=gn+1:"#"===sn?T.maxFrac=gn+1:T.posSuf+=sn}const yn=it.split(",");if(T.gSize=yn[1]?yn[1].length:0,T.lgSize=yn[2]||yn[1]?(yn[2]||yn[1]).length:0,ce){const gn=H.length-T.posPre.length-T.posSuf.length,sn=ce.indexOf("#");T.negPre=ce.substring(0,sn).replace(/'/g,""),T.negSuf=ce.slice(sn+gn).replace(/'/g,"")}else T.negPre=R+T.posPre,T.negSuf=T.posSuf;return T}function ir(E){const R=parseInt(E);if(isNaN(R))throw new Error("Invalid integer literal when parsing "+E);return R}let cs=(()=>{class E{}return E.\u0275fac=function(T){return new(T||E)},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:function(T){let P=null;return T?P=new T:(H=I.\u0275\u0275inject(I.LOCALE_ID),P=new _r(H)),P;var H},providedIn:"root"}),E})();function us(E,R,T,P){let H=`=${E}`;if(R.indexOf(H)>-1||(H=T.getPluralCategory(E,P),R.indexOf(H)>-1))return H;if(R.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${E}"`)}let _r=(()=>{class E extends cs{constructor(T){super(),this.locale=T}getPluralCategory(T,P){switch(as(P||this.locale)(T)){case Ce.Zero:return"zero";case Ce.One:return"one";case Ce.Two:return"two";case Ce.Few:return"few";case Ce.Many:return"many";default:return"other"}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275inject(I.LOCALE_ID))},E.\u0275prov=I.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac}),E})();function Fn(E,R,T){return(0,I.\u0275registerLocaleData)(E,R,T)}function Kn(E,R){R=encodeURIComponent(R);for(const T of E.split(";")){const P=T.indexOf("="),[H,ce]=-1==P?[T,""]:[T.slice(0,P),T.slice(P+1)];if(H.trim()===R)return decodeURIComponent(ce)}return null}let en=(()=>{class E{constructor(T,P,H,ce){this._iterableDiffers=T,this._keyValueDiffers=P,this._ngEl=H,this._renderer=ce,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(T){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof T?T.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(T){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof T?T.split(/\s+/):T,this._rawClass&&((0,I.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const T=this._iterableDiffer.diff(this._rawClass);T&&this._applyIterableChanges(T)}else if(this._keyValueDiffer){const T=this._keyValueDiffer.diff(this._rawClass);T&&this._applyKeyValueChanges(T)}}_applyKeyValueChanges(T){T.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),T.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),T.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(T){T.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,I.\u0275stringify)(P.item)}`);this._toggleClass(P.item,!0)}),T.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(P=>this._toggleClass(P,!0)):Object.keys(T).forEach(P=>this._toggleClass(P,!!T[P])))}_removeClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(P=>this._toggleClass(P,!1)):Object.keys(T).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(T,P){(T=T.trim())&&T.split(/\s+/g).forEach(H=>{P?this._renderer.addClass(this._ngEl.nativeElement,H):this._renderer.removeClass(this._ngEl.nativeElement,H)})}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.IterableDiffers),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.Renderer2))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),E})(),er=(()=>{class E{constructor(T){this._viewContainerRef=T,this.ngComponentOutlet=null}ngOnChanges(T){const{_viewContainerRef:P,ngComponentOutletNgModule:H,ngComponentOutletNgModuleFactory:ce}=this;if(P.clear(),this._componentRef=void 0,this.ngComponentOutlet){const be=this.ngComponentOutletInjector||P.parentInjector;(T.ngComponentOutletNgModule||T.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=H?(0,I.createNgModule)(H,Io(be)):ce?ce.create(Io(be)):void 0),this._componentRef=P.createComponent(this.ngComponentOutlet,{index:P.length,injector:be,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),E})();function Io(E){return E.get(I.NgModuleRef).injector}class Eo{constructor(R,T,P,H){this.$implicit=R,this.ngForOf=T,this.index=P,this.count=H}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ai=(()=>{class E{constructor(T,P,H){this._viewContainer=T,this._template=P,this._differs=H,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const P=this._viewContainer;T.forEachOperation((H,ce,be)=>{if(null==H.previousIndex)P.createEmbeddedView(this._template,new Eo(H.item,this._ngForOf,-1,-1),null===be?void 0:be);else if(null==be)P.remove(null===ce?void 0:ce);else if(null!==ce){const it=P.get(ce);P.move(it,be),Rr(it,H)}});for(let H=0,ce=P.length;H<ce;H++){const it=P.get(H).context;it.index=H,it.count=ce,it.ngForOf=this._ngForOf}T.forEachIdentityChange(H=>{Rr(P.get(H.currentIndex),H)})}static ngTemplateContextGuard(T,P){return!0}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.IterableDiffers))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),E})();function Rr(E,R){E.context.$implicit=R.item}let ar=(()=>{class E{constructor(T,P){this._viewContainer=T,this._context=new Co,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){ln("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){ln("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,P){return!0}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),E})();class Co{constructor(){this.$implicit=null,this.ngIf=null}}function ln(E,R){if(R&&!R.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,I.\u0275stringify)(R)}'.`)}class Ur{constructor(R,T){this._viewContainerRef=R,this._templateRef=T,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(R){R&&!this._created?this.create():!R&&this._created&&this.destroy()}}let Rs=(()=>{class E{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(T){this._ngSwitch=T,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(T){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(T)}_matchCase(T){const P=T==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(T){if(this._defaultViews&&T!==this._defaultUsed){this._defaultUsed=T;for(let P=0;P<this._defaultViews.length;P++)this._defaultViews[P].enforceState(T)}}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),E})(),To=(()=>{class E{constructor(T,P,H){this.ngSwitch=H,H._addCase(),this._view=new Ur(T,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Rs,9))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),E})(),Al=(()=>{class E{constructor(T,P,H){H._addDefault(new Ur(T,P))}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(Rs,9))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngSwitchDefault",""]],standalone:!0}),E})(),Na=(()=>{class E{constructor(T){this._localization=T,this._caseViews={}}set ngPlural(T){this._switchValue=T,this._updateView()}addCase(T,P){this._caseViews[T]=P}_updateView(){this._clearViews();const T=Object.keys(this._caseViews),P=us(this._switchValue,T,this._localization);this._activateView(this._caseViews[P])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(T){T&&(this._activeView=T,this._activeView.create())}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(cs))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0}),E})(),Tc=(()=>{class E{constructor(T,P,H,ce){this.value=T;const be=!isNaN(Number(T));ce.addCase(be?`=${T}`:T,new Ur(H,P))}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275injectAttribute("ngPluralCase"),I.\u0275\u0275directiveInject(I.TemplateRef),I.\u0275\u0275directiveInject(I.ViewContainerRef),I.\u0275\u0275directiveInject(Na,1))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngPluralCase",""]],standalone:!0}),E})(),Au=(()=>{class E{constructor(T,P,H){this._ngEl=T,this._differs=P,this._renderer=H,this._ngStyle=null,this._differ=null}set ngStyle(T){this._ngStyle=T,!this._differ&&T&&(this._differ=this._differs.find(T).create())}ngDoCheck(){if(this._differ){const T=this._differ.diff(this._ngStyle);T&&this._applyChanges(T)}}_setStyle(T,P){const[H,ce]=T.split("."),be=-1===H.indexOf("-")?void 0:I.RendererStyleFlags2.DashCase;null!=P?this._renderer.setStyle(this._ngEl.nativeElement,H,ce?`${P}${ce}`:P,be):this._renderer.removeStyle(this._ngEl.nativeElement,H,be)}_applyChanges(T){T.forEachRemovedItem(P=>this._setStyle(P.key,null)),T.forEachAddedItem(P=>this._setStyle(P.key,P.currentValue)),T.forEachChangedItem(P=>this._setStyle(P.key,P.currentValue))}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.KeyValueDiffers),I.\u0275\u0275directiveInject(I.Renderer2))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),E})(),Aa=(()=>{class E{constructor(T){this._viewContainerRef=T,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(T){if(T.ngTemplateOutlet||T.ngTemplateOutletInjector){const P=this._viewContainerRef;if(this._viewRef&&P.remove(P.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:H,ngTemplateOutletContext:ce,ngTemplateOutletInjector:be}=this;this._viewRef=P.createEmbeddedView(H,ce,be?{injector:be}:void 0)}else this._viewRef=null}else this._viewRef&&T.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),E})();function yr(E,R){return new I.\u0275RuntimeError(2100,!1)}class Mu{createSubscription(R,T){return R.subscribe({next:T,error:P=>{throw P}})}dispose(R){R.unsubscribe()}}class Tf{createSubscription(R,T){return R.then(T,P=>{throw P})}dispose(R){}}const Os=new Tf,Sf=new Mu;let Sc=(()=>{class E{constructor(T){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=T}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(T){return this._obj?T!==this._obj?(this._dispose(),this.transform(T)):this._latestValue:(T&&this._subscribe(T),this._latestValue)}_subscribe(T){this._obj=T,this._strategy=this._selectStrategy(T),this._subscription=this._strategy.createSubscription(T,P=>this._updateLatestValue(T,P))}_selectStrategy(T){if((0,I.\u0275isPromise)(T))return Os;if((0,I.\u0275isSubscribable)(T))return Sf;throw yr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(T,P){T===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.ChangeDetectorRef,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"async",type:E,pure:!1,standalone:!0}),E})(),xl=(()=>{class E{transform(T){if(null==T)return null;if("string"!=typeof T)throw yr();return T.toLowerCase()}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"lowercase",type:E,pure:!0,standalone:!0}),E})();const Xs=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Se=(()=>{class E{transform(T){if(null==T)return null;if("string"!=typeof T)throw yr();return T.replace(Xs,P=>P[0].toUpperCase()+P.slice(1).toLowerCase())}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"titlecase",type:E,pure:!0,standalone:!0}),E})(),ds=(()=>{class E{transform(T){if(null==T)return null;if("string"!=typeof T)throw yr();return T.toUpperCase()}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"uppercase",type:E,pure:!0,standalone:!0}),E})();const Ma=new I.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let fn=(()=>{class E{constructor(T,P){this.locale=T,this.defaultTimezone=P}transform(T,P="mediumDate",H,ce){if(null==T||""===T||T!=T)return null;try{return Cn(T,P,ce||this.locale,H??this.defaultTimezone??void 0)}catch(be){throw yr()}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(Ma,24))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"date",type:E,pure:!0,standalone:!0}),E})();const hs=/#/g;let Zi=(()=>{class E{constructor(T){this._localization=T}transform(T,P,H){if(null==T)return"";if("object"!=typeof P||null===P)throw yr();return P[us(T,Object.keys(P),this._localization,H)].replace(hs,T.toString())}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(cs,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nPlural",type:E,pure:!0,standalone:!0}),E})(),Rl=(()=>{class E{transform(T,P){if(null==T)return"";if("object"!=typeof P||"string"!=typeof T)throw yr();return P.hasOwnProperty(T)?P[T]:P.hasOwnProperty("other")?P.other:""}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"i18nSelect",type:E,pure:!0,standalone:!0}),E})(),Ol=(()=>{class E{transform(T){return JSON.stringify(T,null,2)}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"json",type:E,pure:!1,standalone:!0}),E})(),li=(()=>{class E{constructor(T){this.differs=T,this.keyValues=[],this.compareFn=ci}transform(T,P=ci){if(!T||!(T instanceof Map)&&"object"!=typeof T)return null;this.differ||(this.differ=this.differs.find(T).create());const H=this.differ.diff(T),ce=P!==this.compareFn;return H&&(this.keyValues=[],H.forEachItem(be=>{this.keyValues.push(function Zn(E,R){return{key:E,value:R}}(be.key,be.currentValue))})),(H||ce)&&(this.keyValues.sort(P),this.compareFn=P),this.keyValues}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.KeyValueDiffers,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"keyvalue",type:E,pure:!1,standalone:!0}),E})();function ci(E,R){const T=E.key,P=R.key;if(T===P)return 0;if(void 0===T)return 1;if(void 0===P)return-1;if(null===T)return 1;if(null===P)return-1;if("string"==typeof T&&"string"==typeof P)return T<P?-1:1;if("number"==typeof T&&"number"==typeof P)return T-P;if("boolean"==typeof T&&"boolean"==typeof P)return T<P?-1:1;const H=String(T),ce=String(P);return H==ce?0:H<ce?-1:1}let ui=(()=>{class E{constructor(T){this._locale=T}transform(T,P,H){if(!Ko(T))return null;H=H||this._locale;try{return bt(Zo(T),H,P)}catch(ce){throw yr()}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"number",type:E,pure:!0,standalone:!0}),E})(),Yi=(()=>{class E{constructor(T){this._locale=T}transform(T,P,H){if(!Ko(T))return null;H=H||this._locale;try{return xr(Zo(T),H,P)}catch(ce){throw yr()}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"percent",type:E,pure:!0,standalone:!0}),E})(),ks=(()=>{class E{constructor(T,P="USD"){this._locale=T,this._defaultCurrencyCode=P}transform(T,P=this._defaultCurrencyCode,H="symbol",ce,be){if(!Ko(T))return null;be=be||this._locale,"boolean"==typeof H&&(H=H?"symbol":"code");let it=P||this._defaultCurrencyCode;"code"!==H&&(it="symbol"===H||"symbol-narrow"===H?zi(it,"symbol"===H?"wide":"narrow",be):H);try{return Di(Zo(T),be,it,P,ce)}catch(pn){throw yr()}}}return E.\u0275fac=function(T){return new(T||E)(I.\u0275\u0275directiveInject(I.LOCALE_ID,16),I.\u0275\u0275directiveInject(I.DEFAULT_CURRENCY_CODE,16))},E.\u0275pipe=I.\u0275\u0275definePipe({name:"currency",type:E,pure:!0,standalone:!0}),E})();function Ko(E){return!(null==E||""===E||E!=E)}function Zo(E){if("string"==typeof E&&!isNaN(Number(E)-parseFloat(E)))return Number(E);if("number"!=typeof E)throw new Error(`${E} is not a number`);return E}let xa=(()=>{class E{transform(T,P,H){if(null==T)return null;if(!this.supports(T))throw yr();return T.slice(P,H)}supports(T){return"string"==typeof T||Array.isArray(T)}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275pipe=I.\u0275\u0275definePipe({name:"slice",type:E,pure:!1,standalone:!0}),E})(),Yo=(()=>{class E{}return E.\u0275fac=function(T){return new(T||E)},E.\u0275mod=I.\u0275\u0275defineNgModule({type:E}),E.\u0275inj=I.\u0275\u0275defineInjector({}),E})();const fs="browser",En="server",vr="browserWorkerApp",Ps="browserWorkerUi";function Qo(E){return E===fs}function lr(E){return E===En}function Ra(E){return E===vr}function Oa(E){return E===Ps}const jn=new I.Version("14.2.5");let ka=(()=>{class E{}return E.\u0275prov=(0,I.\u0275\u0275defineInjectable)({token:E,providedIn:"root",factory:()=>new Ru((0,I.\u0275\u0275inject)(we),window)}),E})();class Ru{constructor(R,T){this.document=R,this.window=T,this.offset=()=>[0,0]}setOffset(R){this.offset=Array.isArray(R)?()=>R:R}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(R){this.supportsScrolling()&&this.window.scrollTo(R[0],R[1])}scrollToAnchor(R){if(!this.supportsScrolling())return;const T=function Qr(E,R){const T=E.getElementById(R)||E.getElementsByName(R)[0];if(T)return T;if("function"==typeof E.createTreeWalker&&E.body&&(E.body.createShadowRoot||E.body.attachShadow)){const P=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let H=P.currentNode;for(;H;){const ce=H.shadowRoot;if(ce){const be=ce.getElementById(R)||ce.querySelector(`[name="${R}"]`);if(be)return be}H=P.nextNode()}}return null}(this.document,R);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(R){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=R)}}scrollToElement(R){const T=R.getBoundingClientRect(),P=T.left+this.window.pageXOffset,H=T.top+this.window.pageYOffset,ce=this.offset();this.window.scrollTo(P-ce[0],H-ce[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const R=wi(this.window.history)||wi(Object.getPrototypeOf(this.window.history));return!(!R||!R.writable&&!R.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function wi(E){return Object.getOwnPropertyDescriptor(E,"scrollRestoration")}class ps{setOffset(R){}getScrollPosition(){return[0,0]}scrollToPosition(R){}scrollToAnchor(R){}setHistoryScrollRestoration(R){}}class eo{}function On(E){return E.startsWith("/")?E.slice(1):E}const Ls=new I.InjectionToken("PRECONNECT_CHECK_BLOCKLIST"),Pa=E=>E.src,no=new I.InjectionToken("ImageLoader",{providedIn:"root",factory:()=>Pa});function Oi(E,R){return function(P,H={ensurePreconnect:!0}){return function Ri(E){if("string"!=typeof E||""===E.trim())return!1;try{return new URL(E),!0}catch{return!1}}(P)||function Fa(E,R){throw new I.\u0275RuntimeError(2959,!1)}(),P=function Xo(E){return E.endsWith("/")?E.slice(0,-1):E}(P),[{provide:no,useValue:it=>(function to(E){return/^https?:\/\//.test(E)}(it.src)&&function Vs(E,R){throw new I.\u0275RuntimeError(2959,!1)}(),E(P,{...it,src:On(it.src)}))}]}}const Oe=Oi(Jt);function Jt(E,R){let T="format=auto";return R.width&&(T+=`,width=${R.width}`),`${E}/cdn-cgi/image/${T}/${R.src}`}const ro=Oi(La);function La(E,R){let T="f_auto,q_auto";return R.width&&(T+=`,w_${R.width}`),`${E}/image/upload/${T}/${R.src}`}const $n=Oi(Va);function Va(E,R){let T="tr:q-auto";return R.width&&(T+=`,w-${R.width}`),`${E}/${T}/${R.src}`}const Qi=Oi(Xr);function Xr(E,R){const T=new URL(`${E}/${R.src}`);return T.searchParams.set("auto","format"),R.width&&T.searchParams.set("w",R.width.toString()),T.href}const Ua=/^((\s*\d+w\s*(,|$)){1,})$/;let Us=(()=>{class E{constructor(){this.imageLoader=(0,I.inject)(no),this.renderer=(0,I.inject)(I.Renderer2),this.imgElement=(0,I.inject)(I.ElementRef).nativeElement,this.injector=(0,I.inject)(I.Injector),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1}set rawSrc(T){}set width(T){this._width=ki(T)}get width(){return this._width}set height(T){this._height=ki(T)}get height(){return this._height}set priority(T){this._priority=function Ou(E){return null!=E&&"false"!=`${E}`}(T)}get priority(){return this._priority}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString()),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("src",this.getRewrittenSrc()),this.ngSrcset&&this.setHostAttribute("srcset",this.getRewrittenSrcset())}ngOnChanges(T){}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.imageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const T=Ua.test(this.ngSrcset);return this.ngSrcset.split(",").filter(H=>""!==H).map(H=>{H=H.trim();const ce=T?parseFloat(H):parseFloat(H)*this.width;return`${this.imageLoader({src:this.ngSrc,width:ce})} ${H}`}).join(", ")}ngOnDestroy(){}setHostAttribute(T,P){this.renderer.setAttribute(this.imgElement,T,P)}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275dir=I.\u0275\u0275defineDirective({type:E,selectors:[["img","ngSrc",""],["img","rawSrc",""]],inputs:{rawSrc:"rawSrc",ngSrc:"ngSrc",ngSrcset:"ngSrcset",width:"width",height:"height",loading:"loading",priority:"priority",src:"src",srcset:"srcset"},standalone:!0,features:[I.\u0275\u0275NgOnChangesFeature]}),E})();function ki(E){return"string"==typeof E?parseInt(E,10):E}},4650:(dt,De,V)=>{"use strict";V.r(De),V.d(De,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>Kd,ANIMATION_MODULE_TYPE:()=>Il,APP_BOOTSTRAP_LISTENER:()=>oE,APP_ID:()=>Ld,APP_INITIALIZER:()=>iE,ApplicationInitStatus:()=>_c,ApplicationModule:()=>Gb,ApplicationRef:()=>Dg,Attribute:()=>Ws,COMPILER_OPTIONS:()=>uE,CUSTOM_ELEMENTS_SCHEMA:()=>Nt,ChangeDetectionStrategy:()=>Un,ChangeDetectorRef:()=>Ob,Compiler:()=>Q1,CompilerFactory:()=>J1,Component:()=>_g,ComponentFactory:()=>ec,ComponentFactoryResolver:()=>Wt,ComponentRef:()=>Xl,ContentChild:()=>Zd,ContentChildren:()=>xf,DEFAULT_CURRENCY_CODE:()=>K1,DebugElement:()=>Ea,DebugEventListener:()=>Du,DebugNode:()=>ay,DefaultIterableDiffer:()=>Bb,Directive:()=>tE,ENVIRONMENT_INITIALIZER:()=>zf,ElementRef:()=>f,EmbeddedViewRef:()=>oy,EnvironmentInjector:()=>Bi,ErrorHandler:()=>$c,EventEmitter:()=>Go,Host:()=>$t,HostBinding:()=>Db,HostListener:()=>rE,INJECTOR:()=>lh,Inject:()=>Ve,InjectFlags:()=>nt,Injectable:()=>uv,InjectionToken:()=>An,Injector:()=>zc,Input:()=>W1,IterableDiffers:()=>$b,KeyValueDiffers:()=>ly,LOCALE_ID:()=>vg,MissingTranslationStrategy:()=>El,ModuleWithComponentFactories:()=>cE,NO_ERRORS_SCHEMA:()=>kr,NgModule:()=>z1,NgModuleFactory:()=>Jh,NgModuleRef:()=>yl,NgProbeToken:()=>mE,NgZone:()=>zo,Optional:()=>Ke,Output:()=>nE,PACKAGE_ROOT_URL:()=>aE,PLATFORM_ID:()=>Ns,PLATFORM_INITIALIZER:()=>Ib,Pipe:()=>bb,PlatformRef:()=>Mb,Query:()=>ia,QueryList:()=>pc,ReflectiveInjector:()=>Ch,ReflectiveKey:()=>fl,Renderer2:()=>L,RendererFactory2:()=>x,RendererStyleFlags2:()=>ga,ResolvedReflectiveFactory:()=>ow,Sanitizer:()=>_e,SecurityContext:()=>Ln,Self:()=>Dt,SimpleChange:()=>ui,SkipSelf:()=>Mt,TRANSLATIONS:()=>Z1,TRANSLATIONS_FORMAT:()=>Y1,TemplateRef:()=>_i,Testability:()=>rT,TestabilityRegistry:()=>Sb,Type:()=>Gl,VERSION:()=>Ze,Version:()=>ze,ViewChild:()=>Yd,ViewChildren:()=>Rc,ViewContainerRef:()=>rf,ViewEncapsulation:()=>vt,ViewRef:()=>Cg,asNativeElements:()=>pf,assertPlatform:()=>yu,createComponent:()=>gT,createEnvironmentInjector:()=>kd,createNgModule:()=>Z0,createNgModuleRef:()=>cu,createPlatform:()=>_E,createPlatformFactory:()=>hf,defineInjectable:()=>pr,destroyPlatform:()=>bE,enableProdMode:()=>Ig,forwardRef:()=>q,getDebugNode:()=>Bd,getModuleFactory:()=>sy,getNgModuleById:()=>Eg,getPlatform:()=>ry,importProvidersFrom:()=>gm,inject:()=>S,isDevMode:()=>EE,platformCore:()=>Hb,reflectComponentType:()=>FE,resolveForwardRef:()=>Z,setTestabilityGetter:()=>bg,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>bc,\u0275APP_ID_RANDOM_PROVIDER:()=>q1,\u0275ChangeDetectorStatus:()=>Gt,\u0275ComponentFactory:()=>ec,\u0275Console:()=>lE,\u0275DEFAULT_LOCALE_ID:()=>iu,\u0275INJECTOR_SCOPE:()=>od,\u0275LContext:()=>OD,\u0275LifecycleHooksFeature:()=>o_,\u0275LocaleDataIndex:()=>Ft,\u0275NG_COMP_DEF:()=>xi,\u0275NG_DIR_DEF:()=>hn,\u0275NG_ELEMENT_ID:()=>Br,\u0275NG_INJ_DEF:()=>Mr,\u0275NG_MOD_DEF:()=>_n,\u0275NG_PIPE_DEF:()=>qi,\u0275NG_PROV_DEF:()=>Mi,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>wt,\u0275NO_CHANGE:()=>zt,\u0275NgModuleFactory:()=>vl,\u0275NoopNgZone:()=>ey,\u0275ReflectionCapabilities:()=>Of,\u0275Render3ComponentFactory:()=>_d,\u0275Render3ComponentRef:()=>s_,\u0275Render3NgModuleRef:()=>Xh,\u0275RuntimeError:()=>Ie,\u0275TESTABILITY:()=>yc,\u0275TESTABILITY_GETTER:()=>Tb,\u0275ViewRef:()=>Mh,\u0275_sanitizeHtml:()=>nd,\u0275_sanitizeUrl:()=>Xu,\u0275allowSanitizationBypassAndThrow:()=>Zl,\u0275bypassSanitizationTrustHtml:()=>Bf,\u0275bypassSanitizationTrustResourceUrl:()=>By,\u0275bypassSanitizationTrustScript:()=>Vy,\u0275bypassSanitizationTrustStyle:()=>tm,\u0275bypassSanitizationTrustUrl:()=>nm,\u0275clearResolutionOfComponentResourcesQueue:()=>Fc,\u0275coerceToBoolean:()=>Sg,\u0275compileComponent:()=>fb,\u0275compileDirective:()=>pb,\u0275compileNgModule:()=>Ss,\u0275compileNgModuleDefs:()=>ub,\u0275compileNgModuleFactory:()=>ty,\u0275compilePipe:()=>vb,\u0275createInjector:()=>Ih,\u0275defaultIterableDiffers:()=>hT,\u0275defaultKeyValueDiffers:()=>xE,\u0275detectChanges:()=>Rp,\u0275devModeEqual:()=>Jv,\u0275findLocaleData:()=>A_,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>mc,\u0275formatRuntimeError:()=>Xe,\u0275getDebugNode:()=>Bd,\u0275getDebugNodeR2:()=>aT,\u0275getDirectives:()=>Q0,\u0275getHostElement:()=>U_,\u0275getInjectableDef:()=>dn,\u0275getLContext:()=>rs,\u0275getLocaleCurrencyCode:()=>Nd,\u0275getLocalePluralCase:()=>k0,\u0275getSanitizationBypassType:()=>Vf,\u0275getUnknownElementStrictMode:()=>Xf,\u0275getUnknownPropertyStrictMode:()=>bm,\u0275global:()=>Cn,\u0275injectChangeDetectorRef:()=>As,\u0275internalCreateApplication:()=>ny,\u0275isBoundToModule:()=>Nb,\u0275isDefaultChangeDetectionStrategy:()=>Ct,\u0275isInjectable:()=>qo,\u0275isListLikeIterable:()=>yd,\u0275isObservable:()=>c0,\u0275isPromise:()=>p_,\u0275isStandalone:()=>Wn,\u0275isSubscribable:()=>kp,\u0275ivyEnabled:()=>uy,\u0275makeDecorator:()=>Ds,\u0275noSideEffects:()=>Bn,\u0275patchComponentDefWithScope:()=>uf,\u0275publishDefaultGlobalUtils:()=>eT,\u0275publishGlobalUtil:()=>Wo,\u0275registerLocaleData:()=>Xw,\u0275resetCompiledComponents:()=>H1,\u0275resetJitOptions:()=>cf,\u0275resolveComponentResources:()=>uo,\u0275setAllowDuplicateNgModuleIdsForTest:()=>Qg,\u0275setClassMetadata:()=>bI,\u0275setCurrentInjector:()=>ws,\u0275setDocument:()=>Jg,\u0275setLocaleId:()=>O_,\u0275setUnknownElementStrictMode:()=>cd,\u0275setUnknownPropertyStrictMode:()=>ep,\u0275store:()=>o0,\u0275stringify:()=>me,\u0275transitiveScopesFor:()=>wa,\u0275unregisterLocaleData:()=>eI,\u0275unwrapSafeValue:()=>fo,\u0275\u0275CopyDefinitionFeature:()=>Kv,\u0275\u0275FactoryTarget:()=>Dr,\u0275\u0275InheritDefinitionFeature:()=>Wv,\u0275\u0275NgOnChangesFeature:()=>Yi,\u0275\u0275ProvidersFeature:()=>fc,\u0275\u0275StandaloneFeature:()=>Y0,\u0275\u0275advance:()=>Dh,\u0275\u0275attribute:()=>Xv,\u0275\u0275attributeInterpolate1:()=>l_,\u0275\u0275attributeInterpolate2:()=>e0,\u0275\u0275attributeInterpolate3:()=>t0,\u0275\u0275attributeInterpolate4:()=>c_,\u0275\u0275attributeInterpolate5:()=>Mp,\u0275\u0275attributeInterpolate6:()=>n0,\u0275\u0275attributeInterpolate7:()=>xp,\u0275\u0275attributeInterpolate8:()=>u_,\u0275\u0275attributeInterpolateV:()=>r0,\u0275\u0275classMap:()=>Bh,\u0275\u0275classMapInterpolate1:()=>E0,\u0275\u0275classMapInterpolate2:()=>Gh,\u0275\u0275classMapInterpolate3:()=>Wh,\u0275\u0275classMapInterpolate4:()=>Kw,\u0275\u0275classMapInterpolate5:()=>zr,\u0275\u0275classMapInterpolate6:()=>C0,\u0275\u0275classMapInterpolate7:()=>Zw,\u0275\u0275classMapInterpolate8:()=>Yw,\u0275\u0275classMapInterpolateV:()=>Qw,\u0275\u0275classProp:()=>nr,\u0275\u0275contentQuery:()=>ug,\u0275\u0275defineComponent:()=>Fe,\u0275\u0275defineDirective:()=>Ae,\u0275\u0275defineInjectable:()=>an,\u0275\u0275defineInjector:()=>Ht,\u0275\u0275defineNgModule:()=>G,\u0275\u0275definePipe:()=>le,\u0275\u0275directiveInject:()=>rc,\u0275\u0275disableBindings:()=>Vs,\u0275\u0275element:()=>a0,\u0275\u0275elementContainer:()=>l0,\u0275\u0275elementContainerEnd:()=>f_,\u0275\u0275elementContainerStart:()=>ac,\u0275\u0275elementEnd:()=>bd,\u0275\u0275elementStart:()=>Op,\u0275\u0275enableBindings:()=>Fa,\u0275\u0275getCurrentView:()=>eu,\u0275\u0275getInheritedFactory:()=>Hr,\u0275\u0275hostProperty:()=>S_,\u0275\u0275i18n:()=>Vn,\u0275\u0275i18nApply:()=>Ks,\u0275\u0275i18nAttributes:()=>z0,\u0275\u0275i18nEnd:()=>gi,\u0275\u0275i18nExp:()=>lu,\u0275\u0275i18nPostprocess:()=>pI,\u0275\u0275i18nStart:()=>Qh,\u0275\u0275inject:()=>Yn,\u0275\u0275injectAttribute:()=>xc,\u0275\u0275invalidFactory:()=>uw,\u0275\u0275invalidFactoryDep:()=>Zu,\u0275\u0275listener:()=>Dd,\u0275\u0275loadQuery:()=>dg,\u0275\u0275namespaceHTML:()=>yn,\u0275\u0275namespaceMathML:()=>pn,\u0275\u0275namespaceSVG:()=>it,\u0275\u0275nextContext:()=>d0,\u0275\u0275ngDeclareClassMetadata:()=>zb,\u0275\u0275ngDeclareComponent:()=>RE,\u0275\u0275ngDeclareDirective:()=>Wb,\u0275\u0275ngDeclareFactory:()=>fT,\u0275\u0275ngDeclareInjectable:()=>kE,\u0275\u0275ngDeclareInjector:()=>qb,\u0275\u0275ngDeclareNgModule:()=>pT,\u0275\u0275ngDeclarePipe:()=>PE,\u0275\u0275pipe:()=>SI,\u0275\u0275pipeBind1:()=>NI,\u0275\u0275pipeBind2:()=>nb,\u0275\u0275pipeBind3:()=>rb,\u0275\u0275pipeBind4:()=>Dl,\u0275\u0275pipeBindV:()=>ib,\u0275\u0275projection:()=>p0,\u0275\u0275projectionDef:()=>f0,\u0275\u0275property:()=>vd,\u0275\u0275propertyInterpolate:()=>wd,\u0275\u0275propertyInterpolate1:()=>Fh,\u0275\u0275propertyInterpolate2:()=>Fp,\u0275\u0275propertyInterpolate3:()=>Lp,\u0275\u0275propertyInterpolate4:()=>Lh,\u0275\u0275propertyInterpolate5:()=>Id,\u0275\u0275propertyInterpolate6:()=>m_,\u0275\u0275propertyInterpolate7:()=>g0,\u0275\u0275propertyInterpolate8:()=>Vp,\u0275\u0275propertyInterpolateV:()=>Vh,\u0275\u0275pureFunction0:()=>J0,\u0275\u0275pureFunction1:()=>fu,\u0275\u0275pureFunction2:()=>DI,\u0275\u0275pureFunction3:()=>tf,\u0275\u0275pureFunction4:()=>ig,\u0275\u0275pureFunction5:()=>sg,\u0275\u0275pureFunction6:()=>X0,\u0275\u0275pureFunction7:()=>eb,\u0275\u0275pureFunction8:()=>Si,\u0275\u0275pureFunctionV:()=>wI,\u0275\u0275queryRefresh:()=>LI,\u0275\u0275reference:()=>kw,\u0275\u0275registerNgModuleType:()=>Ff,\u0275\u0275resetView:()=>La,\u0275\u0275resolveBody:()=>LD,\u0275\u0275resolveDocument:()=>hd,\u0275\u0275resolveWindow:()=>Zy,\u0275\u0275restoreView:()=>ro,\u0275\u0275sanitizeHtml:()=>Uc,\u0275\u0275sanitizeResourceUrl:()=>Hf,\u0275\u0275sanitizeScript:()=>jc,\u0275\u0275sanitizeStyle:()=>hm,\u0275\u0275sanitizeUrl:()=>ah,\u0275\u0275sanitizeUrlOrResourceUrl:()=>id,\u0275\u0275setComponentScope:()=>ht,\u0275\u0275setNgModuleScope:()=>W,\u0275\u0275styleMap:()=>zs,\u0275\u0275styleMapInterpolate1:()=>T0,\u0275\u0275styleMapInterpolate2:()=>S0,\u0275\u0275styleMapInterpolate3:()=>N0,\u0275\u0275styleMapInterpolate4:()=>qp,\u0275\u0275styleMapInterpolate5:()=>A0,\u0275\u0275styleMapInterpolate6:()=>ml,\u0275\u0275styleMapInterpolate7:()=>M0,\u0275\u0275styleMapInterpolate8:()=>x0,\u0275\u0275styleMapInterpolateV:()=>I_,\u0275\u0275styleProp:()=>y_,\u0275\u0275stylePropInterpolate1:()=>Td,\u0275\u0275stylePropInterpolate2:()=>E_,\u0275\u0275stylePropInterpolate3:()=>Kp,\u0275\u0275stylePropInterpolate4:()=>zh,\u0275\u0275stylePropInterpolate5:()=>C_,\u0275\u0275stylePropInterpolate6:()=>qh,\u0275\u0275stylePropInterpolate7:()=>R0,\u0275\u0275stylePropInterpolate8:()=>T_,\u0275\u0275stylePropInterpolateV:()=>Sd,\u0275\u0275syntheticHostListener:()=>g_,\u0275\u0275syntheticHostProperty:()=>N_,\u0275\u0275template:()=>d_,\u0275\u0275templateRefExtractor:()=>Pd,\u0275\u0275text:()=>D_,\u0275\u0275textInterpolate:()=>w_,\u0275\u0275textInterpolate1:()=>Gp,\u0275\u0275textInterpolate2:()=>Wp,\u0275\u0275textInterpolate3:()=>D0,\u0275\u0275textInterpolate4:()=>w0,\u0275\u0275textInterpolate5:()=>I0,\u0275\u0275textInterpolate6:()=>$h,\u0275\u0275textInterpolate7:()=>Cd,\u0275\u0275textInterpolate8:()=>Hh,\u0275\u0275textInterpolateV:()=>zp,\u0275\u0275trustConstantHtml:()=>fm,\u0275\u0275trustConstantResourceUrl:()=>Gf,\u0275\u0275viewQuery:()=>or});var I=V(7579),u=V(727),B=V(9751),Q=V(6451),ie=V(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function we(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function me(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(me).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const K=ge({__forward_ref__:ge});function q(s){return s.__forward_ref__=q,s.toString=function(){return me(this())},s}function Z(s){return ke(s)?s():s}function ke(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===q}class Ie extends Error{constructor(o,a){super(Xe(o,a)),this.code=o}}function Xe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}function Ne(s,o){throw new Ie(-201,!1)}function tt(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}const pr=an;function Ht(s){return{providers:s.providers||[],imports:s.imports||[]}}function dn(s){return ri(s,Mi)||ri(s,bi)}function qo(s){return null!==dn(s)}function ri(s,o){return s.hasOwnProperty(o)?s[o]:null}function as(s){return s&&(s.hasOwnProperty(Mr)||s.hasOwnProperty(ls))?s[Mr]:null}const Mi=ge({\u0275prov:ge}),Mr=ge({\u0275inj:ge}),bi=ge({ngInjectableDef:ge}),ls=ge({ngInjectorDef:ge});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Yr;function gr(s){const o=Yr;return Yr=s,o}function si(s,o,a){const c=dn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&nt.Optional?null:void 0!==o?o:void Ne(me(s))}function Bn(s){return{toString:s}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),Gt=(()=>((Gt=Gt||{})[Gt.CheckOnce=0]="CheckOnce",Gt[Gt.Checked=1]="Checked",Gt[Gt.CheckAlways=2]="CheckAlways",Gt[Gt.Detached=3]="Detached",Gt[Gt.Errored=4]="Errored",Gt[Gt.Destroyed=5]="Destroyed",Gt))();function Ct(s){return null==s||s===Un.Default}var vt=(()=>{return(s=vt||(vt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",vt;var s})();const Cn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),oi={},Vt=[],xi=ge({\u0275cmp:ge}),hn=ge({\u0275dir:ge}),qi=ge({\u0275pipe:ge}),_n=ge({\u0275mod:ge}),mr=ge({\u0275fac:ge}),Br=ge({__NG_ELEMENT_ID__:ge});let pt=0;function Fe(s){return Bn(()=>{const a=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||vt.Emulated,id:"c"+pt++,styles:s.styles||Vt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,v=s.features;return h.inputs=te(s.inputs,c),h.outputs=te(s.outputs),v&&v.forEach(D=>D(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Ot).filter(kt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Zt).filter(kt):null,h})}function ht(s,o,a){const c=s.\u0275cmp;c.directiveDefs=()=>("function"==typeof o?o():o).map(Ot),c.pipeDefs=()=>("function"==typeof a?a():a).map(Zt)}function Ot(s){return We(s)||Et(s)}function kt(s){return null!==s}function G(s){return Bn(()=>({type:s.type,bootstrap:s.bootstrap||Vt,declarations:s.declarations||Vt,imports:s.imports||Vt,exports:s.exports||Vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function W(s,o){return Bn(()=>{const a=Dn(s,!0);a.declarations=o.declarations||Vt,a.imports=o.imports||Vt,a.exports=o.exports||Vt})}function te(s,o){if(null==s)return oi;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,o&&(o[h]=p)}return a}const Ae=Fe;function le(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function We(s){return s[xi]||null}function Et(s){return s[hn]||null}function Zt(s){return s[qi]||null}function Wn(s){const o=We(s)||Et(s)||Zt(s);return null!==o&&o.standalone}function Dn(s,o){const a=s[_n]||null;if(!a&&!0===o)throw new Error(`Type ${me(s)} does not have '\u0275mod' property.`);return a}function ln(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ur(s){return Array.isArray(s)&&!0===s[1]}function Rs(s){return 0!=(8&s.flags)}function To(s){return 2==(2&s.flags)}function Al(s){return 1==(1&s.flags)}function jr(s){return null!==s.template}function Na(s){return 0!=(256&s[2])}function ci(s,o){return s.hasOwnProperty(mr)?s[mr]:null}class ui{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Yi(){return ks}function ks(s){return s.type.prototype.ngOnChanges&&(s.setInput=Zo),Ko}function Ko(){const s=xu(this),o=s?.current;if(o){const a=s.previous;if(a===oi)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Zo(s,o,a,c){const h=xu(s)||function Yo(s,o){return s[xa]=o}(s,{previous:oi,current:null}),p=h.current||(h.current={}),v=h.previous,D=this.declaredInputs[a],C=v[D];p[D]=new ui(C&&C.currentValue,o,v===oi),s[c]=o}Yi.ngInherit=!0;const xa="__ngSimpleChanges__";function xu(s){return s[xa]||null}let fs=null;const En=s=>{fs=s},vr=function(s,o,a){fs?.(s,o,a)};function jn(s){for(;Array.isArray(s);)s=s[0];return s}function wi(s,o){return jn(o[s])}function Qr(s,o){return jn(o[s.index])}function eo(s,o){return s.data[o]}function Jr(s,o){return s[o]}function rn(s,o){const a=o[s];return ln(a)?a:a[0]}function to(s){return 64==(64&s[2])}function Ri(s,o){return null==o?null:s[o]}function Xo(s){s[18]=0}function On(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const Pt={lFrame:Wa(null),bindingsEnabled:!0};function Oi(){return Pt.bindingsEnabled}function Fa(){Pt.bindingsEnabled=!0}function Vs(){Pt.bindingsEnabled=!1}function Oe(){return Pt.lFrame.lView}function Jt(){return Pt.lFrame.tView}function ro(s){return Pt.lFrame.contextLView=s,s[8]}function La(s){return Pt.lFrame.contextLView=null,s}function $n(){let s=Va();for(;null!==s&&64===s.type;)s=s.parent;return s}function Va(){return Pt.lFrame.currentTNode}function Qi(){const s=Pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Xr(s,o){const a=Pt.lFrame;a.currentTNode=s,a.isParent=o}function io(){return Pt.lFrame.isParent}function Bs(){Pt.lFrame.isParent=!1}function Hn(){const s=Pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Xi(){return Pt.lFrame.bindingIndex}function Pl(s){return Pt.lFrame.bindingIndex=s}function Us(){return Pt.lFrame.bindingIndex++}function ki(s){const o=Pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function ea(s){Pt.lFrame.inI18n=s}function qd(s,o){const a=Pt.lFrame;a.bindingIndex=a.bindingRootIndex=s,ja(o)}function ja(s){Pt.lFrame.currentDirectiveIndex=s}function js(s){const o=Pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function $a(){return Pt.lFrame.currentQueryIndex}function So(s){Pt.lFrame.currentQueryIndex=s}function ta(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ha(s,o,a){if(a&nt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&nt.Host||(h=ta(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=Pt.lFrame=Ll();return c.currentTNode=o,c.lView=s,!0}function Ga(s){const o=Ll(),a=s[1];Pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ll(){const s=Pt.lFrame,o=null===s?null:s.child;return null===o?Wa(s):o}function Wa(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function za(){const s=Pt.lFrame;return Pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const E=za;function R(){const s=za();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function H(){return Pt.lFrame.selectedIndex}function ce(s){Pt.lFrame.selectedIndex=s}function be(){const s=Pt.lFrame;return eo(s.tView,s.selectedIndex)}function it(){Pt.lFrame.currentNamespace="svg"}function pn(){Pt.lFrame.currentNamespace="math"}function yn(){!function gn(){Pt.lFrame.currentNamespace=null}()}function vn(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:F}=p;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),D&&((s.contentHooks||(s.contentHooks=[])).push(a,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,D)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),M&&((s.viewHooks||(s.viewHooks=[])).push(a,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,M)),null!=F&&(s.destroyHooks||(s.destroyHooks=[])).push(a,F)}}function kn(s,o,a){ms(s,o,3,a)}function so(s,o,a,c){(3&s[2])===a&&ms(s,o,a,c)}function Ii(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function ms(s,o,a,c){const p=c??-1,v=o.length-1;let D=0;for(let C=void 0!==c?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(D=o[C],null!=c&&D>=c)break}else o[C]<0&&(s[18]+=65536),(D<p||-1==p)&&(oo(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function oo(s,o,a,c){const h=a[c]<0,p=a[c+1],D=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048,vr(4,D,p);try{p.call(D)}finally{vr(5,D,p)}}}else{vr(4,D,p);try{p.call(D)}finally{vr(5,D,p)}}}class ys{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Fu(s,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const p=a[c++],v=a[c++],D=a[c++];s.setAttribute(o,v,D,p)}else{const p=h,v=a[++c];Lu(p)?s.setProperty(o,p,v):s.setAttribute(o,p,v),c++}}return c}function na(s){return 3===s||4===s||6===s}function Lu(s){return 64===s.charCodeAt(0)}function Vl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||Vu(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function Vu(s,o,a,c,h){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===a){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Bu(s){return-1!==s}function Or(s){return 32767&s}function qa(s,o){let a=function Bl(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let vs=!0;function ao(s){const o=vs;return vs=s,o}let br=0;const es={};function ra(s,o){const a=Uu(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,jl(c.data,s),jl(o,null),jl(c.blueprint,null));const h=Za(s,o),p=s.injectorIndex;if(Bu(h)){const v=Or(h),D=qa(h,o),C=D[1].data;for(let M=0;M<8;M++)o[p+M]=D[v+M]|C[v+M]}return o[p+8]=h,p}function jl(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Uu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Za(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=Hu(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function No(s,o,a){!function Ul(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Br)&&(c=a[Br]),null==c&&(c=a[Br]=br++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Ao(s,o,a){if(a&nt.Optional||void 0!==s)return s;Ne()}function lo(s,o,a,c){if(a&nt.Optional&&void 0===c&&(c=null),0==(a&(nt.Self|nt.Host))){const h=s[9],p=gr(void 0);try{return h?h.get(o,c,a&nt.Optional):si(o,c,a&nt.Optional)}finally{gr(p)}}return Ao(c,0,a)}function $r(s,o,a,c=nt.Default,h){if(null!==s){if(1024&o[2]){const v=function Ja(s,o,a,c,h){let p=s,v=o;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=$l(p,v,a,c|nt.Self,es);if(D!==es)return D;let C=p.parent;if(!C){const M=v[21];if(M){const F=M.get(a,es,c);if(F!==es)return F}C=Hu(v),v=v[15]}p=C}return h}(s,o,a,c,es);if(v!==es)return v}const p=$l(s,o,a,c,es);if(p!==es)return p}return lo(o,a,c,h)}function $l(s,o,a,c,h){const p=function ju(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Br)?s[Br]:void 0;return"number"==typeof o?o>=0?255&o:$u:o}(a);if("function"==typeof p){if(!Ha(o,s,c))return c&nt.Host?Ao(h,0,c):lo(o,a,c,h);try{const v=p(c);if(null!=v||c&nt.Optional)return v;Ne()}finally{E()}}else if("number"==typeof p){let v=null,D=Uu(s,o),C=-1,M=c&nt.Host?o[16][6]:null;for((-1===D||c&nt.SkipSelf)&&(C=-1===D?Za(s,o):o[D+8],-1!==C&&Qa(c,!1)?(v=o[1],D=Or(C),o=qa(C,o)):D=-1);-1!==D;){const F=o[1];if(Hs(p,D,F.data)){const U=Hl(D,o,a,v,c,M);if(U!==es)return U}C=o[D+8],-1!==C&&Qa(c,o[1].data[D+8]===M)&&Hs(p,D,o)?(v=F,D=Or(C),o=qa(C,o)):D=-1}}return h}function Hl(s,o,a,c,h,p){const v=o[1],D=v.data[s+8],F=Ya(D,v,a,null==c?To(D)&&vs:c!=v&&0!=(3&D.type),h&nt.Host&&p===D);return null!==F?Mo(o,v,F,D):es}function Ya(s,o,a,c,h){const p=s.providerIndexes,v=o.data,D=1048575&p,C=s.directiveStart,F=p>>20,Y=h?D+F:s.directiveEnd;for(let se=c?D:D+F;se<Y;se++){const Me=v[se];if(se<C&&a===Me||se>=C&&Me.type===a)return se}if(h){const se=v[C];if(se&&jr(se)&&se.type===a)return C}return null}function Mo(s,o,a,c){let h=s[a];const p=o.data;if(function $s(s){return s instanceof ys}(h)){const v=h;v.resolving&&function ct(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${s}${a}`)}(fe(p[a]));const D=ao(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?gr(v.injectImpl):null;Ha(s,c,nt.Default);try{h=s[a]=v.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function cr(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const v=ks(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==C&&gr(C),ao(D),v.resolving=!1,E()}}return h}function Hs(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Qa(s,o){return!(s&nt.Self||s&nt.Host&&o)}class di{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return $r(this._tNode,this._lView,o,c,a)}}function $u(){return new di($n(),Oe())}function Hr(s){return Bn(()=>{const o=s.prototype.constructor,a=o[mr]||bs(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[mr]||bs(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function bs(s){return ke(s)?()=>{const o=bs(Z(s));return o&&o()}:ci(s)}function Hu(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function xc(s){return function Mf(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(na(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}($n(),s)}const hi="__annotations__",Gs="__parameters__",xo="__prop__metadata__";function Ds(s,o,a,c,h){return Bn(()=>{const p=Xa(o);function v(...D){if(this instanceof v)return p.call(this,...D),this;const C=new v(...D);return function(F){return h&&h(F,...D),(F.hasOwnProperty(hi)?F[hi]:Object.defineProperty(F,hi,{value:[]})[hi]).push(C),c&&c(F),F}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=s,v.annotationCls=v,v})}function Xa(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}function Ro(s,o,a){return Bn(()=>{const c=Xa(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const v=new h(...p);return D.annotation=v,D;function D(C,M,F){const U=C.hasOwnProperty(Gs)?C[Gs]:Object.defineProperty(C,Gs,{value:[]})[Gs];for(;U.length<=F;)U.push(null);return(U[F]=U[F]||[]).push(v),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function Gr(s,o,a,c){return Bn(()=>{const h=Xa(o);function p(...v){if(this instanceof p)return h.apply(this,v),this;const D=new p(...v);return function C(M,F){const U=M.constructor,Y=U.hasOwnProperty(xo)?U[xo]:Object.defineProperty(U,xo,{value:{}})[xo];Y[F]=Y.hasOwnProperty(F)&&Y[F]||[],Y[F].unshift(D),c&&c(M,F,...v)}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=s,p.annotationCls=p,p})}const Ws=Ro("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>xc(s)}));class An{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=an({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Kd=new An("AnalyzeForEntryComponents");class ia{}const xf=Gr("ContentChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...o}),ia),Zd=Gr("ContentChild",(s,o={})=>({selector:s,first:!0,isViewQuery:!1,descendants:!0,...o}),ia),Rc=Gr("ViewChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...o}),ia),Yd=Gr("ViewChild",(s,o)=>({selector:s,first:!0,isViewQuery:!0,descendants:!0,...o}),ia);var Dr=(()=>((Dr=Dr||{})[Dr.Directive=0]="Directive",Dr[Dr.Component=1]="Component",Dr[Dr.Injectable=2]="Injectable",Dr[Dr.Pipe=3]="Pipe",Dr[Dr.NgModule=4]="NgModule",Dr))();function wr(s){const o=Cn.ng;if(o&&o.\u0275compilerFacade)return o.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Gl=Function;function Oo(s){return"function"==typeof s}function Ei(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),Ei(c,o)):o!==s&&o.push(c)}return o}function ts(s,o){s.forEach(a=>Array.isArray(a)?ts(a,o):o(a))}function ei(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Pi(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function co(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function Fi(s,o,a){let c=Lo(s,o);return c>=0?s[1|c]=a:(c=~c,function ko(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function oa(s,o){const a=Lo(s,o);if(a>=0)return s[1|a]}function Lo(s,o){return function kc(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const p=c+(h-c>>1),v=s[p<<a];if(o===v)return p<<a;v>o?h=p:c=p+1}return~(h<<a)}(s,o,1)}const Jd=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Xd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Pc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,xy=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Of{constructor(o){this._reflect=o||Cn.Reflect}factory(o){return(...a)=>new o(...a)}_zipTypesAndAnnotations(o,a){let c;c=co(typeof o>"u"?a.length:o.length);for(let h=0;h<c.length;h++)c[h]=typeof o>"u"?[]:o[h]&&o[h]!=Object?[o[h]]:[],a&&null!=a[h]&&(c[h]=c[h].concat(a[h]));return c}_ownParameters(o,a){if(function Rf(s){return Jd.test(s)||xy.test(s)||Xd.test(s)&&!Pc.test(s)}(o.toString()))return null;if(o.parameters&&o.parameters!==a.parameters)return o.parameters;const h=o.ctorParameters;if(h&&h!==a.ctorParameters){const D="function"==typeof h?h():h,C=D.map(F=>F&&F.type),M=D.map(F=>F&&el(F.decorators));return this._zipTypesAndAnnotations(C,M)}const p=o.hasOwnProperty(Gs)&&o[Gs],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",o);return v||p?this._zipTypesAndAnnotations(v,p):co(o.length)}parameters(o){if(!Oo(o))return[];const a=tl(o);let c=this._ownParameters(o,a);return!c&&a!==Object&&(c=this.parameters(a)),c||[]}_ownAnnotations(o,a){if(o.annotations&&o.annotations!==a.annotations){let c=o.annotations;return"function"==typeof c&&c.annotations&&(c=c.annotations),c}return o.decorators&&o.decorators!==a.decorators?el(o.decorators):o.hasOwnProperty(hi)?o[hi]:null}annotations(o){if(!Oo(o))return[];const a=tl(o),c=this._ownAnnotations(o,a)||[];return(a!==Object?this.annotations(a):[]).concat(c)}_ownPropMetadata(o,a){if(o.propMetadata&&o.propMetadata!==a.propMetadata){let c=o.propMetadata;return"function"==typeof c&&c.propMetadata&&(c=c.propMetadata),c}if(o.propDecorators&&o.propDecorators!==a.propDecorators){const c=o.propDecorators,h={};return Object.keys(c).forEach(p=>{h[p]=el(c[p])}),h}return o.hasOwnProperty(xo)?o[xo]:null}propMetadata(o){if(!Oo(o))return{};const a=tl(o),c={};if(a!==Object){const p=this.propMetadata(a);Object.keys(p).forEach(v=>{c[v]=p[v]})}const h=this._ownPropMetadata(o,a);return h&&Object.keys(h).forEach(p=>{const v=[];c.hasOwnProperty(p)&&v.push(...c[p]),v.push(...h[p]),c[p]=v}),c}ownPropMetadata(o){return Oo(o)&&this._ownPropMetadata(o,tl(o))||{}}hasLifecycleHook(o,a){return o instanceof Gl&&a in o.prototype}}function el(s){return s?s.map(o=>new(0,o.type.annotationCls)(...o.args?o.args:[])):[]}function tl(s){const o=s.prototype?Object.getPrototypeOf(s.prototype):null;return(o?o.constructor:null)||Object}const Li={},ql="__NG_DI_FLAG__",Vo="ngTempTokenPath",Bo=/\n/gm,qu="__source";let aa;function ws(s){const o=aa;return aa=s,o}function Ku(s,o=nt.Default){if(void 0===aa)throw new Ie(-203,!1);return null===aa?si(s,void 0,o):aa.get(s,o&nt.Optional?null:void 0,o)}function Yn(s,o=nt.Default){return(function zi(){return Yr}()||Ku)(Z(s),o)}function Zu(s){throw new Ie(202,!1)}function S(s,o=nt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Yn(s,o)}function N(s){const o=[];for(let a=0;a<s.length;a++){const c=Z(s[a]);if(Array.isArray(c)){if(0===c.length)throw new Ie(900,!1);let h,p=nt.Default;for(let v=0;v<c.length;v++){const D=c[v],C=$(D);"number"==typeof C?-1===C?h=D.token:p|=C:h=D}o.push(Yn(h,p))}else o.push(Yn(c))}return o}function k(s,o){return s[ql]=o,s.prototype[ql]=o,s}function $(s){return s[ql]}const Ve=k(Ro("Inject",s=>({token:s})),-1),Ke=k(Ro("Optional"),8),Dt=k(Ro("Self"),2),Mt=k(Ro("SkipSelf"),4),$t=k(Ro("Host"),1);let xt=null;function Gn(){return xt=xt||new Of}function Ir(s){return nl(Gn().parameters(s))}function nl(s){return s.map(o=>function rl(s){const o={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let a=0;a<s.length;a++){const c=s[a];if(void 0===c)continue;const h=Object.getPrototypeOf(c);if(c instanceof Ke||"Optional"===h.ngMetadataName)o.optional=!0;else if(c instanceof Mt||"SkipSelf"===h.ngMetadataName)o.skipSelf=!0;else if(c instanceof Dt||"Self"===h.ngMetadataName)o.self=!0;else if(c instanceof $t||"Host"===h.ngMetadataName)o.host=!0;else if(c instanceof Ve)o.token=c.token;else if(c instanceof Ws){if(void 0===c.attributeName)throw new Ie(204,!1);o.attribute=c.attributeName}else o.token=c}else o.token=void 0===s||Array.isArray(s)&&0===s.length?null:s;return o}(o))}function uo(s){const o=[],a=new Map;function c(h){let p=a.get(h);if(!p){const v=s(h);a.set(h,p=v.then(Oy))}return p}return il.forEach((h,p)=>{const v=[];h.templateUrl&&v.push(c(h.templateUrl).then(U=>{h.template=U}));const D=h.styleUrls,C=h.styles||(h.styles=[]),M=h.styles.length;D&&D.forEach((U,Y)=>{C.push(""),v.push(c(U).then(se=>{C[M+Y]=se,D.splice(D.indexOf(U),1),0==D.length&&(h.styleUrls=void 0)}))});const F=Promise.all(v).then(()=>function Pf(s){ho.delete(s)}(p));o.push(F)}),Fc(),Promise.all(o).then(()=>{})}let il=new Map;const ho=new Set;function ca(s){return!!(s.templateUrl&&!s.hasOwnProperty("template")||s.styleUrls&&s.styleUrls.length)}function Fc(){const s=il;return il=new Map,s}function Oy(s){return"string"==typeof s?s:s.text()}const Lc=new Map;let th,Vc,Ju,Yu=!0;function Ff(s,o){(function wD(s,o,a){if(o&&o!==a&&Yu)throw new Error(`Duplicate module registered for ${s} - ${me(o)} vs ${me(o.name)}`)})(o,Lc.get(o)||null,s),Lc.set(o,s)}function sl(s){return Lc.get(s)}function Qg(s){Yu=!s}function Jg(s){th=s}function ky(){return void 0!==th?th:typeof document<"u"?document:void 0}function nh(){if(void 0===Vc&&(Vc=null,Cn.trustedTypes))try{Vc=Cn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Vc}function Qu(s){return nh()?.createHTML(s)||s}function rh(){if(void 0===Ju&&(Ju=null,Cn.trustedTypes))try{Ju=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ju}function Xg(s){return rh()?.createHTML(s)||s}function Lf(s){return rh()?.createScript(s)||s}function ol(s){return rh()?.createScriptURL(s)||s}class Is{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Py extends Is{getTypeName(){return"HTML"}}class Bc extends Is{getTypeName(){return"Style"}}class Fy extends Is{getTypeName(){return"Script"}}class Ly extends Is{getTypeName(){return"URL"}}class em extends Is{getTypeName(){return"ResourceURL"}}function fo(s){return s instanceof Is?s.changingThisBreaksApplicationSecurity:s}function Zl(s,o){const a=Vf(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function Vf(s){return s instanceof Is&&s.getTypeName()||null}function Bf(s){return new Py(s)}function tm(s){return new Bc(s)}function Vy(s){return new Fy(s)}function nm(s){return new Ly(s)}function By(s){return new em(s)}function ih(s){const o=new Uf(s);return function CD(){try{return!!(new window.DOMParser).parseFromString(Qu(""),"text/html")}catch{return!1}}()?new rm(o):o}class rm{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Qu(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class Uf{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Qu(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Qu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const ua=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xu(s){return(s=String(s)).match(ua)?s:"unsafe:"+s}function da(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function al(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const im=da("area,br,col,hr,img,wbr"),ed=da("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sm=da("rp,rt"),sh=al(im,al(ed,da("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),al(sm,da("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),al(sm,ed)),td=da("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cm=al(td,da("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),da("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),um=da("script,style,template");class dm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!sh.hasOwnProperty(a))return this.sanitizedSomething=!0,!um.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),v=p.name,D=v.toLowerCase();if(!cm.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let C=p.value;td[D]&&(C=Xu(C)),this.buf.push(" ",v,'="',$f(C),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();sh.hasOwnProperty(a)&&!im.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push($f(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const ll=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jf=/([^\#-~ |!])/g;function $f(s){return s.replace(/&/g,"&amp;").replace(ll,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(jf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let oh;function nd(s,o){let a=null;try{oh=oh||ih(s);let c=o?String(o):"";a=oh.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=a.innerHTML,a=oh.getInertBodyElement(c)}while(c!==p);return Qu((new dm).sanitizeChildren(rd(a)||a))}finally{if(a){const c=rd(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function rd(s){return"content"in s&&function Uy(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function Uc(s){const o=sd();return o?Xg(o.sanitize(Ln.HTML,s)||""):Zl(s,"HTML")?Xg(fo(s)):nd(ky(),Ee(s))}function hm(s){const o=sd();return o?o.sanitize(Ln.STYLE,s)||"":Zl(s,"Style")?fo(s):Ee(s)}function ah(s){const o=sd();return o?o.sanitize(Ln.URL,s)||"":Zl(s,"URL")?fo(s):Xu(Ee(s))}function Hf(s){const o=sd();if(o)return ol(o.sanitize(Ln.RESOURCE_URL,s)||"");if(Zl(s,"ResourceURL"))return ol(fo(s));throw new Ie(904,!1)}function jc(s){const o=sd();if(o)return Lf(o.sanitize(Ln.SCRIPT,s)||"");if(Zl(s,"Script"))return Lf(fo(s));throw new Ie(905,!1)}function fm(s){return Qu(s[0])}function Gf(s){return function ED(s){return nh()?.createScriptURL(s)||s}(s[0])}function id(s,o,a){return function jy(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Hf:ah}(o,a)(s)}function sd(){const s=Oe();return s&&s[12]}const zf=new An("ENVIRONMENT_INITIALIZER"),lh=new An("INJECTOR",-1),$y=new An("INJECTOR_DEF_TYPES");class pm{get(o,a=Li){if(a===Li){const c=new Error(`NullInjectorError: No provider for ${me(o)}!`);throw c.name="NullInjectorError",c}return a}}function gm(...s){return{\u0275providers:qf(0,s)}}function qf(s,...o){const a=[],c=new Set;let h;return ts(o,p=>{const v=p;Zf(v,a,[],c)&&(h||(h=[]),h.push(v))}),void 0!==h&&Kf(h,a),a}function Kf(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];ts(h,p=>{o.push(p)})}}function Zf(s,o,a,c){if(!(s=Z(s)))return!1;let h=null,p=as(s);const v=!p&&We(s);if(p||v){if(v&&!v.standalone)return!1;h=s}else{const C=s.ngModule;if(p=as(C),!p)return!1;h=C}const D=c.has(h);if(v){if(D)return!1;if(c.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of C)Zf(M,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let M;c.add(h);try{ts(p.imports,F=>{Zf(F,o,a,c)&&(M||(M=[]),M.push(F))})}finally{}void 0!==M&&Kf(M,o)}if(!D){const M=ci(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:Vt},{provide:$y,useValue:h,multi:!0},{provide:zf,useValue:()=>Yn(h),multi:!0})}const C=p.providers;null==C||D||ts(C,F=>{o.push(F)})}}return h!==s&&void 0!==s.providers}const mm=ge({provide:String,useValue:ge});function _m(s){return null!==s&&"object"==typeof s&&mm in s}function cl(s){return"function"==typeof s}const od=new An("Set Injector scope."),Yl={},ad={};let uh;function ul(){return void 0===uh&&(uh=new pm),uh}class Bi{}class Yf extends Bi{constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jl(o,v=>this.processProvider(v)),this.records.set(lh,Qn(void 0,this)),h.has("environment")&&this.records.set(Bi,Qn(void 0,this));const p=this.records.get(od);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get($y.multi,Vt,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=ws(this),c=gr(void 0);try{return o()}finally{ws(a),gr(c)}}get(o,a=Li,c=nt.Default){this.assertNotDestroyed();const h=ws(this),p=gr(void 0);try{if(!(c&nt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const C=function ti(s){return"function"==typeof s||"object"==typeof s&&s instanceof An}(o)&&dn(o);D=C&&this.injectableDefInScope(C)?Qn(Ql(o),Yl):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&nt.Self?ul():this.parent).get(o,a=c&nt.Optional&&a===Li?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Vo]=v[Vo]||[]).unshift(me(o)),h)throw v;return function ne(s,o,a,c){const h=s[Vo];throw o[qu]&&h.unshift(o[qu]),s.message=function pe(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=me(o);if(Array.isArray(o))h=o.map(me).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];p.push(v+":"+("string"==typeof D?JSON.stringify(D):me(D)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(Bo,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[Vo]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{gr(p),ws(h)}}resolveInjectorInitializers(){const o=ws(this),a=gr(void 0);try{const c=this.get(zf.multi,Vt,nt.Self);for(const h of c)h()}finally{ws(o),gr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(me(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(o){let a=cl(o=Z(o))?o:Z(o&&o.provide);const c=function Qf(s){return _m(s)?Qn(void 0,s.useValue):Qn(dh(s),Yl)}(o);if(cl(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Qn(void 0,Yl,!0),h.factory=()=>N(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Yl&&(a.value=ad,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ha(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Z(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Ql(s){const o=dn(s),a=null!==o?o.factory:ci(s);if(null!==a)return a;if(s instanceof An)throw new Ie(204,!1);if(s instanceof Function)return function ym(s){const o=s.length;if(o>0)throw co(o,"?"),new Ie(204,!1);const a=function Zr(s){const o=s&&(s[Mi]||s[bi]);if(o){const a=function ii(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ie(204,!1)}function dh(s,o,a){let c;if(cl(s)){const h=Z(s);return ci(h)||Ql(h)}if(_m(s))c=()=>Z(s.useValue);else if(function sr(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...N(s.deps||[]));else if(function dr(s){return!(!s||!s.useExisting)}(s))c=()=>Yn(Z(s.useExisting));else{const h=Z(s&&(s.useClass||s.provide));if(!function Wr(s){return!!s.deps}(s))return ci(h)||Ql(h);c=()=>new h(...N(s.deps))}return c}function Qn(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Ci(s){return!!s.\u0275providers}function Jl(s,o){for(const a of s)Array.isArray(a)?Jl(a,o):Ci(a)?Jl(a.\u0275providers,o):o(a)}class Xl{}class ec{}class Jf{resolveComponentFactory(o){throw function vm(s){const o=Error(`No component factory found for ${me(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Wt=(()=>{class s{}return s.NULL=new Jf,s})();function ld(){return y($n(),Oe())}function y(s,o){return new f(Qr(s,o))}let f=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=ld,s})();function m(s){return s instanceof f?s.nativeElement:s}class x{}let L=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function X(){const s=Oe(),a=rn($n().index,s);return(ln(a)?a:s)[11]}(),s})(),_e=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class ze{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ze=new ze("14.2.5"),wt={},Nt={name:"custom-elements"},kr={name:"no-errors-schema"};let Es=!1;function cd(s){Es=s}function Xf(){return Es}let ud=!1;function ep(s){ud=s}function bm(){return ud}const wm="ngOriginalError";function Wy(s){return s[wm]}class $c{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Wy(o);for(;a&&Wy(a);)a=Wy(a);return a||null}}const np=/^>|^->|<!--|-->|--!>|<!-$/g,ND=/(<|>)/;const qy=new Map;let SC=0;function RD(s){return qy.get(s)||null}class OD{constructor(o,a,c){this.lViewId=o,this.nodeIndex=a,this.native=c}get lView(){return RD(this.lViewId)}}function rs(s){let o=pa(s);if(o){if(ln(o)){const a=o;let c,h,p;if(function fN(s){return s&&s.constructor&&s.constructor.\u0275cmp}(s)){if(c=mh(a,s),-1==c)throw new Error("The provided component was not found in the application");h=s}else if(function MC(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(c=function rp(s,o){let a=s[1].firstChild;for(;a;){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++)if(s[p]===o)return a.index;a=xC(a)}return-1}(a,s),-1==c)throw new Error("The provided directive was not found in the application");p=dd(c,a,!1)}else if(c=kD(a,s),-1==c)return null;const v=jn(a[c]),D=pa(v),C=D&&!Array.isArray(D)?D:Ky(a,c,v);if(h&&void 0===C.component&&(C.component=h,is(C.component,C)),p&&void 0===C.directives){C.directives=p;for(let M=0;M<p.length;M++)is(p[M],C)}is(C.native,C),o=C}}else{const a=s;let c=a;for(;c=c.parentNode;){const h=pa(c);if(h){const p=Array.isArray(h)?h:h.lView;if(!p)return null;const v=kD(p,a);if(v>=0){const D=jn(p[v]),C=Ky(p,v,D);is(D,C),o=C;break}}}}return o||null}function Ky(s,o,a){return new OD(s[20],o,a)}function Tm(s){let a,o=pa(s);if(ln(o)){const c=o,h=mh(c,s);a=rn(h,c);const p=Ky(c,h,a[0]);p.component=s,is(s,p),is(p.native,p)}else a=rn(o.nodeIndex,o.lView);return a}const gh="__ngContext__";function is(s,o){ln(o)?(s[gh]=o[20],function Cm(s){qy.set(s[20],s)}(o)):s[gh]=o}function pa(s){const o=s[gh];return"number"==typeof o?RD(o):o||null}function Sm(s){const o=pa(s);return o?ln(o)?o:o.lView:null}function kD(s,o){const a=s[1];for(let c=22;c<a.bindingStartIndex;c++)if(jn(s[c])===o)return c;return-1}function xC(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}function mh(s,o){const a=s[1].components;if(a)for(let c=0;c<a.length;c++){const h=a[c];if(rn(h,s)[8]===o)return h}else if(rn(22,s)[8]===o)return 22;return-1}function dd(s,o,a){const c=o[1].data[s];let h=c.directiveStart;return 0==h?Vt:(!a&&2&c.flags&&h++,o.slice(h,c.directiveEnd))}function Zy(s){return s.ownerDocument.defaultView}function hd(s){return s.ownerDocument}function LD(s){return s.ownerDocument.body}function hl(s){return s instanceof Function?s():s}var ga=(()=>((ga=ga||{})[ga.Important=1]="Important",ga[ga.DashCase=2]="DashCase",ga))();let Mm;function ma(s,o){return Mm(s,o)}function yh(s){const o=s[3];return Ur(o)?o[3]:o}function kC(s){return function OC(s){let o=ln(s)?s:Sm(s);for(;o&&!(256&o[2]);)o=yh(o);return o}(s)[8]}function Jy(s){return VD(s[13])}function Xy(s){return VD(s[4])}function VD(s){for(;null!==s&&!Ur(s);)s=s[4];return s}function vh(s,o,a,c,h){if(null!=c){let p,v=!1;Ur(c)?p=c:ln(c)&&(v=!0,c=c[0]);const D=jn(c);0===s&&null!==a?null==h?Om(o,a,D):Wc(o,a,D,h||null,!0):1===s&&null!==a?Wc(o,a,D,h||null,!0):2===s?lp(o,D,v):3===s&&o.destroyNode(D),null!=p&&function KD(s,o,a,c,h){const p=a[7];p!==jn(a)&&vh(o,s,c,p,h);for(let D=10;D<a.length;D++){const C=a[D];up(C[1],C,s,o,c,p)}}(o,s,p,a,h)}}function ev(s,o){return s.createText(o)}function BD(s,o,a){s.setValue(o,a)}function PC(s,o){return s.createComment(function AD(s){return s.replace(np,o=>o.replace(ND,"\u200b$1\u200b"))}(o))}function tv(s,o,a){return s.createElement(o,a)}function fd(s,o){const a=s[9],c=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,On(h,-1)),a.splice(c,1)}function Rm(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&fd(h,c),o>0&&(s[a-1][4]=c[4]);const p=Pi(s,10+o);!function UD(s,o){up(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=p[19];null!==v&&v.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function iv(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&up(s,o,a,3,null,null),function nv(s){let o=s[13];if(!o)return sv(s[1],s);for(;o;){let a=null;if(ln(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)ln(o)&&sv(o[1],o),o=o[3];null===o&&(o=s),ln(o)&&sv(o[1],o),a=o&&o[4]}o=a}}(o)}}function sv(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function $D(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof ys)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const D=h[p[v]],C=p[v+1];vr(4,D,C);try{C.call(D)}finally{vr(5,D,C)}}else{vr(4,h,p);try{p.call(h)}finally{vr(5,h,p)}}}}}(s,o),function Gc(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],D="function"==typeof v?v(o):jn(o[v]),C=c[h=a[p+2]],M=a[p+3];"boolean"==typeof M?D.removeEventListener(a[p],C,M):M>=0?c[h=M]():c[h=-M].unsubscribe(),p+=2}else{const v=c[h=a[p+1]];a[p].call(v)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Ur(o[3])){a!==o[3]&&fd(a,o);const c=o[19];null!==c&&c.detachView(s)}!function AC(s){qy.delete(s[20])}(o)}}function HD(s,o,a){return ip(s,o.parent,a)}function ip(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===vt.None||h===vt.Emulated)return null}return Qr(c,a)}function Wc(s,o,a,c,h){s.insertBefore(o,a,c,h)}function Om(s,o,a){s.appendChild(o,a)}function ov(s,o,a,c,h){null!==c?Wc(s,o,a,c,h):Om(s,o,a)}function km(s,o){return s.parentNode(o)}function WD(s,o,a){return Pm(s,o,a)}function zD(s,o,a){return 40&s.type?Qr(s,a):null}let Fm,Pm=zD;function lv(s,o){Pm=s,Fm=o}function op(s,o,a,c){const h=HD(s,c,o),p=o[11],D=WD(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)ov(p,h,a[C],D,!1);else ov(p,h,a,D,!1);void 0!==Fm&&Fm(p,c,o,a,h)}function ap(s,o){if(null!==o){const a=o.type;if(3&a)return Qr(o,s);if(4&a)return pd(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return ap(s,c);{const h=s[o.index];return Ur(h)?pd(-1,h):jn(h)}}if(32&a)return ma(o,s)()||jn(s[o.index]);{const c=qD(s,o);return null!==c?Array.isArray(c)?c[0]:ap(yh(s[16]),c):ap(s,o.next)}}return null}function qD(s,o){return null!==o?s[16][6].projection[o.projection]:null}function pd(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return ap(c,h)}return o[7]}function lp(s,o,a){const c=km(s,o);c&&function av(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}function cp(s,o,a,c,h,p,v){for(;null!=a;){const D=c[a.index],C=a.type;if(v&&0===o&&(D&&is(jn(D),c),a.flags|=4),64!=(64&a.flags))if(8&C)cp(s,o,a.child,c,h,p,!1),vh(o,s,h,D,p);else if(32&C){const M=ma(a,c);let F;for(;F=M();)vh(o,s,h,F,p);vh(o,s,h,D,p)}else 16&C?Lm(s,o,c,a,h,p):vh(o,s,h,D,p);a=v?a.projectionNext:a.next}}function up(s,o,a,c,h,p){cp(a,c,s.firstChild,o,h,p,!1)}function Lm(s,o,a,c,h,p){const v=a[16],C=v[6].projection[c.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)vh(o,s,h,C[M],p);else cp(s,o,C,v[3],h,p,!0)}function VC(s,o,a){s.setAttribute(o,"style",a)}function ZD(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function BC(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}a=h+1}}const QD="ng-template";function UC(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==BC(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function JD(s){return 4===s.type&&s.value!==QD}function cv(s,o,a){return o===(4!==s.type||a?s.value:QD)}function Uo(s,o,a){let c=4;const h=s.attrs||[],p=function ew(s){for(let o=0;o<s.length;o++)if(na(s[o]))return o;return s.length}(h);let v=!1;for(let D=0;D<o.length;D++){const C=o[D];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!cv(s,C,a)||""===C&&1===o.length){if(jo(c))return!1;v=!0}}else{const M=8&c?C:o[++D];if(8&c&&null!==s.attrs){if(!UC(s.attrs,M,a)){if(jo(c))return!1;v=!0}continue}const U=dp(8&c?"class":C,h,JD(s),a);if(-1===U){if(jo(c))return!1;v=!0;continue}if(""!==M){let Y;Y=U>p?"":h[U+1].toLowerCase();const se=8&c?Y:null;if(se&&-1!==BC(se,M,0)||2&c&&M!==Y){if(jo(c))return!1;v=!0}}}}else{if(!v&&!jo(c)&&!jo(C))return!1;if(v&&jo(C))continue;v=!1,c=C|1&c}}return jo(c)||v}function jo(s){return 0==(1&s)}function dp(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let p=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function Vm(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function XD(s,o,a=!1){for(let c=0;c<o.length;c++)if(Uo(s,o[c],a))return!0;return!1}function $C(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function tw(s,o){return s?":not("+o.trim()+")":o}function bh(s){let o=s[0],a=1,c=2,h="",p=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&c){const D=s[++a];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!jo(v)&&(o+=tw(p,h),h=""),c=v,p=p||!jo(c);a++}return""!==h&&(o+=tw(p,h)),o}const zt={};function Dh(s){wh(Jt(),Oe(),H()+s,!1)}function wh(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&kn(o,p,a)}else{const p=s.preOrderHooks;null!==p&&so(o,p,0,a)}ce(a)}const nw={\u0275\u0275defineInjectable:an,\u0275\u0275defineInjector:Ht,\u0275\u0275inject:Yn,\u0275\u0275invalidFactoryDep:Zu,resolveForwardRef:Z};const WC=ge({provide:String,useValue:ge});function rw(s){return void 0!==s.useClass}function iw(s){return void 0!==s.useFactory}const uv=Ds("Injectable",void 0,void 0,void 0,(s,o)=>function GC(s,o){let a=null,c=null;s.hasOwnProperty(Mi)||Object.defineProperty(s,Mi,{get:()=>(null===a&&(a=wr().compileInjectable(nw,`ng:///${s.name}/\u0275prov.js`,function qC(s,o){const a=o||{providedIn:null},c={name:s.name,type:s,typeArgumentCount:0,providedIn:a.providedIn};return(rw(a)||iw(a))&&void 0!==a.deps&&(c.deps=nl(a.deps)),rw(a)?c.useClass=a.useClass:function zC(s){return WC in s}(a)?c.useValue=a.useValue:iw(a)?c.useFactory=a.useFactory:function yN(s){return void 0!==s.useExisting}(a)&&(c.useExisting=a.useExisting),c}(s,o))),a)}),s.hasOwnProperty(mr)||Object.defineProperty(s,mr,{get:()=>{if(null===c){const h=wr();c=h.compileFactory(nw,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:Ir(s),target:h.FactoryTarget.Injectable})}return c},configurable:!0})}(s,o));function Ih(s,o=null,a=null,c){const h=gd(s,o,a,c);return h.resolveInjectorInitializers(),h}function gd(s,o=null,a=null,c,h=new Set){const p=[a||Vt,gm(s)];return c=c||("object"==typeof s?void 0:me(s)),new Yf(p,o||ul(),c||null,h)}let zc=(()=>{class s{static create(a,c){if(Array.isArray(a))return Ih({name:""},c,a,"");{const h=a.name??"";return Ih({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=Li,s.NULL=new pm,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>Yn(lh)}),s.__NG_ELEMENT_ID__=-1,s})();function dv(s){return s.length>1?" ("+function KC(s){const o=[];for(let a=0;a<s.length;++a){if(o.indexOf(s[a])>-1)return o.push(s[a]),o;o.push(s[a])}return o}(s.slice().reverse()).map(c=>me(c.token)).join(" -> ")+")":""}function hv(s,o,a,c){const h=[o],p=a(h),v=c?function Gy(s,o){const a=`${s} caused by: ${o instanceof Error?o.message:o}`,c=Error(a);return c[wm]=o,c}(p,c):Error(p);return v.addKey=ZC,v.keys=h,v.injectors=[s],v.constructResolvingMessage=a,v[wm]=c,v}function ZC(s,o){this.injectors.push(s),this.keys.push(o),this.message=this.constructResolvingMessage(this.keys)}function fv(s,o){const a=[];for(let c=0,h=o.length;c<h;c++){const p=o[c];a.push(p&&0!=p.length?p.map(me).join(" "):"?")}return Error("Cannot resolve all parameters for '"+me(s)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+me(s)+"' is decorated with Injectable.")}function pv(s,o){return Error(`Cannot mix multi providers and regular providers, got: ${s} ${o}`)}class fl{constructor(o,a){if(this.token=o,this.id=a,!o)throw new Ie(208,!1);this.displayName=me(this.token)}static get(o){return fp.get(Z(o))}static get numberOfKeys(){return fp.numberOfKeys}}class gv{constructor(){this._allKeys=new Map}get(o){if(o instanceof fl)return o;if(this._allKeys.has(o))return this._allKeys.get(o);const a=new fl(o,fl.numberOfKeys);return this._allKeys.set(o,a),a}get numberOfKeys(){return this._allKeys.size}}const fp=new gv;class Bm{constructor(o,a,c){this.key=o,this.optional=a,this.visibility=c}static fromKey(o){return new Bm(o,!1,null)}}const t1=[];class sw{constructor(o,a,c){this.key=o,this.resolvedFactories=a,this.multiProvider=c,this.resolvedFactory=this.resolvedFactories[0]}}class ow{constructor(o,a){this.factory=o,this.dependencies=a}}function Um(s){let o,a;if(s.useClass){const c=Z(s.useClass);o=Gn().factory(c),a=Eh(c)}else s.useExisting?(o=c=>c,a=[Bm.fromKey(fl.get(s.useExisting))]):s.useFactory?(o=s.useFactory,a=function cw(s,o){if(o){const a=o.map(c=>[c]);return o.map(c=>mv(s,c,a))}return Eh(s)}(s.useFactory,s.deps)):(o=()=>s.useValue,a=t1);return new ow(o,a)}function aw(s){return new sw(fl.get(s.provide),[Um(s)],s.multi||!1)}function lw(s){const c=function jm(s,o){for(let a=0;a<s.length;a++){const c=s[a],h=o.get(c.key.id);if(h){if(c.multiProvider!==h.multiProvider)throw pv(h,c);if(c.multiProvider)for(let p=0;p<c.resolvedFactories.length;p++)h.resolvedFactories.push(c.resolvedFactories[p]);else o.set(c.key.id,c)}else{let p;p=c.multiProvider?new sw(c.key,c.resolvedFactories.slice(),c.multiProvider):c,o.set(c.key.id,p)}}return o}(pp(s,[]).map(aw),new Map);return Array.from(c.values())}function pp(s,o){return s.forEach(a=>{if(a instanceof Gl)o.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)o.push(a);else{if(!Array.isArray(a))throw function XC(s){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${s}`)}(a);pp(a,o)}}),o}function Eh(s){const o=Gn().parameters(s);if(!o)return[];if(o.some(a=>null==a))throw fv(s,o);return o.map(a=>mv(s,a,o))}function mv(s,o,a){let c=null,h=!1;if(!Array.isArray(o))return _v(o instanceof Ve?o.token:o,h,null);let p=null;for(let v=0;v<o.length;++v){const D=o[v];D instanceof Gl?c=D:D instanceof Ve?c=D.token:D instanceof Ke?h=!0:D instanceof Dt||D instanceof Mt?p=D:D instanceof An&&(c=D)}if(c=Z(c),null!=c)return _v(c,h,p);throw fv(s,a)}function _v(s,o,a){return new Bm(fl.get(s),o,a)}const gp={};class Ch{static resolve(o){return lw(o)}static resolveAndCreate(o,a){const c=Ch.resolve(o);return Ch.fromResolvedProviders(c,a)}static fromResolvedProviders(o,a){return new n1(o,a)}}let n1=(()=>{class s{constructor(a,c){this._constructionCounter=0,this._providers=a,this.parent=c||null;const h=a.length;this.keyIds=[],this.objs=[];for(let p=0;p<h;p++)this.keyIds[p]=a[p].key.id,this.objs[p]=gp}get(a,c=Li){return this._getByKey(fl.get(a),null,c)}resolveAndCreateChild(a){const c=Ch.resolve(a);return this.createChildFromResolved(c)}createChildFromResolved(a){const c=new s(a);return c.parent=this,c}resolveAndInstantiate(a){return this.instantiateResolved(Ch.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function e1(s){return Error(`Index ${s} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function QC(s,o){return hv(s,o,function(a){return`Cannot instantiate cyclic dependency!${dv(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const c=[];for(let h=0;h<a.resolvedFactories.length;++h)c[h]=this._instantiate(a,a.resolvedFactories[h]);return c}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,c){const h=c.factory;let p,v;try{p=c.dependencies.map(D=>this._getByReflectiveDependency(D))}catch(D){throw D.addKey&&D.addKey(this,a.key),D}try{v=h(...p)}catch(D){throw function JC(s,o,a,c){return hv(s,c,function(h){const p=me(h[0].token);return`${o.message}: Error during instantiation of ${p}!${dv(h)}.`},o)}(this,D,0,a.key)}return v}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:Li)}_getByKey(a,c,h){return a===s.INJECTOR_KEY?this:c instanceof Dt?this._getByKeySelf(a,h):this._getByKeyDefault(a,h,c)}_getObjByKeyId(a){for(let c=0;c<this.keyIds.length;c++)if(this.keyIds[c]===a)return this.objs[c]===gp&&(this.objs[c]=this._new(this._providers[c])),this.objs[c];return gp}_throwOrNull(a,c){if(c!==Li)return c;throw function YC(s,o){return hv(s,o,function(a){return`No provider for ${me(a[0].token)}!${dv(a)}`})}(this,a)}_getByKeySelf(a,c){const h=this._getObjByKeyId(a.id);return h!==gp?h:this._throwOrNull(a,c)}_getByKeyDefault(a,c,h){let p;for(p=h instanceof Mt?this.parent:this;p instanceof s;){const v=p,D=v._getObjByKeyId(a.id);if(D!==gp)return D;p=v.parent}return null!==p?p.get(a.token,c):this._throwOrNull(a,c)}get displayName(){return`ReflectiveInjector(providers: [${function r1(s,o){const a=[];for(let c=0;c<s._providers.length;++c)a[c]=o(s.getProviderAtIndex(c));return a}(this,c=>' "'+c.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return s.INJECTOR_KEY=fl.get(zc),s})();function rc(s,o=nt.Default){const a=Oe();return null===a?Yn(s,o):$r($n(),a,Z(s),o)}function uw(){throw new Error("invalid")}function $m(s,o){return s<<17|o<<2}function _a(s){return s>>17&32767}function yv(s){return 2|s}function pl(s){return(131068&s)>>2}function vv(s,o){return-131069&s|o<<2}function Hm(s){return 1|s}function xv(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],p=a[c+1];if(-1!==p){const v=s.data[p];So(h),v.contentQueries(2,o[p],p)}}}function yp(s,o,a,c,h,p,v,D,C,M,F){const U=o.blueprint.slice();return U[0]=h,U[2]=76|c,(null!==F||s&&1024&s[2])&&(U[2]|=1024),Xo(U),U[3]=U[15]=s,U[8]=a,U[10]=v||s&&s[10],U[11]=D||s&&s[11],U[12]=C||s&&s[12]||null,U[9]=M||s&&s[9]||null,U[6]=p,U[20]=function NC(){return SC++}(),U[21]=F,U[16]=2==o.type?s[16]:U,U}function ya(s,o,a,c,h){let p=s.data[o];if(null===p)p=vp(s,o,a,c,h),function Ou(){return Pt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const v=Qi();p.injectorIndex=null===v?-1:v.injectorIndex}return Xr(p,!0),p}function vp(s,o,a,c,h){const p=Va(),v=io(),C=s.data[o]=function h1(s,o,a,c,h,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(v?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}function bp(s,o,a,c){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Km(s,o,a){Ga(o);try{const c=s.viewQuery;null!==c&&Xm(1,c,a);const h=s.template;null!==h&&Zm(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&xv(s,o),s.staticViewQueries&&Xm(2,s.viewQuery,a);const p=s.components;null!==p&&function AN(s,o){for(let a=0;a<o.length;a++)Ui(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,R()}}function Dp(s,o,a,c){const h=o[2];if(128!=(128&h)){Ga(o);try{Xo(o),Pl(s.bindingStartIndex),null!==a&&Zm(s,o,a,2,c);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&kn(o,M,null)}else{const M=s.preOrderHooks;null!==M&&so(o,M,0,null),Ii(o,0)}if(function v1(s){for(let o=Jy(s);null!==o;o=Xy(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],p=h[3];0==(512&h[2])&&On(p,1),h[2]|=512}}}(o),function y1(s){for(let o=Jy(s);null!==o;o=Xy(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];to(c)&&Dp(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&xv(s,o),v){const M=s.contentCheckHooks;null!==M&&kn(o,M)}else{const M=s.contentHooks;null!==M&&so(o,M,1),Ii(o,1)}!function Mv(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)ce(~h);else{const p=h,v=a[++c],D=a[++c];qd(v,p),D(2,o[p])}}}finally{ce(-1)}}(s,o);const D=s.components;null!==D&&function qm(s,o){for(let a=0;a<o.length;a++)ss(s,o[a])}(o,D);const C=s.viewQuery;if(null!==C&&Xm(2,C,c),v){const M=s.viewCheckHooks;null!==M&&kn(o,M)}else{const M=s.viewHooks;null!==M&&so(o,M,2),Ii(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,On(o[3],-1))}finally{R()}}}function Zm(s,o,a,c,h){const p=H(),v=2&c;try{ce(-1),v&&o.length>22&&wh(s,o,22,!1),vr(v?2:0,h),a(c,h)}finally{ce(p),vr(v?3:1,h)}}function Dw(s,o,a){if(Rs(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const v=s.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function Rv(s,o,a){!Oi()||(function jv(s,o,a,c){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||ra(a,o),is(c,o);const v=a.initialInputs;for(let D=h;D<p;D++){const C=s.data[D],M=jr(C);M&&qt(o,a,C);const F=Mo(o,s,D,a);is(F,o),null!==v&&wp(0,D-h,F,C,0,v),M&&(rn(a.index,o)[8]=F)}}(s,o,a,Qr(a,o)),128==(128&a.flags)&&function Ym(s,o,a){const c=a.directiveStart,h=a.directiveEnd,p=a.index,v=function Fl(){return Pt.lFrame.currentDirectiveIndex}();try{ce(p);for(let D=c;D<h;D++){const C=s.data[D],M=o[D];ja(D),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Cw(C,M)}}finally{ce(-1),ja(v)}}(s,o,a))}function Ov(s,o,a=Qr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],D=-1===v?a(o,s):s[v];s[h++]=D}}}function kv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Pv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Pv(s,o,a,c,h,p,v,D,C,M){const F=22+c,U=F+h,Y=function MN(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:zt);return a}(F,U),se="function"==typeof M?M():M;return Y[1]={type:s,blueprint:Y,template:a,queries:null,viewQuery:D,declTNode:o,data:Y.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:se,incompleteFirstPass:!1}}function Lv(s,o,a,c){const h=Mw(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&Ep(s).push(c,h.length-1))}function ww(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function Vv(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,v=[];let D=null,C=null;for(let M=o.directiveStart;M<c;M++){const F=h[M],U=F.inputs,Y=null===p||JD(o)?null:_1(U,p);v.push(Y),D=ww(U,M,D),C=ww(F.outputs,M,C)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=D,o.outputs=C}function po(s,o,a,c,h,p,v,D){const C=Qr(o,a);let F,M=o.inputs;!D&&null!=M&&(F=M[c])?(Nh(s,a,F,c,h),To(o)&&Iw(a,o.index)):3&o.type&&(c=function f1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,p.setProperty(C,c,h))}function Iw(s,o){const a=rn(o,s);16&a[2]||(a[2]|=32)}function Bv(s,o,a,c){let h=!1;if(Oi()){const p=function ON(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];XD(a,v.selectors,!1)&&(h||(h=[]),No(ra(a,o),s,v.type),jr(v)?(Tw(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===c?null:{"":-1};if(null!==p){h=!0,At(a,s.data.length,p.length);for(let F=0;F<p.length;F++){const U=p[F];U.providersResolver&&U.providersResolver(U)}let D=!1,C=!1,M=bp(s,o,p.length,null);for(let F=0;F<p.length;F++){const U=p[F];a.mergedAttrs=Vl(a.mergedAttrs,U.hostAttrs),Qm(s,a,o,M,U),sc(M,U,v),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const Y=U.type.prototype;!D&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),D=!0),!C&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),M++}Vv(s,a)}v&&function m1(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Ie(-301,!1);c.push(o[h],p)}}}(a,c,v)}return a.mergedAttrs=Vl(a.mergedAttrs,a.attrs),h}function g1(s,o,a,c,h,p){const v=p.hostBindings;if(v){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const C=~o.index;(function Uv(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(D)!=C&&D.push(C),D.push(c,h,v)}}function Cw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Tw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function sc(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;jr(o)&&(a[""]=s)}}function At(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Qm(s,o,a,c,h){s.data[c]=h;const p=h.factory||(h.factory=ci(h.type)),v=new ys(p,jr(h),rc);s.blueprint[c]=v,a[c]=v,g1(s,o,0,c,bp(s,a,h.hostVars,zt),h)}function qt(s,o,a){const c=Qr(o,s),h=kv(a),p=s[10],v=Jm(s,yp(s,h,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=v}function go(s,o,a,c,h,p){const v=Qr(s,o);Th(o[11],v,p,s.value,a,c,h)}function Th(s,o,a,c,h,p,v){if(null==p)s.removeAttribute(o,h,a);else{const D=null==v?Ee(p):v(p,c||"",h);s.setAttribute(o,h,D,a)}}function wp(s,o,a,c,h,p){const v=p[o];if(null!==v){const D=c.setInput;for(let C=0;C<v.length;){const M=v[C++],F=v[C++],U=v[C++];null!==D?c.setInput(a,U,M,F):a[F]=U}}}function _1(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function Nw(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function ss(s,o){const a=rn(o,s);if(to(a)){const c=a[1];48&a[2]?Dp(c,a,c.template,a[8]):a[5]>0&&Sh(a)}}function Sh(s){for(let c=Jy(s);null!==c;c=Xy(c))for(let h=10;h<c.length;h++){const p=c[h];if(to(p))if(512&p[2]){const v=p[1];Dp(v,p,v.template,p[8])}else p[5]>0&&Sh(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=rn(a[c],s);to(h)&&h[5]>0&&Sh(h)}}function Ui(s,o){const a=rn(o,s),c=a[1];(function qc(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),Km(c,a,a[8])}function Jm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function $v(s){for(;s;){s[2]|=32;const o=yh(s);if(Na(s)&&!o)return s;s=o}return null}function Ip(s,o,a,c=!0){const h=o[10];h.begin&&h.begin();try{Dp(s,o,s.template,a)}catch(v){throw c&&e_(o,v),v}finally{h.end&&h.end()}}function Xm(s,o,a){So(0),o(s,a)}function Mw(s){return s[7]||(s[7]=[])}function Ep(s){return s.cleanup||(s.cleanup=[])}function Hv(s,o,a){return(null===s||jr(s))&&(a=function ka(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}function e_(s,o){const a=s[9],c=a?a.get($c,null):null;c&&c.handleError(o)}function Nh(s,o,a,c,h){for(let p=0;p<a.length;){const v=a[p++],D=a[p++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,c,D):C[D]=h}}function Ti(s,o,a){const c=wi(o,s);BD(s[11],c,a)}function Ah(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?p=D:1==p?h=de(h,D):2==p&&(c=de(c,D+": "+o[++v]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}function t_(s,o,a,c,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(jn(p)),Ur(p))for(let D=10;D<p.length;D++){const C=p[D],M=C[1].firstChild;null!==M&&t_(C[1],C,M,c)}const v=a.type;if(8&v)t_(s,o,a.child,c);else if(32&v){const D=ma(a,o);let C;for(;C=D();)c.push(C)}else if(16&v){const D=qD(o,a);if(Array.isArray(D))c.push(...D);else{const C=yh(o[16]);t_(C[1],C,D,c,!0)}}a=h?a.projectionNext:a.next}return c}class Mh{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return t_(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ur(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Rm(o,c),Pi(a,c))}this._attachedToViewContainer=!1}iv(this._lView[1],this._lView)}onDestroy(o){Lv(this._lView[1],this._lView,null,o)}markForCheck(){$v(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ip(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jD(s,o){up(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=o}}class xh extends Mh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Ip(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class n_ extends Wt{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=We(o);return new _d(a,this.ngModule)}}function r_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class b1{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const h=this.injector.get(o,wt,c);return h!==wt||a===wt?h:this.parentInjector.get(o,a,c)}}class _d extends ec{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function hp(s){return s.map(bh).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return r_(this.componentDef.inputs)}get outputs(){return r_(this.componentDef.outputs)}create(o,a,c,h){let p=(h=h||this.ngModule)instanceof Bi?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new b1(o,p):o,D=v.get(x,null);if(null===D)throw new Ie(407,!1);const C=v.get(_e,null),M=D.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",U=c?function xN(s,o,a){return s.selectRootElement(o,a===vt.ShadowDom)}(M,c,this.componentDef.encapsulation):tv(D.createRenderer(null,this.componentDef),F,function xw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(F)),Y=this.componentDef.onPush?288:272,se=Pv(0,null,null,1,0,null,null,null,null,null),Me=yp(null,se,null,Y,null,null,D,M,C,v,null);let Ge,Je;Ga(Me);try{const _t=function D1(s,o,a,c,h,p){const v=a[1];a[22]=s;const C=ya(v,22,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(Ah(C,M,!0),null!==s&&(Fu(h,s,M),null!==C.classes&&ZD(h,s,C.classes),null!==C.styles&&VC(h,s,C.styles)));const F=c.createRenderer(s,o),U=yp(a,kv(o),null,o.onPush?32:16,a[22],C,c,F,p||null,null,null);return v.firstCreatePass&&(No(ra(C,a),v,o.type),Tw(v,C),At(C,a.length,1)),Jm(a,U),a[22]=U}(U,this.componentDef,Me,D,M);if(U)if(c)Fu(M,U,["ng-version",Ze.full]);else{const{attrs:Rt,classes:Ue}=function HC(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&a.push(p);else{if(!jo(h))break;h=p}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Rt&&Fu(M,U,Rt),Ue&&Ue.length>0&&ZD(M,U,Ue.join(" "))}if(Je=eo(se,22),void 0!==a){const Rt=Je.projection=[];for(let Ue=0;Ue<this.ngContentSelectors.length;Ue++){const Lt=a[Ue];Rt.push(null!=Lt?Array.from(Lt):null)}}Ge=function w1(s,o,a,c){const h=a[1],p=function Ew(s,o,a){const c=$n();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Qm(s,c,o,bp(s,o,1,null),a),Vv(s,c));const h=Mo(o,s,c.directiveStart,c);is(h,o);const p=Qr(c,o);return p&&is(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==c)for(const D of c)D(p,o);if(o.contentQueries){const D=$n();o.contentQueries(1,p,D.directiveStart)}const v=$n();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ce(v.index),g1(a[1],v,0,v.directiveStart,v.directiveEnd,o),Cw(o,p)),p}(_t,this.componentDef,Me,[o_]),Km(se,Me,null)}finally{R()}return new s_(this.componentType,Ge,y(Je,Me),Me,Je)}}class s_ extends Xl{constructor(o,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new xh(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const p=this._rootLView;Nh(p[1],p,h,o,a),Iw(p,this._tNode.index)}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function o_(){const s=$n();vn(Oe()[1],s)}function Gv(s){return Object.getPrototypeOf(s.prototype).constructor}function Wv(s){let o=Gv(s.type),a=!0;const c=[s];for(;o;){let h;if(jr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ie(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const v=s;v.inputs=zv(s.inputs),v.declaredInputs=zv(s.declaredInputs),v.outputs=zv(s.outputs);const D=h.hostBindings;D&&E1(s,D);const C=h.viewQuery,M=h.contentQueries;if(C&&Tp(s,C),M&&I1(s,M),we(s.inputs,h.inputs),we(s.declaredInputs,h.declaredInputs),we(s.outputs,h.outputs),jr(h)&&h.data.animation){const F=s.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const D=p[v];D&&D.ngInherit&&D(s),D===Wv&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Cp(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Vl(h.hostAttrs,a=Vl(a,h.hostAttrs))}}(c)}function zv(s){return s===oi?{}:s===Vt?[]:s}function Tp(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function I1(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,p)=>{o(c,h,p),a(c,h,p)}:o}function E1(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}const a_=["providersResolver"],qv=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Kv(s){let a,o=Gv(s.type);a=jr(s)?o.\u0275cmp:o.\u0275dir;const c=s;for(const h of a_)c[h]=a[h];if(jr(a))for(const h of qv)c[h]=a[h]}let Sp=null;function Kc(){if(!Sp){const s=Cn.Symbol;if(s&&s.iterator)Sp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Sp=c)}}}return Sp}function yd(s){return!!Np(s)&&(Array.isArray(s)||!(s instanceof Map)&&Kc()in s)}function Np(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Jv(s,o){const a=yd(s),c=yd(o);return a&&c?function Yv(s,o,a){const c=s[Kc()](),h=o[Kc()]();for(;;){const p=c.next(),v=h.next();if(p.done&&v.done)return!0;if(p.done||v.done||!a(p.value,v.value))return!1}}(s,o,Jv):!(a||!s||"object"!=typeof s&&"function"!=typeof s||c||!o||"object"!=typeof o&&"function"!=typeof o)||Object.is(s,o)}function va(s,o,a){return s[o]=a}function Ap(s,o){return s[o]}function ji(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Zc(s,o,a,c){const h=ji(s,o,a);return ji(s,o+1,c)||h}function Rh(s,o,a,c,h){const p=Zc(s,o,a,c);return ji(s,o+2,h)||p}function mo(s,o,a,c,h,p){const v=Zc(s,o,a,c);return Zc(s,o+2,h,p)||v}function Xv(s,o,a,c){const h=Oe();return ji(h,Us(),o)&&(Jt(),go(be(),h,s,o,a,c)),Xv}function Yc(s,o){let a=!1,c=Xi();for(let p=1;p<o.length;p+=2)a=ji(s,c++,o[p])||a;if(Pl(c),!a)return zt;let h=o[0];for(let p=1;p<o.length;p+=2)h+=Ee(o[p])+o[p+1];return h}function Qc(s,o,a,c){return ji(s,Us(),a)?o+Ee(a)+c:zt}function Jc(s,o,a,c,h,p){const D=Zc(s,Xi(),a,h);return ki(2),D?o+Ee(a)+c+Ee(h)+p:zt}function Er(s,o,a,c,h,p,v,D){const M=Rh(s,Xi(),a,h,v);return ki(3),M?o+Ee(a)+c+Ee(h)+p+Ee(v)+D:zt}function Pr(s,o,a,c,h,p,v,D,C,M){const U=mo(s,Xi(),a,h,v,C);return ki(4),U?o+Ee(a)+c+Ee(h)+p+Ee(v)+D+Ee(C)+M:zt}function oc(s,o,a,c,h,p,v,D,C,M,F,U){const Y=Xi();let se=mo(s,Y,a,h,v,C);return se=ji(s,Y+4,F)||se,ki(5),se?o+Ee(a)+c+Ee(h)+p+Ee(v)+D+Ee(C)+M+Ee(F)+U:zt}function Xc(s,o,a,c,h,p,v,D,C,M,F,U,Y,se){const Me=Xi();let Ge=mo(s,Me,a,h,v,C);return Ge=Zc(s,Me+4,F,Y)||Ge,ki(6),Ge?o+Ee(a)+c+Ee(h)+p+Ee(v)+D+Ee(C)+M+Ee(F)+U+Ee(Y)+se:zt}function Oh(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge){const Je=Xi();let _t=mo(s,Je,a,h,v,C);return _t=Rh(s,Je+4,F,Y,Me)||_t,ki(7),_t?o+Ee(a)+c+Ee(h)+p+Ee(v)+D+Ee(C)+M+Ee(F)+U+Ee(Y)+se+Ee(Me)+Ge:zt}function kh(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je,_t){const Rt=Xi();let Ue=mo(s,Rt,a,h,v,C);return Ue=mo(s,Rt+4,F,Y,Me,Je)||Ue,ki(8),Ue?o+Ee(a)+c+Ee(h)+p+Ee(v)+D+Ee(C)+M+Ee(F)+U+Ee(Y)+se+Ee(Me)+Ge+Ee(Je)+_t:zt}function l_(s,o,a,c,h,p){const v=Oe(),D=Qc(v,o,a,c);return D!==zt&&go(be(),v,s,D,h,p),l_}function e0(s,o,a,c,h,p,v,D){const C=Oe(),M=Jc(C,o,a,c,h,p);return M!==zt&&go(be(),C,s,M,v,D),e0}function t0(s,o,a,c,h,p,v,D,C,M){const F=Oe(),U=Er(F,o,a,c,h,p,v,D);return U!==zt&&go(be(),F,s,U,C,M),t0}function c_(s,o,a,c,h,p,v,D,C,M,F,U){const Y=Oe(),se=Pr(Y,o,a,c,h,p,v,D,C,M);return se!==zt&&go(be(),Y,s,se,F,U),c_}function Mp(s,o,a,c,h,p,v,D,C,M,F,U,Y,se){const Me=Oe(),Ge=oc(Me,o,a,c,h,p,v,D,C,M,F,U);return Ge!==zt&&go(be(),Me,s,Ge,Y,se),Mp}function n0(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge){const Je=Oe(),_t=Xc(Je,o,a,c,h,p,v,D,C,M,F,U,Y,se);return _t!==zt&&go(be(),Je,s,_t,Me,Ge),n0}function xp(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je,_t){const Rt=Oe(),Ue=Oh(Rt,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge);return Ue!==zt&&go(be(),Rt,s,Ue,Je,_t),xp}function u_(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je,_t,Rt,Ue){const Lt=Oe(),Sn=kh(Lt,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je,_t);return Sn!==zt&&go(be(),Lt,s,Sn,Rt,Ue),u_}function r0(s,o,a,c){const h=Oe(),p=Yc(h,o);return p!==zt&&go(be(),h,s,p,a,c),r0}function Rp(s){const o=Tm(s);Ip(o[1],o,s)}function d_(s,o,a,c,h,p,v,D){const C=Oe(),M=Jt(),F=s+22,U=M.firstCreatePass?function s0(s,o,a,c,h,p,v,D,C){const M=o.consts,F=ya(o,s,4,v||null,Ri(M,D));Bv(o,a,F,Ri(M,C)),vn(o,F);const U=F.tViews=Pv(2,F,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,F),U.queries=o.queries.embeddedTView(F)),F}(F,M,C,o,a,c,h,p,v):M.data[F];Xr(U,!1);const Y=C[11].createComment("");op(M,C,Y,U),is(Y,C),Jm(C,C[F]=Nw(Y,C,Y,U)),Al(U)&&Rv(M,C,U),null!=v&&Ov(C,U,D)}function o0(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}function kw(s){return Jr(function Ua(){return Pt.lFrame.contextLView}(),22+s)}function vd(s,o,a){const c=Oe();return ji(c,Us(),o)&&po(Jt(),be(),c,s,o,c[11],a,!1),vd}function h_(s,o,a,c,h){const v=h?"class":"style";Nh(s,a,o.inputs[v],v,c)}function Op(s,o,a,c){const h=Oe(),p=Jt(),v=22+s,D=h[11],C=h[v]=tv(D,o,function sn(){return Pt.lFrame.currentNamespace}()),M=p.firstCreatePass?function Pw(s,o,a,c,h,p,v){const D=o.consts,M=ya(o,s,2,h,Ri(D,p));return Bv(o,a,M,Ri(D,v)),null!==M.attrs&&Ah(M,M.attrs,!1),null!==M.mergedAttrs&&Ah(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,p,h,0,o,a,c):p.data[v];Xr(M,!0);const F=M.mergedAttrs;null!==F&&Fu(D,C,F);const U=M.classes;null!==U&&ZD(D,C,U);const Y=M.styles;return null!==Y&&VC(D,C,Y),64!=(64&M.flags)&&op(p,h,C,M),0===function gs(){return Pt.lFrame.elementDepthCount}()&&is(C,h),function Pa(){Pt.lFrame.elementDepthCount++}(),Al(M)&&(Rv(p,h,M),Dw(p,M,h)),null!==c&&Ov(h,M),Op}function bd(){let s=$n();io()?Bs():(s=s.parent,Xr(s,!1));const o=s;!function no(){Pt.lFrame.elementDepthCount--}();const a=Jt();return a.firstCreatePass&&(vn(a,s),Rs(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Kg(s){return 0!=(16&s.flags)}(o)&&h_(a,o,Oe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Zg(s){return 0!=(32&s.flags)}(o)&&h_(a,o,Oe(),o.stylesWithoutHost,!1),bd}function a0(s,o,a,c){return Op(s,o,a,c),bd(),a0}function ac(s,o,a){const c=Oe(),h=Jt(),p=s+22,v=h.firstCreatePass?function C1(s,o,a,c,h){const p=o.consts,v=Ri(p,c),D=ya(o,s,8,"ng-container",v);return null!==v&&Ah(D,v,!0),Bv(o,a,D,Ri(p,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(p,h,c,o,a):h.data[p];Xr(v,!0);const D=c[p]=c[11].createComment("");return op(h,c,D,v),is(D,c),Al(v)&&(Rv(h,c,v),Dw(h,v,c)),null!=a&&Ov(c,v),ac}function f_(){let s=$n();const o=Jt();return io()?Bs():(s=s.parent,Xr(s,!1)),o.firstCreatePass&&(vn(o,s),Rs(s)&&o.queries.elementEnd(s)),f_}function l0(s,o,a){return ac(s,o,a),f_(),l0}function eu(){return Oe()}function p_(s){return!!s&&"function"==typeof s.then}function kp(s){return!!s&&"function"==typeof s.subscribe}const c0=kp;function Dd(s,o,a,c){const h=Oe(),p=Jt(),v=$n();return u0(p,h,h[11],v,s,o,0,c),Dd}function g_(s,o){const a=$n(),c=Oe(),h=Jt();return u0(h,c,Hv(js(h.data),a,c),a,s,o),g_}function u0(s,o,a,c,h,p,v,D){const C=Al(c),F=s.firstCreatePass&&Ep(s),U=o[8],Y=Mw(o);let se=!0;if(3&c.type||D){const Je=Qr(c,o),_t=D?D(Je):Je,Rt=Y.length,Ue=D?Sn=>D(jn(Sn[c.index])):c.index;let Lt=null;if(!D&&C&&(Lt=function Ts(s,o,a,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===a&&h[p+1]===c){const D=o[7],C=h[p+2];return D.length>C?D[C]:null}"string"==typeof v&&(p+=2)}return null}(s,o,h,c.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=p,Lt.__ngLastListenerFn__=p,se=!1;else{p=Pp(c,o,U,p,!1);const Sn=a.listen(_t,h,p);Y.push(p,Sn),F&&F.push(h,Ue,Rt,Rt+1)}}else p=Pp(c,o,U,p,!1);const Me=c.outputs;let Ge;if(se&&null!==Me&&(Ge=Me[h])){const Je=Ge.length;if(Je)for(let _t=0;_t<Je;_t+=2){const fr=o[Ge[_t]][Ge[_t+1]].subscribe(p),Iu=Y.length;Y.push(p,fr),F&&F.push(h,c.index,Iu,-(Iu+1))}}}function Ph(s,o,a,c){try{return vr(6,o,a),!1!==a(c)}catch(h){return e_(s,h),!1}finally{vr(7,o,a)}}function Pp(s,o,a,c,h){return function p(v){if(v===Function)return c;$v(2&s.flags?rn(s.index,o):o);let C=Ph(o,a,c,v),M=p.__ngNextListenerFn__;for(;M;)C=Ph(o,a,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function d0(s=1){return function T(s){return(Pt.lFrame.contextLView=function P(s,o){for(;s>0;)o=o[15],s--;return o}(s,Pt.lFrame.contextLView))[8]}(s)}function h0(s,o){let a=null;const c=function jC(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===c?XD(s,p,!0):$C(c,p))return h}else a=h}return a}function f0(s){const o=Oe()[16][6];if(!o.projection){const c=o.projection=co(s?s.length:1,null),h=c.slice();let p=o.child;for(;null!==p;){const v=s?h0(p,s):0;null!==v&&(h[v]?h[v].projectionNext=p:c[v]=p,h[v]=p),p=p.next}}}function p0(s,o=0,a){const c=Oe(),h=Jt(),p=ya(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),Bs(),64!=(64&p.flags)&&function LC(s,o,a){Lm(o[11],0,o,a,HD(s,a,o),WD(a.parent||o[6],a,o))}(h,c,p)}function wd(s,o,a){return Fh(s,"",o,"",a),wd}function Fh(s,o,a,c,h){const p=Oe(),v=Qc(p,o,a,c);return v!==zt&&po(Jt(),be(),p,s,v,p[11],h,!1),Fh}function Fp(s,o,a,c,h,p,v){const D=Oe(),C=Jc(D,o,a,c,h,p);return C!==zt&&po(Jt(),be(),D,s,C,D[11],v,!1),Fp}function Lp(s,o,a,c,h,p,v,D,C){const M=Oe(),F=Er(M,o,a,c,h,p,v,D);return F!==zt&&po(Jt(),be(),M,s,F,M[11],C,!1),Lp}function Lh(s,o,a,c,h,p,v,D,C,M,F){const U=Oe(),Y=Pr(U,o,a,c,h,p,v,D,C,M);return Y!==zt&&po(Jt(),be(),U,s,Y,U[11],F,!1),Lh}function Id(s,o,a,c,h,p,v,D,C,M,F,U,Y){const se=Oe(),Me=oc(se,o,a,c,h,p,v,D,C,M,F,U);return Me!==zt&&po(Jt(),be(),se,s,Me,se[11],Y,!1),Id}function m_(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me){const Ge=Oe(),Je=Xc(Ge,o,a,c,h,p,v,D,C,M,F,U,Y,se);return Je!==zt&&po(Jt(),be(),Ge,s,Je,Ge[11],Me,!1),m_}function g0(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je){const _t=Oe(),Rt=Oh(_t,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge);return Rt!==zt&&po(Jt(),be(),_t,s,Rt,_t[11],Je,!1),g0}function Vp(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je,_t,Rt){const Ue=Oe(),Lt=kh(Ue,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je,_t);return Lt!==zt&&po(Jt(),be(),Ue,s,Lt,Ue[11],Rt,!1),Vp}function Vh(s,o,a){const c=Oe(),h=Yc(c,o);return h!==zt&&po(Jt(),be(),c,s,h,c[11],a,!1),Vh}function m0(s,o,a,c,h){const p=s[a+1],v=null===o;let D=c?_a(p):pl(p),C=!1;for(;0!==D&&(!1===C||v);){const F=s[D+1];T1(s[D],o)&&(C=!0,s[D+1]=c?Hm(F):yv(F)),D=c?_a(F):pl(F)}C&&(s[a+1]=c?yv(p):Hm(p))}function T1(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Lo(s,o)>=0}const Cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _0(s){return s.substring(Cr.key,Cr.keyEnd)}function __(s){return s.substring(Cr.value,Cr.valueEnd)}function tu(s,o){const a=Cr.textEnd;return a===o?-1:(o=Cr.keyEnd=function jw(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Cr.key=o,a),Ed(s,o,a))}function Bw(s,o){const a=Cr.textEnd;let c=Cr.key=Ed(s,o,a);return a===c?-1:(c=Cr.keyEnd=function S1(s,o,a){let c;for(;o<a&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,a),c=nu(s,c,a),c=Cr.value=Ed(s,c,a),c=Cr.valueEnd=function lc(s,o,a){let c=-1,h=-1,p=-1,v=o,D=v;for(;v<a;){const C=s.charCodeAt(v++);if(59===C)return D;34===C||39===C?D=v=Up(s,C,v,a):o===v-4&&85===p&&82===h&&76===c&&40===C?D=v=Up(s,41,v,a):C>32&&(D=v),p=h,h=c,c=-33&C}return D}(s,c,a),nu(s,c,a))}function Uw(s){Cr.key=0,Cr.keyEnd=0,Cr.value=0,Cr.valueEnd=0,Cr.textEnd=s.length}function Ed(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function nu(s,o,a,c){return(o=Ed(s,o,a))<a&&o++,o}function Up(s,o,a,c){let h=-1,p=a;for(;p<c;){const v=s.charCodeAt(p++);if(v==o&&92!==h)return p;h=92==v&&92===h?0:v}throw new Error}function y_(s,o,a){return $o(s,o,a,!1),y_}function nr(s,o){return $o(s,o,null,!0),nr}function zs(s){ba(Ww,jp,s,!1)}function jp(s,o){for(let a=function y0(s){return Uw(s),Bw(s,Ed(s,0,Cr.textEnd))}(o);a>=0;a=Bw(o,a))Ww(s,_0(o),__(o))}function Bh(s){ba(Fi,gl,s,!0)}function gl(s,o){for(let a=function Bp(s){return Uw(s),tu(s,Ed(s,0,Cr.textEnd))}(o);a>=0;a=tu(o,a))Fi(s,_0(o),!0)}function $o(s,o,a,c){const h=Oe(),p=Jt(),v=ki(2);p.firstUpdatePass&&Hw(p,s,v,c),o!==zt&&ji(h,v,o)&&b0(p,p.data[H()],h,h[11],s,h[v+1]=function qw(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=me(fo(s)))),s}(o,a),c,v)}function ba(s,o,a,c){const h=Jt(),p=ki(2);h.firstUpdatePass&&Hw(h,null,p,c);const v=Oe();if(a!==zt&&ji(v,p,a)){const D=h.data[H()];if(b_(D,c)&&!$w(h,p)){let C=c?D.classesWithoutHost:D.stylesWithoutHost;null!==C&&(a=de(C,a||"")),h_(h,D,v,a,c)}else!function A1(s,o,a,c,h,p,v,D){h===zt&&(h=Vt);let C=0,M=0,F=0<h.length?h[0]:null,U=0<p.length?p[0]:null;for(;null!==F||null!==U;){const Y=C<h.length?h[C+1]:void 0,se=M<p.length?p[M+1]:void 0;let Ge,Me=null;F===U?(C+=2,M+=2,Y!==se&&(Me=U,Ge=se)):null===U||null!==F&&F<U?(C+=2,Me=F):(M+=2,Me=U,Ge=se),null!==Me&&b0(s,o,a,c,Me,Ge,v,D),F=C<h.length?h[C]:null,U=M<p.length?p[M]:null}}(h,D,v,v[11],v[p+1],v[p+1]=function jh(s,o,a){if(null==a||""===a)return Vt;const c=[],h=fo(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,p)}}function $w(s,o){return o>=s.expandoStartIndex}function Hw(s,o,a,c){const h=s.data;if(null===h[a+1]){const p=h[H()],v=$w(s,a);b_(p,c)&&null===o&&!v&&(o=!1),o=function N1(s,o,a,c){const h=js(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=Uh(a=v_(null,s,o,a,c),o.attrs,c),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=v_(h,s,o,a,c),null===p){let C=function $p(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==pl(c))return s[_a(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=v_(null,s,o,C[1],c),C=Uh(C,o.attrs,c),function ru(s,o,a,c){s[_a(a?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else p=function Gw(s,o,a){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=Uh(c,s[p].hostAttrs,a);return Uh(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,c),function Lw(s,o,a,c,h,p){let v=p?o.classBindings:o.styleBindings,D=_a(v),C=pl(v);s[c]=a;let F,M=!1;if(Array.isArray(a)){const U=a;F=U[1],(null===F||Lo(U,F)>0)&&(M=!0)}else F=a;if(h)if(0!==C){const Y=_a(s[D+1]);s[c+1]=$m(Y,D),0!==Y&&(s[Y+1]=vv(s[Y+1],c)),s[D+1]=function i1(s,o){return 131071&s|o<<17}(s[D+1],c)}else s[c+1]=$m(D,0),0!==D&&(s[D+1]=vv(s[D+1],c)),D=c;else s[c+1]=$m(C,0),0===D?D=c:s[C+1]=vv(s[C+1],c),C=c;M&&(s[c+1]=yv(s[c+1])),m0(s,F,c,!0),m0(s,F,c,!1),function Vw(s,o,a,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Lo(p,o)>=0&&(a[c+1]=Hm(a[c+1]))}(o,F,s,c,p),v=$m(D,C),p?o.classBindings=v:o.styleBindings=v}(h,p,o,a,v,c)}}function v_(s,o,a,c,h){let p=null;const v=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<v&&(p=o[D],c=Uh(c,p.hostAttrs,h),p!==s);)D++;return null!==s&&(a.directiveStylingLast=D),c}function Uh(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Fi(s,v,!!a||o[++p]))}return void 0===s?null:s}function Ww(s,o,a){Fi(s,o,fo(a))}function b0(s,o,a,c,h,p,v,D){if(!(3&o.type))return;const C=s.data,M=C[D+1];Hp(function bv(s){return 1==(1&s)}(M)?zw(C,o,a,h,pl(M),v):void 0)||(Hp(p)||function hw(s){return 2==(2&s)}(M)&&(p=zw(C,null,a,h,D,v)),function _N(s,o,a,c,h){if(o)h?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:ga.DashCase;null==h?s.removeStyle(a,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=ga.Important),s.setStyle(a,c,h,p))}}(c,v,wi(H(),a),h,p))}function zw(s,o,a,c,h,p){const v=null===o;let D;for(;h>0;){const C=s[h],M=Array.isArray(C),F=M?C[1]:C,U=null===F;let Y=a[h+1];Y===zt&&(Y=U?Vt:void 0);let se=U?oa(Y,c):F===c?Y:void 0;if(M&&!Hp(se)&&(se=oa(C,c)),Hp(se)&&(D=se,v))return D;const Me=s[h+1];h=v?_a(Me):pl(Me)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(D=oa(C,c))}return D}function Hp(s){return void 0!==s}function b_(s,o){return 0!=(s.flags&(o?16:32))}function D_(s,o=""){const a=Oe(),c=Jt(),h=s+22,p=c.firstCreatePass?ya(c,h,1,o,null):c.data[h],v=a[h]=ev(a[11],o);op(c,a,v,p),Xr(p,!1)}function w_(s){return Gp("",s,""),w_}function Gp(s,o,a){const c=Oe(),h=Qc(c,s,o,a);return h!==zt&&Ti(c,H(),h),Gp}function Wp(s,o,a,c,h){const p=Oe(),v=Jc(p,s,o,a,c,h);return v!==zt&&Ti(p,H(),v),Wp}function D0(s,o,a,c,h,p,v){const D=Oe(),C=Er(D,s,o,a,c,h,p,v);return C!==zt&&Ti(D,H(),C),D0}function w0(s,o,a,c,h,p,v,D,C){const M=Oe(),F=Pr(M,s,o,a,c,h,p,v,D,C);return F!==zt&&Ti(M,H(),F),w0}function I0(s,o,a,c,h,p,v,D,C,M,F){const U=Oe(),Y=oc(U,s,o,a,c,h,p,v,D,C,M,F);return Y!==zt&&Ti(U,H(),Y),I0}function $h(s,o,a,c,h,p,v,D,C,M,F,U,Y){const se=Oe(),Me=Xc(se,s,o,a,c,h,p,v,D,C,M,F,U,Y);return Me!==zt&&Ti(se,H(),Me),$h}function Cd(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me){const Ge=Oe(),Je=Oh(Ge,s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me);return Je!==zt&&Ti(Ge,H(),Je),Cd}function Hh(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je){const _t=Oe(),Rt=kh(_t,s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je);return Rt!==zt&&Ti(_t,H(),Rt),Hh}function zp(s){const o=Oe(),a=Yc(o,s);return a!==zt&&Ti(o,H(),a),zp}function E0(s,o,a){ba(Fi,gl,Qc(Oe(),s,o,a),!0)}function Gh(s,o,a,c,h){ba(Fi,gl,Jc(Oe(),s,o,a,c,h),!0)}function Wh(s,o,a,c,h,p,v){ba(Fi,gl,Er(Oe(),s,o,a,c,h,p,v),!0)}function Kw(s,o,a,c,h,p,v,D,C){ba(Fi,gl,Pr(Oe(),s,o,a,c,h,p,v,D,C),!0)}function zr(s,o,a,c,h,p,v,D,C,M,F){ba(Fi,gl,oc(Oe(),s,o,a,c,h,p,v,D,C,M,F),!0)}function C0(s,o,a,c,h,p,v,D,C,M,F,U,Y){ba(Fi,gl,Xc(Oe(),s,o,a,c,h,p,v,D,C,M,F,U,Y),!0)}function Zw(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me){ba(Fi,gl,Oh(Oe(),s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me),!0)}function Yw(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je){ba(Fi,gl,kh(Oe(),s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je),!0)}function Qw(s){ba(Fi,gl,Yc(Oe(),s),!0)}function T0(s,o,a){zs(Qc(Oe(),s,o,a))}function S0(s,o,a,c,h){zs(Jc(Oe(),s,o,a,c,h))}function N0(s,o,a,c,h,p,v){zs(Er(Oe(),s,o,a,c,h,p,v))}function qp(s,o,a,c,h,p,v,D,C){zs(Pr(Oe(),s,o,a,c,h,p,v,D,C))}function A0(s,o,a,c,h,p,v,D,C,M,F){zs(oc(Oe(),s,o,a,c,h,p,v,D,C,M,F))}function ml(s,o,a,c,h,p,v,D,C,M,F,U,Y){zs(Xc(Oe(),s,o,a,c,h,p,v,D,C,M,F,U,Y))}function M0(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me){zs(Oh(Oe(),s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me))}function x0(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je){zs(kh(Oe(),s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je))}function I_(s){zs(Yc(Oe(),s))}function Td(s,o,a,c,h){return $o(s,Qc(Oe(),o,a,c),h,!1),Td}function E_(s,o,a,c,h,p,v){return $o(s,Jc(Oe(),o,a,c,h,p),v,!1),E_}function Kp(s,o,a,c,h,p,v,D,C){return $o(s,Er(Oe(),o,a,c,h,p,v,D),C,!1),Kp}function zh(s,o,a,c,h,p,v,D,C,M,F){return $o(s,Pr(Oe(),o,a,c,h,p,v,D,C,M),F,!1),zh}function C_(s,o,a,c,h,p,v,D,C,M,F,U,Y){return $o(s,oc(Oe(),o,a,c,h,p,v,D,C,M,F,U),Y,!1),C_}function qh(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me){return $o(s,Xc(Oe(),o,a,c,h,p,v,D,C,M,F,U,Y,se),Me,!1),qh}function R0(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je){return $o(s,Oh(Oe(),o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge),Je,!1),R0}function T_(s,o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je,_t,Rt){return $o(s,kh(Oe(),o,a,c,h,p,v,D,C,M,F,U,Y,se,Me,Ge,Je,_t),Rt,!1),T_}function Sd(s,o,a){return $o(s,Yc(Oe(),o),a,!1),Sd}function S_(s,o,a){const c=Oe();return ji(c,Us(),o)&&po(Jt(),be(),c,s,o,c[11],a,!0),S_}function N_(s,o,a){const c=Oe();if(ji(c,Us(),o)){const p=Jt(),v=be();po(p,v,c,s,o,Hv(js(p.data),v,c),a,!0)}return N_}const cc=void 0;var Jw=["en",[["a","p"],["AM","PM"],cc],[["AM","PM"],cc,cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cc,"{1} 'at' {0}",cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function O0(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let uc={};function Xw(s,o,a){"string"!=typeof o&&(a=o,o=s[Ft.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),uc[o]=s,a&&(uc[o][Ft.ExtraData]=a)}function A_(s){const o=function M_(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=P0(o);if(a)return a;const c=o.split("-")[0];if(a=P0(c),a)return a;if("en"===c)return Jw;throw new Ie(701,!1)}function Nd(s){return A_(s)[Ft.CurrencyCode]||null}function k0(s){return A_(s)[Ft.PluralCase]}function P0(s){return s in uc||(uc[s]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[s]),uc[s]}function eI(){uc={}}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const _o=["zero","one","two","few","many"],iu="en-US",x_={marker:"element"},R_={marker:"ICU"};var hr=(()=>((hr=hr||{})[hr.SHIFT=2]="SHIFT",hr[hr.APPEND_EAGERLY=1]="APPEND_EAGERLY",hr[hr.COMMENT=2]="COMMENT",hr))();let nI=iu;function O_(s){(function Kt(s,o){null==s&&tt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(nI=s.toLowerCase().replace(/_/g,"-"))}function Zp(s,o,a){const c=o.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?zD(s,0,a):jn(a[h])}function rI(s,o,a,c,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let v=c,D=null;if(3&o.type||(D=v,v=h),null!==v&&0==(2&o.flags))for(let C=1;C<p.length;C++)Wc(s,v,a[p[C]],D,!1)}}function F0(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const c=s[a];fi(c)||Zh(c,o)&&null===su(c)&&L0(c,o.index)}}function fi(s){return!(64&s.type)}function Zh(s,o){return fi(o)||s.index>o.index}function su(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function L0(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(lv(Zp,rI),s.insertBeforeIndex=o)}function Yp(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Ad(s,o,a){const c=vp(s,a,64,null,null);return F0(o,c),c}function Yh(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function yt(s){return s>>>17}function Bt(s){return(131070&s)>>>1}let ye=0,je=0;function oI(s,o,a,c){const h=a[11];let v,p=null;for(let D=0;D<o.length;D++){const C=o[D];if("string"==typeof C){const M=o[++D];null===a[M]&&(a[M]=ev(h,C))}else if("number"==typeof C)switch(1&C){case 0:const M=yt(C);let F,U;if(null===p&&(p=M,v=km(h,c)),M===p?(F=c,U=v):(F=null,U=jn(a[M])),null!==U){const Ge=Bt(C);Wc(h,U,a[Ge],F,!1);const _t=Yp(s,Ge);if(null!==_t&&"object"==typeof _t){const Rt=Yh(_t,a);null!==Rt&&oI(s,_t.create[Rt],a,a[_t.anchorIdx])}}break;case 1:const se=o[++D],Me=o[++D];Th(h,wi(C>>>1,a),null,null,se,Me,null)}else switch(C){case R_:const M=o[++D],F=o[++D];null===a[F]&&is(a[F]=PC(h,M),a);break;case x_:const U=o[++D],Y=o[++D];null===a[Y]&&is(a[Y]=tv(h,U,null),a)}}}function aI(s,o,a,c,h){for(let p=0;p<a.length;p++){const v=a[p],D=a[++p];if(v&h){let C="";for(let M=p+1;M<=p+D;M++){const F=a[M];if("string"==typeof F)C+=F;else if("number"==typeof F)if(F<0)C+=Ee(o[c-F]);else{const U=F>>>2;switch(3&F){case 1:const Y=a[++M],se=a[++M],Me=s.data[U];"string"==typeof Me?Th(o[11],o[U],null,Me,Y,C,se):po(s,Me,o,Y,C,o[11],se,!1);break;case 0:const Ge=o[U];null!==Ge&&BD(o[11],Ge,C);break;case 2:R1(s,Yp(s,U),o,C);break;case 3:lI(s,Yp(s,U),c,o)}}}}else{const C=a[p+1];if(C>0&&3==(3&C)){const F=Yp(s,C>>>2);o[F.currentCaseLViewIndex]<0&&lI(s,F,c,o)}}p+=D}}function lI(s,o,a,c){let h=c[o.currentCaseLViewIndex];if(null!==h){let p=ye;h<0&&(h=c[o.currentCaseLViewIndex]=~h,p=-1),aI(s,c,o.update[h],a,p)}}function R1(s,o,a,c){const h=function O1(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const c=function tI(s,o){const a=k0(o)(parseInt(s,10)),c=_o[a];return void 0!==c?c:"other"}(o,function M1(){return nI}());a=s.cases.indexOf(c),-1===a&&"other"!==c&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,c);if(Yh(o,a)!==h&&(V0(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=a[o.anchorIdx];v&&oI(s,o.create[h],a,v)}}function V0(s,o,a){let c=Yh(o,a);if(null!==c){const h=o.remove[c];for(let p=0;p<h.length;p++){const v=h[p];if(v>0){const D=wi(v,a);null!==D&&lp(a[11],D)}else V0(s,Yp(s,~v),a)}}}function PN(){const s=[];let a,c,o=-1;function p(D,C){o=0;const M=Yh(D,C);c=null!==M?D.remove[M]:Vt}function v(){if(o<c.length){const D=c[o++];return D>0?a[D]:(s.push(o,c),p(a[1].data[~D],a),v())}return 0===s.length?null:(c=s.pop(),o=s.pop(),v())}return function h(D,C){for(a=C;s.length;)s.pop();return p(D.value,C),v}}const Jn=/\ufffd(\d+):?\d*\ufffd/gi,jt=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Jp=/\ufffd(\d+)\ufffd/,bn=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Fr=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,et=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,k_=/\uE500/g;function cI(s,o,a,c,h,p,v){const D=bp(s,c,1,null);let C=D<<hr.SHIFT,M=Qi();o===M&&(M=null),null===M&&(C|=hr.APPEND_EAGERLY),v&&(C|=hr.COMMENT,function Qy(s){void 0===Mm&&(Mm=s())}(PN)),h.push(C,null===p?"":p);const F=vp(s,D,v?32:1,null===p?"":p,null);F0(a,F);const U=F.index;return Xr(F,!1),null!==M&&o!==M&&function qr(s,o){let a=s.insertBeforeIndex;null===a?(lv(Zp,rI),a=s.insertBeforeIndex=[null,o]):(function Ce(s,o,a){s!=o&&tt(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(M,U),F}function P_(s,o,a,c,h,p,v){const D=v.match(Jn),C=cI(s,o,a,p,c,D?null:v,!1);D&&dc(h,v,C.index,null,0,null)}function dc(s,o,a,c,h,p){const v=s.length,D=v+1;s.push(null,null);const C=v+2,M=o.split(Jn);let F=0;for(let U=0;U<M.length;U++){const Y=M[U];if(1&U){const se=h+parseInt(Y,10);s.push(-1-se),F|=j0(se)}else""!==Y&&s.push(Y)}return s.push(a<<2|(c?1:0)),c&&s.push(c,p),s[v]=F,s[D]=s.length-C,F}function uI(s){let o=0;for(let a=0;a<s.length;a++){const c=s[a];"number"==typeof c&&c<0&&o++}return o}function j0(s){return 1<<Math.min(s,31)}function F_(s){let o,p,a="",c=0,h=!1;for(;null!==(o=Fr.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(c=o.index,h=!1):(a+=s.substring(c,o.index+o[0].length),p=o[1],h=!0);return a+=s.slice(c),a}function $0(s,o,a,c,h,p){let v=0;const D={type:h.type,currentCaseLViewIndex:bp(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function ng(s,o,a){s.push(j0(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function He(s,o,a){const c=s.data[o];null===c?s.data[o]=a:c.value=a}(s,p,D);const C=h.values;for(let M=0;M<C.length;M++){const F=C[M],U=[];for(let Y=0;Y<F.length;Y++){const se=F[Y];if("string"!=typeof se){const Me=U.push(se)-1;F[Y]=`\x3c!--\ufffd${Me}\ufffd--\x3e`}}v=he(s,D,o,a,c,h.cases[M],F.join(""),U)|v}v&&function au(s,o,a){s.push(o,1,a<<2|3)}(a,v,p)}function ou(s){const o=[],a=[];let c=1,h=0;const p=eg(s=s.replace(bn,function(v,D,C){return c="select"===C?0:1,h=parseInt(D.slice(1),10),""}));for(let v=0;v<p.length;){let D=p[v++].trim();1===c&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const C=eg(p[v++]);o.length>a.length&&a.push(C)}return{type:c,mainBinding:h,cases:o,values:a}}function eg(s){if(!s)return[];let o=0;const a=[],c=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const C=s.substring(o,D);bn.test(C)?c.push(ou(C)):c.push(C),o=D+1}}else{if(0==a.length){const C=s.substring(o,D);c.push(C),o=D+1}a.push("{")}}const v=s.substring(o);return c.push(v),c}function he(s,o,a,c,h,p,v,D){const C=[],M=[],F=[];o.cases.push(p),o.create.push(C),o.remove.push(M),o.update.push(F);const Y=ih(ky()).getInertBodyElement(v),se=rd(Y)||Y;return se?tg(s,o,a,c,C,M,F,se,h,D,0):0}function tg(s,o,a,c,h,p,v,D,C,M,F){let U=0,Y=D.firstChild;for(;Y;){const se=bp(s,a,1,null);switch(Y.nodeType){case Node.ELEMENT_NODE:const Me=Y,Ge=Me.tagName.toLowerCase();if(sh.hasOwnProperty(Ge)){H0(h,x_,Ge,C,se),s.data[se]=Ge;const Ue=Me.attributes;for(let Lt=0;Lt<Ue.length;Lt++){const Sn=Ue.item(Lt),fr=Sn.name.toLowerCase();Sn.value.match(Jn)?cm.hasOwnProperty(fr)&&dc(v,Sn.value,se,Sn.name,0,td[fr]?Xu:null):xd(h,se,Sn)}U=tg(s,o,a,c,h,p,v,Y,se,M,F+1)|U,Ho(p,se,F)}break;case Node.TEXT_NODE:const Je=Y.textContent||"",_t=Je.match(Jn);H0(h,null,_t?"":Je,C,se),Ho(p,se,F),_t&&(U=dc(v,Je,se,null,0,null)|U);break;case Node.COMMENT_NODE:const Rt=Jp.exec(Y.textContent||"");if(Rt){const Lt=M[parseInt(Rt[1],10)];H0(h,R_,"",C,se),$0(s,a,c,C,Lt,se),F1(p,se,F)}}Y=Y.nextSibling}return U}function Ho(s,o,a){0===a&&s.push(o)}function F1(s,o,a){0===a&&(s.push(~o),s.push(o))}function H0(s,o,a,c,h){null!==o&&s.push(o),s.push(a,h,function rt(s,o,a){return s|o<<17|a<<1}(0,c,h))}function xd(s,o,a){s.push(o<<1|1,a.name,a.value)}const W0=/\[(\ufffd.+?\ufffd?)\]/,L1=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,V1=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,qs=/{([A-Z0-9_]+)}/g,hI=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Rd=/\/\*/,fI=/\d+\:(\d+)/;function Qh(s,o,a=-1){const c=Jt(),h=Oe(),p=22+s,v=Ri(c.consts,o),D=Qi();c.firstCreatePass&&function Md(s,o,a,c,h,p){const v=Qi(),D=[],C=[],M=[[]];h=function dI(s,o){if(function yo(s){return-1===s}(o))return F_(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return F_(s.substring(a,c))}}(h,p);const F=function U0(s){return s.replace(k_," ")}(h).split(et);for(let U=0;U<F.length;U++){let Y=F[U];if(0==(1&U)){const se=eg(Y);for(let Me=0;Me<se.length;Me++){let Ge=se[Me];if(0==(1&Me)){const Je=Ge;""!==Je&&P_(s,v,M[0],D,C,a,Je)}else{const Je=Ge;if("object"!=typeof Je)throw new Error(`Unable to parse ICU expression in "${h}" message.`);$0(s,a,C,o,Je,cI(s,v,M[0],a,D,"",!0).index)}}}else{const se=47===Y.charCodeAt(0),Ge=(Y.charCodeAt(se?1:0),22+Number.parseInt(Y.substring(se?2:1)));if(se)M.shift(),Xr(Qi(),!1);else{const Je=Ad(s,M[0],Ge);M.unshift([]),Xr(Je,!0)}}}s.data[c]={create:D,update:C}}(c,null===D?0:D.index,h,p,v,a);const C=c.data[p],F=ip(c,D===h[6]?null:D,h);(function x1(s,o,a,c){const h=s[11];for(let p=0;p<o.length;p++){const v=o[p++],D=o[p],C=(v&hr.COMMENT)===hr.COMMENT,M=(v&hr.APPEND_EAGERLY)===hr.APPEND_EAGERLY,F=v>>>hr.SHIFT;let U=s[F];null===U&&(U=s[F]=C?h.createComment(D):ev(h,D)),M&&null!==a&&Wc(h,a,U,c,!1)}})(h,C.create,F,D&&8&D.type?h[D.index]:null),ea(!0)}function gi(){ea(!1)}function Vn(s,o,a){Qh(s,o,a),gi()}function z0(s,o){const a=Jt();!function P1(s,o,a){const h=$n().index,p=[];if(s.firstCreatePass&&null===s.data[o]){for(let v=0;v<a.length;v+=2){const D=a[v],C=a[v+1];if(""!==C){if(jt.test(C))throw new Error(`ICU expressions are not supported in attributes. Message: "${C}".`);dc(p,C,h,D,uI(p),null)}}s.data[o]=p}}(a,s+22,Ri(a.consts,o))}function lu(s){return function pi(s){s&&(ye|=1<<Math.min(je,31)),je++}(ji(Oe(),Us(),s)),lu}function Ks(s){!function sI(s,o,a){if(je>0){const c=s.data[a];aI(s,o,Array.isArray(c)?c:c.update,Xi()-je-1,ye)}ye=0,je=0}(Jt(),Oe(),s+22)}function pI(s,o={}){return function Lr(s,o={}){let a=s;if(W0.test(s)){const c={},h=[0];a=a.replace(L1,(p,v,D)=>{const C=v||D,M=c[C]||[];if(M.length||(C.split("|").forEach(Ge=>{const Je=Ge.match(fI),_t=Je?parseInt(Je[1],10):0,Rt=Rd.test(Ge);M.push([_t,Rt,Ge])}),c[C]=M),!M.length)throw new Error(`i18n postprocess: unmatched placeholder - ${C}`);const F=h[h.length-1];let U=0;for(let Ge=0;Ge<M.length;Ge++)if(M[Ge][0]===F){U=Ge;break}const[Y,se,Me]=M[U];return se?h.pop():F!==Y&&h.push(Y),M.splice(U,1),Me})}return Object.keys(o).length&&(a=a.replace(V1,(c,h,p,v,D,C)=>o.hasOwnProperty(p)?`${h}${o[p]}${C}`:c),a=a.replace(qs,(c,h)=>o.hasOwnProperty(h)?o[h]:c),a=a.replace(hI,(c,h)=>{if(o.hasOwnProperty(h)){const p=o[h];if(!p.length)throw new Error(`i18n postprocess: unmatched ICU - ${c} with key: ${h}`);return p.shift()}return c})),a}(s,o)}function q0(s,o,a,c,h){if(s=Z(s),Array.isArray(s))for(let p=0;p<s.length;p++)q0(s[p],o,a,c,h);else{const p=Jt(),v=Oe();let D=cl(s)?s:Z(s.provide),C=dh(s);const M=$n(),F=1048575&M.providerIndexes,U=M.directiveStart,Y=M.providerIndexes>>20;if(cl(s)||!s.multi){const se=new ys(C,h,rc),Me=hc(D,o,h?F:F+Y,U);-1===Me?(No(ra(M,v),p,D),_l(p,s,o.length),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(se),v.push(se)):(a[Me]=se,v[Me]=se)}else{const se=hc(D,o,F+Y,U),Me=hc(D,o,F,F+Y),Ge=se>=0&&a[se],Je=Me>=0&&a[Me];if(h&&!Je||!h&&!Ge){No(ra(M,v),p,D);const _t=function B1(s,o,a,c,h){const p=new ys(s,a,rc);return p.multi=[],p.index=o,p.componentProviders=0,Tr(p,h,c&&!a),p}(h?gI:K0,a.length,h,c,C);!h&&Je&&(a[Me].providerFactory=_t),_l(p,s,o.length,0),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(_t),v.push(_t)}else _l(p,s,se>-1?se:Me,Tr(a[h?Me:se],C,!h&&c));!h&&c&&Je&&a[Me].componentProviders++}}}function _l(s,o,a,c){const h=cl(o),p=function ch(s){return!!s.useClass}(o);if(h||p){const C=(p?Z(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const F=M.indexOf(a);-1===F?M.push(a,[c,C]):M[F+1].push(c,C)}else M.push(a,C)}}}function Tr(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function hc(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function K0(s,o,a,c){return Od(this.multi,[])}function gI(s,o,a,c){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=Mo(a,a[1],this.providerFactory.index,c);p=D.slice(0,v),Od(h,p);for(let C=v;C<D.length;C++)p.push(D[C])}else p=[],Od(h,p);return p}function Od(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function fc(s,o=[]){return a=>{a.providersResolver=(c,h)=>function mi(s,o,a){const c=Jt();if(c.firstCreatePass){const h=jr(s);q0(a,c.data,c.blueprint,h,!0),q0(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class yl{}class Jh{}function Z0(s,o){return new Xh(s,o??null)}const cu=Z0;class Xh extends yl{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new n_(this);const c=Dn(o);this._bootstrapComponents=hl(c.bootstrap),this._r3Injector=gd(o,a,[{provide:yl,useValue:this},{provide:Wt,useValue:this.componentFactoryResolver}],me(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class vl extends Jh{constructor(o){super(),this.moduleType=o}create(o){return new Xh(this.moduleType,o)}}class bl extends yl{constructor(o,a,c){super(),this.componentFactoryResolver=new n_(this),this.instance=null;const h=new Yf([...o,{provide:yl,useValue:this},{provide:Wt,useValue:this.componentFactoryResolver}],a||ul(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function kd(s,o,a=null){return new bl(s,o,a).injector}let uu=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=qf(0,a.type),h=c.length>0?kd([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=an({token:s,providedIn:"environment",factory:()=>new s(Yn(Bi))}),s})();function Y0(s){s.getStandaloneInjector=o=>o.get(uu).getOrCreateStandaloneInjector(s)}function du(s){const o=rs(s);if(null===o)return null;if(void 0===o.component){const a=o.lView;if(null===a)return null;o.component=function PD(s,o){const a=o[1].data[s];return 2&a.flags?o[a.directiveStart]:null}(o.nodeIndex,a)}return o.component}function L_(s){!function rr(s){if(typeof Element<"u"&&!(s instanceof Element))throw new Error("Expecting instance of DOM Element")}(s);const o=rs(s),a=o?o.lView:null;return null===a?null:a[8]}function hu(s){const o=rs(s);let c,a=o?o.lView:null;if(null===a)return null;for(;2===a[1].type&&(c=yh(a));)a=c;return 256&a[2]?null:a[8]}function V_(s){const o=Sm(s);return null!==o?[kC(o)]:[]}function ef(s){const o=rs(s),a=o?o.lView:null;return null===a?zc.NULL:new di(a[1].data[o.nodeIndex],a)}function Q0(s){if(s instanceof Text)return[];const o=rs(s),a=o?o.lView:null;if(null===a)return[];const h=o.nodeIndex;return a[1]?.data[h]?(void 0===o.directives&&(o.directives=dd(h,a,!1)),null===o.directives?[]:[...o.directives]):[]}function B_(s){const{constructor:o}=s;if(!o)throw new Error("Unable to find the instance constructor");const a=We(o);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?Un.OnPush:Un.Default};const c=Et(o);return c?{inputs:c.inputs,outputs:c.outputs}:null}function U_(s){return rs(s).native}function _I(s){const o=rs(s),a=null===o?null:o.lView;if(null===a)return[];const h=a[7],p=a[1].cleanup,v=[];if(p&&h)for(let D=0;D<p.length;){const C=p[D++],M=p[D++];if("string"==typeof C){const F=C,U=jn(a[M]),Y=h[p[D++]],se=p[D++],Me="boolean"==typeof se||se>=0?"dom":"output",Ge="boolean"==typeof se&&se;s==U&&v.push({element:s,name:F,callback:Y,useCapture:Ge,type:Me})}}return v.sort(yI),v}function yI(s,o){return s.name==o.name?0:s.name<o.name?-1:1}function vI(s){return void 0!==s.type&&void 0!==s.template&&void 0!==s.declaredInputs}function bI(s,o,a,c){return Bn(()=>{const h=s;null!==o&&(h.hasOwnProperty("decorators")&&void 0!==h.decorators?h.decorators.push(...o):h.decorators=o),null!==a&&(h.ctorParameters=a),null!==c&&(h.propDecorators=h.hasOwnProperty("propDecorators")&&void 0!==h.propDecorators?{...h.propDecorators,...c}:c)})}function J0(s,o,a){const c=Hn()+s,h=Oe();return h[c]===zt?va(h,c,a?o.call(a):o()):Ap(h,c)}function fu(s,o,a,c){return II(Oe(),Hn(),s,o,a,c)}function DI(s,o,a,c,h){return tb(Oe(),Hn(),s,o,a,c,h)}function tf(s,o,a,c,h,p){return EI(Oe(),Hn(),s,o,a,c,h,p)}function ig(s,o,a,c,h,p,v){return CI(Oe(),Hn(),s,o,a,c,h,p,v)}function sg(s,o,a,c,h,p,v,D){const C=Hn()+s,M=Oe(),F=mo(M,C,a,c,h,p);return ji(M,C+4,v)||F?va(M,C+5,D?o.call(D,a,c,h,p,v):o(a,c,h,p,v)):Ap(M,C+5)}function X0(s,o,a,c,h,p,v,D,C){const M=Hn()+s,F=Oe(),U=mo(F,M,a,c,h,p);return Zc(F,M+4,v,D)||U?va(F,M+6,C?o.call(C,a,c,h,p,v,D):o(a,c,h,p,v,D)):Ap(F,M+6)}function eb(s,o,a,c,h,p,v,D,C,M){const F=Hn()+s,U=Oe();let Y=mo(U,F,a,c,h,p);return Rh(U,F+4,v,D,C)||Y?va(U,F+7,M?o.call(M,a,c,h,p,v,D,C):o(a,c,h,p,v,D,C)):Ap(U,F+7)}function Si(s,o,a,c,h,p,v,D,C,M,F){const U=Hn()+s,Y=Oe(),se=mo(Y,U,a,c,h,p);return mo(Y,U+4,v,D,C,M)||se?va(Y,U+8,F?o.call(F,a,c,h,p,v,D,C,M):o(a,c,h,p,v,D,C,M)):Ap(Y,U+8)}function wI(s,o,a,c){return TI(Oe(),Hn(),s,o,a,c)}function og(s,o){const a=s[o];return a===zt?void 0:a}function II(s,o,a,c,h,p){const v=o+a;return ji(s,v,h)?va(s,v+1,p?c.call(p,h):c(h)):og(s,v+1)}function tb(s,o,a,c,h,p,v){const D=o+a;return Zc(s,D,h,p)?va(s,D+2,v?c.call(v,h,p):c(h,p)):og(s,D+2)}function EI(s,o,a,c,h,p,v,D){const C=o+a;return Rh(s,C,h,p,v)?va(s,C+3,D?c.call(D,h,p,v):c(h,p,v)):og(s,C+3)}function CI(s,o,a,c,h,p,v,D,C){const M=o+a;return mo(s,M,h,p,v,D)?va(s,M+4,C?c.call(C,h,p,v,D):c(h,p,v,D)):og(s,M+4)}function TI(s,o,a,c,h,p){let v=o+a,D=!1;for(let C=0;C<h.length;C++)ji(s,v++,h[C])&&(D=!0);return D?va(s,v,c.apply(p,h)):og(s,v)}function SI(s,o){const a=Jt();let c;const h=s+22;a.firstCreatePass?(c=function pu(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const p=c.factory||(c.factory=ci(c.type)),v=gr(rc);try{const D=ao(!1),C=p();return ao(D),o0(a,Oe(),h,C),C}finally{gr(v)}}function NI(s,o,a){const c=s+22,h=Oe(),p=Jr(h,c);return wl(h,c)?II(h,Hn(),o,p.transform,a,p):p.transform(a)}function nb(s,o,a,c){const h=s+22,p=Oe(),v=Jr(p,h);return wl(p,h)?tb(p,Hn(),o,v.transform,a,c,v):v.transform(a,c)}function rb(s,o,a,c,h){const p=s+22,v=Oe(),D=Jr(v,p);return wl(v,p)?EI(v,Hn(),o,D.transform,a,c,h,D):D.transform(a,c,h)}function Dl(s,o,a,c,h,p){const v=s+22,D=Oe(),C=Jr(D,v);return wl(D,v)?CI(D,Hn(),o,C.transform,a,c,h,p,C):C.transform(a,c,h,p)}function ib(s,o,a){const c=s+22,h=Oe(),p=Jr(h,c);return wl(h,c)?TI(h,Hn(),o,p.transform,a,p):p.transform.apply(p,a)}function wl(s,o){return s[1].data[o].pure}function lg(s){return o=>{setTimeout(s,void 0,o)}}const Go=class AI extends I.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,p=a||(()=>null),v=c;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),p=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(p=lg(p),h&&(h=lg(h)),v&&(v=lg(v)));const D=super.subscribe({next:h,error:p,complete:v});return o instanceof u.w0&&o.add(D),D}};function sb(){return this._results[Kc()]()}class pc{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Kc(),c=pc.prototype;c[a]||(c[a]=sb)}get changes(){return this._changes||(this._changes=new Go)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=Ei(o);(this._changesDetected=!function Wl(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _i=(()=>{class s{}return s.__NG_ELEMENT_ID__=MI,s})();const j_=_i,cg=class extends j_{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,h=yp(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(c)),Km(c,h,o),new Mh(h)}};function MI(){return nf($n(),Oe())}function nf(s,o){return 4&s.type?new cg(o,s,y(s,o)):null}let rf=(()=>{class s{}return s.__NG_ELEMENT_ID__=xI,s})();function xI(){return ab($n(),Oe())}const RI=rf,OI=class extends RI{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const o=Za(this._hostTNode,this._hostLView);if(Bu(o)){const a=qa(o,this._hostLView),c=Or(o);return new di(a[1].data[c+8],a)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=ob(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,h),v}createComponent(o,a,c,h,p){const v=o&&!Oo(o);let D;if(v)D=a;else{const U=a||{};D=U.index,c=U.injector,h=U.projectableNodes,p=U.environmentInjector||U.ngModuleRef}const C=v?o:new _d(We(o)),M=c||this.parentInjector;if(!p&&null==C.ngModule){const Y=(v?M:this.parentInjector).get(Bi,null);Y&&(p=Y)}const F=C.create(M,h,void 0,p);return this.insert(F.hostView,D),F}insert(o,a){const c=o._lView,h=c[1];if(function Jo(s){return Ur(s[3])}(c)){const F=this.indexOf(o);if(-1!==F)this.detach(F);else{const U=c[3],Y=new OI(U,U[6],U[3]);Y.detach(Y.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function rv(s,o,a,c){const h=10+c,p=a.length;c>0&&(a[h-1][4]=o),c<p-10?(o[4]=a[h],ei(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function nc(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,c,v,p);const D=pd(p,v),C=c[11],M=km(C,v[7]);return null!==M&&function FC(s,o,a,c,h,p){c[0]=h,c[6]=o,up(s,c,a,1,h,p)}(h,v[6],C,c,M,D),o.attachToViewContainerRef(),ei($_(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=ob(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Rm(this._lContainer,a);c&&(Pi($_(this._lContainer),a),iv(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=Rm(this._lContainer,a);return c&&null!=Pi($_(this._lContainer),a)?new Mh(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function ob(s){return s[8]}function $_(s){return s[8]||(s[8]=[])}function ab(s,o){let a;const c=o[s.index];if(Ur(c))a=c;else{let h;if(8&s.type)h=jn(c);else{const p=o[11];h=p.createComment("");const v=Qr(s,o);Wc(p,km(p,v),h,function sp(s,o){return s.nextSibling(o)}(p,v),!1)}o[s.index]=a=Nw(c,o,h,s),Jm(o,a)}return new OI(a,s,o)}class G_{constructor(o){this.queryList=o,this.matches=null}clone(){return new G_(this.queryList)}setDirty(){this.queryList.setDirty()}}class gu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new gu(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==cb(o,a).matches&&this.queries[a].setDirty()}}class mu{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class W_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new W_(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class gc{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new gc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,a,kI(a,p)),this.matchTNodeWithReadOption(o,a,Ya(a,o,p,!1,!1))}else c===_i?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ya(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===f||h===rf||h===_i&&4&a.type)this.addMatch(a.index,-2);else{const p=Ya(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function kI(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function PI(s,o,a,c){return-1===a?function sf(s,o){return 11&s.type?y(s,o):4&s.type?nf(s,o):null}(o,s):-2===a?function FI(s,o,a){return a===f?y(o,s):a===_i?nf(o,s):a===rf?ab(o,s):void 0}(s,o,c):Mo(s,s[1],a,o)}function af(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,v=a.matches,D=[];for(let C=0;C<v.length;C+=2){const M=v[C];D.push(M<0?null:PI(o,p[M],v[C+1],a.metadata.read))}h.matches=D}return h.matches}function lb(s,o,a,c){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const v=af(s,o,h,a);for(let D=0;D<p.length;D+=2){const C=p[D];if(C>0)c.push(v[D/2]);else{const M=p[D+1],F=o[-C];for(let U=10;U<F.length;U++){const Y=F[U];Y[17]===Y[3]&&lb(Y[1],Y,M,c)}if(null!==F[9]){const U=F[9];for(let Y=0;Y<U.length;Y++){const se=U[Y];lb(se[1],se,M,c)}}}}}return c}function LI(s){const o=Oe(),a=Jt(),c=$a();So(c+1);const h=cb(a,c);if(s.dirty&&function Fs(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?lb(a,o,c,[]):af(a,o,h,c);s.reset(p,m),s.notifyOnChanges()}return!0}return!1}function or(s,o,a){const c=Jt();c.firstCreatePass&&(lf(c,new mu(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),BI(c,Oe(),o)}function ug(s,o,a,c){const h=Jt();if(h.firstCreatePass){const p=$n();lf(h,new mu(o,a,c),p.index),function $1(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}BI(h,Oe(),a)}function dg(){return function VI(s,o){return s[19].queries[o].queryList}(Oe(),$a())}function BI(s,o,a){const c=new pc(4==(4&a));Lv(s,o,c,c.destroy),null===o[19]&&(o[19]=new gu),o[19].queries.push(new G_(c))}function lf(s,o,a){null===s.queries&&(s.queries=new W_),s.queries.track(new gc(o,a))}function cb(s,o){return s.queries.getByIndex(o)}function Pd(s,o){return nf(s,o)}const Sr=(()=>({\u0275\u0275attribute:Xv,\u0275\u0275attributeInterpolate1:l_,\u0275\u0275attributeInterpolate2:e0,\u0275\u0275attributeInterpolate3:t0,\u0275\u0275attributeInterpolate4:c_,\u0275\u0275attributeInterpolate5:Mp,\u0275\u0275attributeInterpolate6:n0,\u0275\u0275attributeInterpolate7:xp,\u0275\u0275attributeInterpolate8:u_,\u0275\u0275attributeInterpolateV:r0,\u0275\u0275defineComponent:Fe,\u0275\u0275defineDirective:Ae,\u0275\u0275defineInjectable:an,\u0275\u0275defineInjector:Ht,\u0275\u0275defineNgModule:G,\u0275\u0275definePipe:le,\u0275\u0275directiveInject:rc,\u0275\u0275getInheritedFactory:Hr,\u0275\u0275inject:Yn,\u0275\u0275injectAttribute:xc,\u0275\u0275invalidFactory:uw,\u0275\u0275invalidFactoryDep:Zu,\u0275\u0275templateRefExtractor:Pd,\u0275\u0275resetView:La,\u0275\u0275NgOnChangesFeature:Yi,\u0275\u0275ProvidersFeature:fc,\u0275\u0275CopyDefinitionFeature:Kv,\u0275\u0275InheritDefinitionFeature:Wv,\u0275\u0275StandaloneFeature:Y0,\u0275\u0275nextContext:d0,\u0275\u0275namespaceHTML:yn,\u0275\u0275namespaceMathML:pn,\u0275\u0275namespaceSVG:it,\u0275\u0275enableBindings:Fa,\u0275\u0275disableBindings:Vs,\u0275\u0275elementStart:Op,\u0275\u0275elementEnd:bd,\u0275\u0275element:a0,\u0275\u0275elementContainerStart:ac,\u0275\u0275elementContainerEnd:f_,\u0275\u0275elementContainer:l0,\u0275\u0275pureFunction0:J0,\u0275\u0275pureFunction1:fu,\u0275\u0275pureFunction2:DI,\u0275\u0275pureFunction3:tf,\u0275\u0275pureFunction4:ig,\u0275\u0275pureFunction5:sg,\u0275\u0275pureFunction6:X0,\u0275\u0275pureFunction7:eb,\u0275\u0275pureFunction8:Si,\u0275\u0275pureFunctionV:wI,\u0275\u0275getCurrentView:eu,\u0275\u0275restoreView:ro,\u0275\u0275listener:Dd,\u0275\u0275projection:p0,\u0275\u0275syntheticHostProperty:N_,\u0275\u0275syntheticHostListener:g_,\u0275\u0275pipeBind1:NI,\u0275\u0275pipeBind2:nb,\u0275\u0275pipeBind3:rb,\u0275\u0275pipeBind4:Dl,\u0275\u0275pipeBindV:ib,\u0275\u0275projectionDef:f0,\u0275\u0275hostProperty:S_,\u0275\u0275property:vd,\u0275\u0275propertyInterpolate:wd,\u0275\u0275propertyInterpolate1:Fh,\u0275\u0275propertyInterpolate2:Fp,\u0275\u0275propertyInterpolate3:Lp,\u0275\u0275propertyInterpolate4:Lh,\u0275\u0275propertyInterpolate5:Id,\u0275\u0275propertyInterpolate6:m_,\u0275\u0275propertyInterpolate7:g0,\u0275\u0275propertyInterpolate8:Vp,\u0275\u0275propertyInterpolateV:Vh,\u0275\u0275pipe:SI,\u0275\u0275queryRefresh:LI,\u0275\u0275viewQuery:or,\u0275\u0275loadQuery:dg,\u0275\u0275contentQuery:ug,\u0275\u0275reference:kw,\u0275\u0275classMap:Bh,\u0275\u0275classMapInterpolate1:E0,\u0275\u0275classMapInterpolate2:Gh,\u0275\u0275classMapInterpolate3:Wh,\u0275\u0275classMapInterpolate4:Kw,\u0275\u0275classMapInterpolate5:zr,\u0275\u0275classMapInterpolate6:C0,\u0275\u0275classMapInterpolate7:Zw,\u0275\u0275classMapInterpolate8:Yw,\u0275\u0275classMapInterpolateV:Qw,\u0275\u0275styleMap:zs,\u0275\u0275styleMapInterpolate1:T0,\u0275\u0275styleMapInterpolate2:S0,\u0275\u0275styleMapInterpolate3:N0,\u0275\u0275styleMapInterpolate4:qp,\u0275\u0275styleMapInterpolate5:A0,\u0275\u0275styleMapInterpolate6:ml,\u0275\u0275styleMapInterpolate7:M0,\u0275\u0275styleMapInterpolate8:x0,\u0275\u0275styleMapInterpolateV:I_,\u0275\u0275styleProp:y_,\u0275\u0275stylePropInterpolate1:Td,\u0275\u0275stylePropInterpolate2:E_,\u0275\u0275stylePropInterpolate3:Kp,\u0275\u0275stylePropInterpolate4:zh,\u0275\u0275stylePropInterpolate5:C_,\u0275\u0275stylePropInterpolate6:qh,\u0275\u0275stylePropInterpolate7:R0,\u0275\u0275stylePropInterpolate8:T_,\u0275\u0275stylePropInterpolateV:Sd,\u0275\u0275classProp:nr,\u0275\u0275advance:Dh,\u0275\u0275template:d_,\u0275\u0275text:D_,\u0275\u0275textInterpolate:w_,\u0275\u0275textInterpolate1:Gp,\u0275\u0275textInterpolate2:Wp,\u0275\u0275textInterpolate3:D0,\u0275\u0275textInterpolate4:w0,\u0275\u0275textInterpolate5:I0,\u0275\u0275textInterpolate6:$h,\u0275\u0275textInterpolate7:Cd,\u0275\u0275textInterpolate8:Hh,\u0275\u0275textInterpolateV:zp,\u0275\u0275i18n:Vn,\u0275\u0275i18nAttributes:z0,\u0275\u0275i18nExp:lu,\u0275\u0275i18nStart:Qh,\u0275\u0275i18nEnd:gi,\u0275\u0275i18nApply:Ks,\u0275\u0275i18nPostprocess:pI,\u0275\u0275resolveWindow:Zy,\u0275\u0275resolveDocument:hd,\u0275\u0275resolveBody:LD,\u0275\u0275setComponentScope:ht,\u0275\u0275setNgModuleScope:W,\u0275\u0275registerNgModuleType:Ff,\u0275\u0275sanitizeHtml:Uc,\u0275\u0275sanitizeStyle:hm,\u0275\u0275sanitizeResourceUrl:Hf,\u0275\u0275sanitizeScript:jc,\u0275\u0275sanitizeUrl:ah,\u0275\u0275sanitizeUrlOrResourceUrl:id,\u0275\u0275trustConstantHtml:fm,\u0275\u0275trustConstantResourceUrl:Gf,forwardRef:q,resolveForwardRef:Z}))();let Fd=null;function cf(){Fd=null}function Kr(s){return!!Dn(s)}const mn=[];let z_=!1;function mc(){if(!z_){z_=!0;try{for(let s=mn.length-1;s>=0;s--){const{moduleType:o,ngModule:a}=mn[s];a.declarations&&a.declarations.every(WI)&&(mn.splice(s,1),G1(o,a))}}finally{z_=!1}}}function WI(s){return Array.isArray(s)?s.every(WI):!!Z(s)}function Ss(s,o={}){ub(s,o),void 0!==o.id&&Ff(s,o.id),function GI(s,o){mn.push({moduleType:s,ngModule:o})}(s,o)}function ub(s,o,a=!1){const c=Ei(o.declarations||Vt);let h=null;Object.defineProperty(s,_n,{configurable:!0,get:()=>(null===h&&(h=wr().compileNgModule(Sr,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:Ei(o.bootstrap||Vt).map(Z),declarations:c.map(Z),imports:Ei(o.imports||Vt).map(Z).map(pg),exports:Ei(o.exports||Vt).map(Z).map(pg),schemas:o.schemas?Ei(o.schemas):null,id:o.id||null}),h.schemas||(h.schemas=[])),h)});let p=null;Object.defineProperty(s,mr,{get:()=>{if(null===p){const D=wr();p=D.compileFactory(Sr,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:Ir(s),target:D.FactoryTarget.NgModule,typeArgumentCount:0})}return p},configurable:!1});let v=null;Object.defineProperty(s,Mr,{get:()=>{if(null===v){const D={name:s.name,type:s,providers:o.providers||Vt,imports:[(o.imports||Vt).map(Z),(o.exports||Vt).map(Z)]};v=wr().compileInjector(Sr,`ng:///${s.name}/\u0275inj.js`,D)}return v},configurable:!1})}let _u=new WeakMap,hb=new WeakMap;function H1(){_u=new WeakMap,hb=new WeakMap,mn.length=0}function G1(s,o){const a=Ei(o.declarations||Vt),c=wa(s);a.forEach(h=>{(h=Z(h)).hasOwnProperty(xi)?uf(We(h),c):!h.hasOwnProperty(hn)&&!h.hasOwnProperty(qi)&&(h.ngSelectorScope=s)})}function uf(s,o){s.directiveDefs=()=>Array.from(o.compilation.directives).map(a=>a.hasOwnProperty(xi)?We(a):Et(a)).filter(a=>!!a),s.pipeDefs=()=>Array.from(o.compilation.pipes).map(a=>Zt(a)),s.schemas=o.schemas,s.tView=null}function wa(s){if(Kr(s))return function fg(s){const o=Dn(s,!0);if(null!==o.transitiveCompileScopes)return o.transitiveCompileScopes;const a={schemas:o.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return hl(o.imports).forEach(c=>{const h=wa(c);h.exported.directives.forEach(p=>a.compilation.directives.add(p)),h.exported.pipes.forEach(p=>a.compilation.pipes.add(p))}),hl(o.declarations).forEach(c=>{Zt(c)?a.compilation.pipes.add(c):a.compilation.directives.add(c)}),hl(o.exports).forEach(c=>{const h=c;if(Kr(h)){const p=wa(h);p.exported.directives.forEach(v=>{a.compilation.directives.add(v),a.exported.directives.add(v)}),p.exported.pipes.forEach(v=>{a.compilation.pipes.add(v),a.exported.pipes.add(v)})}else Zt(h)?a.exported.pipes.add(h):a.exported.directives.add(h)}),o.transitiveCompileScopes=a,a}(s);if(Wn(s)){if(null!==(We(s)||Et(s)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([s]),pipes:new Set}};if(null!==Zt(s))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([s])}}}throw new Error(`${s.name} does not have a module def (\u0275mod property)`)}function pg(s){return function HI(s){return void 0!==s.ngModule}(s)?s.ngModule:s}let K_=0;function fb(s,o){let a=null;(function la(s,o){ca(o)&&(il.set(s,o),ho.add(s))})(s,o),YI(s,o),Object.defineProperty(s,xi,{get:()=>{if(null===a){const c=wr();if(ca(o)){const M=[`Component '${s.name}' is not resolved:`];throw o.templateUrl&&M.push(` - templateUrl: ${o.templateUrl}`),o.styleUrls&&o.styleUrls.length&&M.push(` - styleUrls: ${JSON.stringify(o.styleUrls)}`),M.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(M.join("\n"))}const h=function jI(){return Fd}();let p=o.preserveWhitespaces;void 0===p&&(p=null!==h&&void 0!==h.preserveWhitespaces&&h.preserveWhitespaces);let v=o.encapsulation;void 0===v&&(v=null!==h&&void 0!==h.defaultEncapsulation?h.defaultEncapsulation:vt.Emulated);const D=o.templateUrl||`ng:///${s.name}/template.html`,C={...gb(s,o),typeSourceSpan:c.createParseSourceSpan("Component",s.name,D),template:o.template||"",preserveWhitespaces:p,styles:o.styles||Vt,animations:o.animations,declarations:[],changeDetection:o.changeDetection,encapsulation:v,interpolation:o.interpolation,viewProviders:o.viewProviders||null,isStandalone:!!o.standalone};K_++;try{if(C.usesInheritance&&QI(s),a=c.compileComponent(Sr,D,C),o.standalone){const M=Ei(o.imports||Vt),{directiveDefs:F,pipeDefs:U}=function qI(s,o){let a=null,c=null;return{directiveDefs:()=>{if(null===a){a=[We(s)];const v=new Set;for(const D of o){const C=Z(D);if(!v.has(C))if(v.add(C),Dn(C)){const M=wa(C);for(const F of M.exported.directives){const U=We(F)||Et(F);U&&!v.has(F)&&(v.add(F),a.push(U))}}else{const M=We(C)||Et(C);M&&a.push(M)}}}return a},pipeDefs:()=>{if(null===c){c=[];const v=new Set;for(const D of o){const C=Z(D);if(!v.has(C))if(v.add(C),Dn(C)){const M=wa(C);for(const F of M.exported.pipes){const U=Zt(F);U&&!v.has(F)&&(v.add(F),c.push(U))}}else{const M=Zt(C);M&&c.push(M)}}}return c}}}(s,M);a.directiveDefs=F,a.pipeDefs=U,a.dependencies=()=>M.map(Z)}}finally{K_--}if(0===K_&&mc(),function KI(s){return void 0!==s.ngSelectorScope}(s)){const M=wa(s.ngSelectorScope);uf(a,M)}if(o.schemas){if(!o.standalone)throw new Error(`The 'schemas' was specified for the ${fe(s)} but is only valid on a component that is standalone.`);a.schemas=o.schemas}else o.standalone&&(a.schemas=[])}return a},configurable:!1})}function pb(s,o){let a=null;YI(s,o||{}),Object.defineProperty(s,hn,{get:()=>{if(null===a){const c=ZI(s,o||{});a=wr().compileDirective(Sr,c.sourceMapUrl,c.metadata)}return a},configurable:!1})}function ZI(s,o){const a=s&&s.name,c=`ng:///${a}/\u0275dir.js`,h=wr(),p=gb(s,o);return p.typeSourceSpan=h.createParseSourceSpan("Directive",a,c),p.usesInheritance&&QI(s),{metadata:p,sourceMapUrl:c}}function YI(s,o){let a=null;Object.defineProperty(s,mr,{get:()=>{if(null===a){const c=ZI(s,o),h=wr();a=h.compileFactory(Sr,`ng:///${s.name}/\u0275fac.js`,{name:c.metadata.name,type:c.metadata.type,typeArgumentCount:0,deps:Ir(s),target:h.FactoryTarget.Directive})}return a},configurable:!1})}function gg(s){return Object.getPrototypeOf(s.prototype)===Object.prototype}function gb(s,o){const a=Gn(),c=a.ownPropMetadata(s);return{name:s.name,type:s,selector:void 0!==o.selector?o.selector:null,host:o.host||oi,propMetadata:c,inputs:o.inputs||Vt,outputs:o.outputs||Vt,queries:_b(s,c,Ia),lifecycle:{usesOnChanges:a.hasLifecycleHook(s,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!gg(s),exportAs:mg(o.exportAs),providers:o.providers||null,viewQueries:_b(s,c,Z_),isStandalone:!!o.standalone}}function QI(s){const o=Object.prototype;let a=Object.getPrototypeOf(s.prototype).constructor;for(;a&&a!==o;)!Et(a)&&!We(a)&&XI(a)&&pb(a,null),a=Object.getPrototypeOf(a)}function Ni(s){return"string"==typeof s?df(s):Z(s)}function mb(s,o){return{propertyName:s,predicate:Ni(o.selector),descendants:o.descendants,first:o.first,read:o.read?o.read:null,static:!!o.static,emitDistinctChangesOnly:!!o.emitDistinctChangesOnly}}function _b(s,o,a){const c=[];for(const h in o)if(o.hasOwnProperty(h)){const p=o[h];p.forEach(v=>{if(a(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${h}" of "${fe(s)}" since the query selector wasn't defined.`);if(p.some(yb))throw new Error("Cannot combine @Input decorators with query decorators");c.push(mb(h,v))}})}return c}function mg(s){return void 0===s?null:df(s)}function Ia(s){const o=s.ngMetadataName;return"ContentChild"===o||"ContentChildren"===o}function Z_(s){const o=s.ngMetadataName;return"ViewChild"===o||"ViewChildren"===o}function yb(s){return"Input"===s.ngMetadataName}function df(s){return s.split(",").map(o=>o.trim())}const JI=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function XI(s){const o=Gn();if(JI.some(c=>o.hasLifecycleHook(s,c)))return!0;const a=o.propMetadata(s);for(const c in a){const h=a[c];for(let p=0;p<h.length;p++){const v=h[p],D=v.ngMetadataName;if(yb(v)||Ia(v)||Z_(v)||"Output"===D||"HostBinding"===D||"HostListener"===D)return!0}}return!1}function vb(s,o){let a=null,c=null;Object.defineProperty(s,mr,{get:()=>{if(null===c){const h=eE(s,o),p=wr();c=p.compileFactory(Sr,`ng:///${h.name}/\u0275fac.js`,{name:h.name,type:h.type,typeArgumentCount:0,deps:Ir(s),target:p.FactoryTarget.Pipe})}return c},configurable:!1}),Object.defineProperty(s,qi,{get:()=>{if(null===a){const h=eE(s,o);a=wr().compilePipe(Sr,`ng:///${h.name}/\u0275pipe.js`,h)}return a},configurable:!1})}function eE(s,o){return{type:s,name:s.name,pipeName:o.name,pure:void 0===o.pure||o.pure,isStandalone:!!o.standalone}}const tE=Ds("Directive",(s={})=>s,void 0,void 0,(s,o)=>pb(s,o)),_g=Ds("Component",(s={})=>({changeDetection:Un.Default,...s}),tE,void 0,(s,o)=>fb(s,o)),bb=Ds("Pipe",s=>({pure:!0,...s}),void 0,void 0,(s,o)=>vb(s,o)),W1=Gr("Input",s=>({bindingPropertyName:s})),nE=Gr("Output",s=>({bindingPropertyName:s})),Db=Gr("HostBinding",s=>({hostPropertyName:s})),rE=Gr("HostListener",(s,o)=>({eventName:s,args:o})),z1=Ds("NgModule",s=>s,void 0,void 0,(s,o)=>Ss(s,o));function yg(...s){}const iE=new An("Application Initializer");let _c=(()=>{class s{constructor(a){this.appInits=a,this.resolve=yg,this.reject=yg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(p_(p))a.push(p);else if(c0(p)){const v=new Promise((D,C)=>{p.subscribe({complete:D,error:C})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Yn(iE,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ld=new An("AppId",{providedIn:"root",factory:sE});function sE(){return`${wb()}${wb()}${wb()}`}const q1={provide:Ld,useFactory:sE,deps:[]};function wb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ib=new An("Platform Initializer"),Ns=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oE=new An("appBootstrapListener"),aE=new An("Application Packages Root URL"),Il=new An("AnimationModuleType");let lE=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const vg=new An("LocaleId",{providedIn:"root",factory:()=>S(vg,nt.Optional|nt.SkipSelf)||function Y_(){return typeof $localize<"u"&&$localize.locale||iu}()}),K1=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Z1=new An("Translations"),Y1=new An("TranslationsFormat");var El=(()=>((El=El||{})[El.Error=0]="Error",El[El.Warning=1]="Warning",El[El.Ignore=2]="Ignore",El))();class cE{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Q1=(()=>{class s{compileModuleSync(a){return new vl(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=hl(Dn(a).declarations).reduce((v,D)=>{const C=We(D);return C&&v.push(new _d(C)),v},[]);return new cE(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uE=new An("compilerOptions");class J1{}function X1(s){$v(Tm(s)),V_(s).forEach(o=>Rp(o))}let hE=!1;function eT(){hE||(hE=!0,Wo("\u0275setProfiler",En),Wo("getDirectiveMetadata",B_),Wo("getComponent",du),Wo("getContext",L_),Wo("getListeners",_I),Wo("getOwningComponent",hu),Wo("getHostElement",U_),Wo("getInjector",ef),Wo("getRootComponents",V_),Wo("getDirectives",Q0),Wo("applyChanges",X1))}function Wo(s,o){if(typeof COMPILED>"u"||!COMPILED){const a=Cn;if(a){let c=a.ng;c||(c=a.ng={}),c[s]=o}}}const tT=(()=>Promise.resolve(0))();function Eb(s){typeof Zone>"u"?tT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class zo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Go(!1),this.onMicrotaskEmpty=new Go(!1),this.onStable=new Go(!1),this.onError=new Go(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function fE(){let s=Cn.requestAnimationFrame,o=Cn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Cb(s){const o=()=>{!function nT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Cn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ni(s),s.isCheckStableRunning=!0,Q_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ni(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,v,D)=>{try{return J_(s),a.invokeTask(h,p,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),X_(s)}},onInvoke:(a,c,h,p,v,D,C)=>{try{return J_(s),a.invoke(h,p,v,D,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),X_(s)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,ni(s),Q_(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zo.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(zo.isInAngularZone())throw new Ie(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,pE,yg,yg);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const pE={};function Q_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ni(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function J_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function X_(s){s._nesting--,Q_(s)}class ey{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Go,this.onMicrotaskEmpty=new Go,this.onStable=new Go,this.onError=new Go}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const yc=new An(""),Tb=new An("");let vc,rT=(()=>{class s{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vc||(bg(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zo.assertNotInAngularZone(),Eb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eb(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Yn(zo),Yn(Sb),Yn(Tb))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),Sb=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return vc?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function bg(s){vc=s}let Zs=null;const bc=new An("AllowMultipleToken"),Vd=new An("PlatformDestroyListeners");function ty(s,o,a){const c=new vl(a);return Promise.resolve(c)}function Nb(s){return s.isBoundToModule}class mE{constructor(o,a){this.name=o,this.token=a}}function _E(s){if(Zs&&!Zs.get(bc,!1))throw new Ie(400,!1);Zs=s;const o=s.get(Mb);return Ab(s),o}function Ab(s){const o=s.get(Ib,null);o&&o.forEach(a=>a())}function ny(s){const{rootComponent:o,appProviders:a,platformProviders:c}=s,h=function yE(s=[]){if(Zs)return Zs;const o=vE(s);return Zs=o,Ab(o),o}(c),p=ff("zone.js",DE());return p.run(()=>{const D=kd([{provide:zo,useValue:p},...a||[]],h,"Environment Injector"),C=D.get($c,null);let M;p.runOutsideAngular(()=>{M=p.onError.subscribe({next:Y=>{C.handleError(Y)}})});const F=()=>D.destroy(),U=h.get(Vd);return U.add(F),D.onDestroy(()=>{M.unsubscribe(),U.delete(F)}),vu(C,p,()=>{const Y=D.get(_c);return Y.runInitializers(),Y.donePromise.then(()=>{O_(D.get(vg,iu)||iu);const Me=D.get(Dg);return void 0!==o&&Me.bootstrap(o),Me})})})}function hf(s,o,a=[]){const c=`Platform: ${o}`,h=new An(c);return(p=[])=>{let v=ry();if(!v||v.injector.get(bc,!1)){const D=[...a,...p,{provide:h,useValue:!0}];s?s(D):_E(vE(D,c))}return yu()}}function yu(s){const o=ry();if(!o)throw new Ie(401,!1);return o}function vE(s=[],o){return zc.create({name:o,providers:[{provide:od,useValue:"platform"},{provide:Vd,useValue:new Set([()=>Zs=null])},...s]})}function bE(){ry()?.destroy()}function ry(){return Zs?.get(Mb)??null}let Mb=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=ff(c?.ngZone,DE(c)),p=[{provide:zo,useValue:h}];return h.run(()=>{const v=zc.create({providers:p,parent:this.injector,name:a.moduleType.name}),D=a.create(v),C=D.injector.get($c,null);if(!C)throw new Ie(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:F=>{C.handleError(F)}});D.onDestroy(()=>{iy(this._modules,D),M.unsubscribe()})}),vu(C,h,()=>{const M=D.injector.get(_c);return M.runInitializers(),M.donePromise.then(()=>(O_(D.injector.get(vg,iu)||iu),this._moduleDoBootstrap(D),D))})})}bootstrapModule(a,c=[]){const h=bu({},c);return ty(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(Dg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ie(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Vd,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Yn(zc))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function DE(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}function ff(s,o){let a;return a="noop"===s?new ey:("zone.js"===s?void 0:s)||new zo(o),a}function vu(s,o,a){try{const c=a();return p_(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}function bu(s,o){return Array.isArray(o)?o.reduce(bu,s):{...s,...o}}let Dg=(()=>{class s{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new B.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new B.y(D=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{zo.assertNotInAngularZone(),Eb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{zo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{C.unsubscribe(),M.unsubscribe()}});this.isStable=(0,Q.T)(p,v.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof ec;if(!this._injector.get(_c).done)throw!h&&Wn(a),new Ie(405,false);let v;v=h?a:this._injector.get(Wt).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const D=Nb(v)?void 0:this._injector.get(yl),M=v.create(zc.NULL,[],c||v.selector,D),F=M.location.nativeElement,U=M.injector.get(yc,null);return U?.registerApplication(F),M.onDestroy(()=>{this.detachView(M.hostView),iy(this.components,M),U?.unregisterApplication(F)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;iy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(oE,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>iy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ie(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Yn(zo),Yn(Bi),Yn($c))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function iy(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let wg=!0,IE=!1;function EE(){return IE=!0,wg}function Ig(){if(IE)throw new Error("Cannot enable prod mode after platform setup.");wg=!1}function sy(s){const o=sl(s);if(!o)throw Rb(s);return new vl(o)}function Eg(s){const o=sl(s);if(!o)throw Rb(s);return o}function Rb(s){return new Error(`No module with ID ${s} loaded`)}let Ob=(()=>{class s{}return s.__NG_ELEMENT_ID__=As,s})();function As(s){return function CE(s,o,a){if(To(s)&&!a){const c=rn(s.index,o);return new Mh(c,c)}return 47&s.type?new Mh(o[16],o):null}($n(),Oe(),16==(16&s))}class Cg extends Ob{}class oy extends Cg{}class Du{constructor(o,a){this.name=o,this.callback=a}}function pf(s){return s.map(o=>o.nativeElement)}class ay{constructor(o){this.nativeNode=o}get parent(){const o=this.nativeNode.parentNode;return o?new Ea(o):null}get injector(){return ef(this.nativeNode)}get componentInstance(){const o=this.nativeNode;return o&&(du(o)||hu(o))}get context(){return du(this.nativeNode)||L_(this.nativeNode)}get listeners(){return _I(this.nativeNode).filter(o=>"dom"===o.type)}get references(){return function rg(s){const o=rs(s);if(null===o)return{};if(void 0===o.localRefs){const a=o.lView;if(null===a)return{};o.localRefs=function FD(s,o){const a=s[1].data[o];if(a&&a.localNames){const c={};let h=a.index+1;for(let p=0;p<a.localNames.length;p+=2)c[a.localNames[p]]=s[h],h++;return c}return null}(a,o.nodeIndex)}return o.localRefs||{}}(this.nativeNode)}get providerTokens(){return function mI(s){const o=rs(s),a=o?o.lView:null;if(null===a)return[];const c=a[1],h=c.data[o.nodeIndex],p=[],D=h.directiveEnd;for(let C=1048575&h.providerIndexes;C<D;C++){let M=c.data[C];vI(M)&&(M=M.type),p.push(M)}return p}(this.nativeNode)}}class Ea extends ay{constructor(o){super(o)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const o=rs(this.nativeNode),a=o?o.lView:null;return null!==a?a[1].data[o.nodeIndex].value:this.nativeNode.nodeName}get properties(){const o=rs(this.nativeNode),a=o?o.lView:null;if(null===a)return{};const c=a[1].data,h=c[o.nodeIndex],p={};return function sT(s,o){if(s){let a=Object.getPrototypeOf(s);const c=Node.prototype;for(;null!==a&&a!==c;){const h=Object.getOwnPropertyDescriptors(a);for(let p in h)if(!p.startsWith("__")&&!p.startsWith("on")){const v=s[p];gf(v)&&(o[p]=v)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,p),function oT(s,o,a,c){let h=o.propertyBindings;if(null!==h)for(let p=0;p<h.length;p++){const v=h[p],C=c[v].split("\ufffd"),M=C[0];if(C.length>1){let F=C[1];for(let U=1;U<C.length-1;U++)F+=Ee(a[v+U-1])+C[U+1];s[M]=F}else s[M]=a[v]}}(p,h,a,c),p}get attributes(){const o={},a=this.nativeElement;if(!a)return o;const c=rs(a),h=c?c.lView:null;if(null===h)return{};const p=h[1].data[c.nodeIndex].attrs,v=[];if(p){let C=0;for(;C<p.length;){const M=p[C];if("string"!=typeof M)break;o[M]=p[C+1],v.push(M.toLowerCase()),C+=2}}const D=a.attributes;for(let C=0;C<D.length;C++){const M=D[C],F=M.name.toLowerCase();-1===v.indexOf(F)&&(o[F]=M.value)}return o}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const o={},c=this.nativeElement.className;return("string"!=typeof c?c.baseVal.split(" "):c.split(" ")).forEach(p=>o[p]=!0),o}get childNodes(){const o=this.nativeNode.childNodes,a=[];for(let c=0;c<o.length;c++)a.push(Bd(o[c]));return a}get children(){const o=this.nativeElement;if(!o)return[];const a=o.children,c=[];for(let h=0;h<a.length;h++)c.push(Bd(a[h]));return c}query(o){return this.queryAll(o)[0]||null}queryAll(o){const a=[];return kb(this,o,a,!0),a}queryAllNodes(o){const a=[];return kb(this,o,a,!1),a}triggerEventHandler(o,a){const c=this.nativeNode,h=[];this.listeners.forEach(p=>{if(p.name===o){const v=p.callback;v.call(c,a),h.push(v)}}),"function"==typeof c.eventListeners&&c.eventListeners(o).forEach(p=>{if(-1!==p.toString().indexOf("__ngUnwrap__")){const v=p("__ngUnwrap__");return-1===h.indexOf(v)&&v.call(c,a)}})}}function gf(s){return"string"==typeof s||"boolean"==typeof s||"number"==typeof s||null===s}function kb(s,o,a,c){const h=rs(s.nativeNode),p=h?h.lView:null;null!==p?Ys(p[1].data[h.nodeIndex],p,o,a,c,s.nativeNode):Lb(s.nativeNode,o,a,c)}function Ys(s,o,a,c,h,p){const v=function ps(s,o){const a=null===s?-1:s.index;return-1!==a?jn(o[a]):null}(s,o);if(11&s.type){if(Fb(v,a,c,h,p),To(s)){const C=rn(s.index,o);C&&C[1].firstChild&&Ys(C[1].firstChild,C,a,c,h,p)}else s.child&&Ys(s.child,o,a,c,h,p),v&&Lb(v,a,c,h);const D=o[s.index];Ur(D)&&Pb(D,a,c,h,p)}else if(4&s.type){const D=o[s.index];Fb(D[7],a,c,h,p),Pb(D,a,c,h,p)}else if(16&s.type){const D=o[16],M=D[6].projection[s.projection];if(Array.isArray(M))for(let F of M)Fb(F,a,c,h,p);else if(M){const F=D[3];Ys(F[1].data[M.index],F,a,c,h,p)}}else s.child&&Ys(s.child,o,a,c,h,p);if(p!==v){const D=4&s.flags?s.projectionNext:s.next;D&&Ys(D,o,a,c,h,p)}}function Pb(s,o,a,c,h){for(let p=10;p<s.length;p++){const v=s[p],D=v[1].firstChild;D&&Ys(D,v,o,a,c,h)}}function Fb(s,o,a,c,h){if(h!==s){const p=Bd(s);if(!p)return;(c&&p instanceof Ea&&o(p)&&-1===a.indexOf(p)||!c&&o(p)&&-1===a.indexOf(p))&&a.push(p)}}function Lb(s,o,a,c){const h=s.childNodes,p=h.length;for(let v=0;v<p;v++){const D=h[v],C=Bd(D);C&&((c&&C instanceof Ea&&o(C)&&-1===a.indexOf(C)||!c&&o(C)&&-1===a.indexOf(C))&&a.push(C),Lb(D,o,a,c))}}const mf="__ng_debug__";function Bd(s){return s instanceof Node?(s.hasOwnProperty(mf)||(s[mf]=s.nodeType==Node.ELEMENT_NODE?new Ea(s):new ay(s)),s[mf]):null}function aT(s){return null}class wu{constructor(){}supports(o){return yd(o)}create(o){return new Bb(o)}}const Tg=(s,o)=>o;class Bb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Tg}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<SE(c,h,p)?a:c,D=SE(v,h,p),C=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{p||(p=[]);const M=D-h,F=C-h;if(M!=F){for(let Y=0;Y<M;Y++){const se=Y<p.length?p[Y]:p[Y]=0,Me=se+Y;F<=Me&&Me<M&&(p[Y]=se+1)}p[v.previousIndex]=F-M}}D!==C&&o(v,D,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!yd(o))throw new Ie(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],v=this._trackByFn(D,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,D)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,D),c=!0),a=a._next}else h=0,function Qv(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Kc()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,D=>{v=this._trackByFn(h,D),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,D,v,h)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,v,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new TE(a,c),p,h),o}_verifyReinsertion(o,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ub),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ub),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class TE{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Ub{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new uT,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class NE{constructor(){}supports(o){return o instanceof Map||Np(o)}create(){return new jb}}class jb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Np(o)))throw new Ie(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const c=new Ai(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class Ai{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AE(){return new $b([new wu])}let $b=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||AE()),deps:[[s,new Mt,new Ke]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Ie(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:AE}),s})();function ME(){return new ly([new NE])}let ly=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||ME()),deps:[[s,new Mt,new Ke]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Ie(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:ME}),s})();const dT=[new NE],hT=new $b([new wu]),xE=new ly(dT),Hb=hf(null,"core",[]);let Gb=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Yn(Dg))},s.\u0275mod=G({type:s}),s.\u0275inj=Ht({}),s})();function Sg(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}const uy=!0;function Wb(s){return wr().compileDirectiveDeclaration(Sr,`ng:///${s.type.name}/\u0275fac.js`,s)}function zb(s){bI(s.type,s.decorators,s.ctorParameters??null,s.propDecorators??null)}function RE(s){return wr().compileComponentDeclaration(Sr,`ng:///${s.type.name}/\u0275cmp.js`,s)}function fT(s){return wr(function OE(s){switch(s){case Dr.Directive:return"directive";case Dr.Component:return"component";case Dr.Injectable:return"injectable";case Dr.Pipe:return"pipe";case Dr.NgModule:return"NgModule"}}(s.target)).compileFactoryDeclaration(Sr,`ng:///${s.type.name}/\u0275fac.js`,s)}function kE(s){return wr().compileInjectableDeclaration(Sr,`ng:///${s.type.name}/\u0275prov.js`,s)}function qb(s){return wr().compileInjectorDeclaration(Sr,`ng:///${s.type.name}/\u0275inj.js`,s)}function pT(s){return wr().compileNgModuleDeclaration(Sr,`ng:///${s.type.name}/\u0275mod.js`,s)}function PE(s){return wr().compilePipeDeclaration(Sr,`ng:///${s.type.name}/\u0275pipe.js`,s)}function gT(s,o){const a=We(s),c=o.elementInjector||ul();return new _d(a).create(c,o.projectableNodes,o.hostElement,o.environmentInjector)}function FE(s){const o=We(s);if(!o)return null;const a=new _d(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone}}}},3942:(dt,De,V)=>{"use strict";V.d(De,{Z:()=>Ie});var I=V(2090),u=V(4859),B=V(9681),Q=V(1877);class ie{constructor(Ee,fe){this._delegate=Ee,this.firebase=fe,(0,B._addComponent)(Ee,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Ee,fe=B._DEFAULT_ENTRY_NAME){var ct;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Ee);return!mt.isInitialized()&&"EXPLICIT"===(null===(ct=mt.getComponent())||void 0===ct?void 0:ct.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:fe})}_removeServiceInstance(Ee,fe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(fe)}_addComponent(Ee){(0,B._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,B._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function de(){const Xe=function me(Xe){const Ee={},fe={__esModule:!0,initializeApp:function Be(Ye,z={}){const Ce=B.initializeApp(Ye,z);if((0,I.r3)(Ee,Ce.name))return Ee[Ce.name];const ee=new Xe(Ce,fe);return Ee[Ce.name]=ee,ee},app:mt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function xe(Ye){const z=Ye.name,Ce=z.replace("-compat","");if(B._registerComponent(Ye)&&"PUBLIC"===Ye.type){const ee=(re=mt())=>{if("function"!=typeof re[Ce])throw we.create("invalid-app-argument",{appName:z});return re[Ce]()};void 0!==Ye.serviceProps&&(0,I.ZB)(ee,Ye.serviceProps),fe[Ce]=ee,Xe.prototype[Ce]=function(...re){return this._getService.bind(this,z).apply(this,Ye.multipleInstances?re:[])}}return"PUBLIC"===Ye.type?fe[Ce]:null},removeApp:function ct(Ye){delete Ee[Ye]},useAsService:function qe(Ye,z){return"serverAuth"===z?null:z},modularAPIs:B}};function mt(Ye){if(!(0,I.r3)(Ee,Ye=Ye||B._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Ye});return Ee[Ye]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Ne(){return Object.keys(Ee).map(Ye=>Ee[Ye])}}),mt.App=Xe,fe}(ie);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function Ee(fe){(0,I.ZB)(Xe,fe)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Xe}(),q=new Q.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=K;!function Te(Xe){(0,B.registerVersion)("@firebase/app-compat","0.1.35",Xe)}()},9681:(dt,De,V)=>{"use strict";V.r(De),V.d(De,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>as,_DEFAULT_ENTRY_NAME:()=>Kt,_addComponent:()=>un,_addOrOverwriteComponent:()=>an,_apps:()=>cn,_clearComponents:()=>qo,_components:()=>xn,_getProvider:()=>Ht,_registerComponent:()=>pr,_removeServiceInstance:()=>dn,deleteApp:()=>ls,getApp:()=>Mr,getApps:()=>bi,initializeApp:()=>Mi,onLog:()=>zi,registerVersion:()=>Yr,setLogLevel:()=>gr});var I=V(5861),u=V(4859),B=V(1877),Q=V(2090),ie=V(8766);class ge{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function we(pt){return"VERSION"===pt.getComponent()?.type}(ht)){const Ot=ht.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(ht=>ht).join(" ")}}const me="@firebase/app",K=new B.Yd("@firebase/app"),Kt="[DEFAULT]",tt={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,xn=new Map;function un(pt,Fe){try{pt.container.addComponent(Fe)}catch(ht){K.debug(`Component ${Fe.name} failed to register with FirebaseApp ${pt.name}`,ht)}}function an(pt,Fe){pt.container.addOrOverwriteComponent(Fe)}function pr(pt){const Fe=pt.name;if(xn.has(Fe))return K.debug(`There were multiple attempts to register component ${Fe}.`),!1;xn.set(Fe,pt);for(const ht of cn.values())un(ht,pt);return!0}function Ht(pt,Fe){const ht=pt.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),pt.container.getProvider(Fe)}function dn(pt,Fe,ht=Kt){Ht(pt,Fe).clearInstance(ht)}function qo(){xn.clear()}const Zr=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ii{constructor(Fe,ht,Ot){this._isDeleted=!1,this._options=Object.assign({},Fe),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Fe){this._isDeleted=Fe}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const as="9.11.0";function Mi(pt,Fe={}){let ht=pt;"object"!=typeof Fe&&(Fe={name:Fe});const Ot=Object.assign({name:Kt,automaticDataCollectionEnabled:!1},Fe),kt=Ot.name;if("string"!=typeof kt||!kt)throw Zr.create("bad-app-name",{appName:String(kt)});if(ht||(ht=(0,Q.aH)()),!ht)throw Zr.create("no-options");const G=cn.get(kt);if(G){if((0,Q.vZ)(ht,G.options)&&(0,Q.vZ)(Ot,G.config))return G;throw Zr.create("duplicate-app",{appName:kt})}const W=new u.H0(kt);for(const Ae of xn.values())W.addComponent(Ae);const te=new ii(ht,Ot,W);return cn.set(kt,te),te}function Mr(pt=Kt){const Fe=cn.get(pt);if(!Fe&&pt===Kt)return Mi();if(!Fe)throw Zr.create("no-app",{appName:pt});return Fe}function bi(){return Array.from(cn.values())}function ls(pt){return nt.apply(this,arguments)}function nt(){return(nt=(0,I.Z)(function*(pt){const Fe=pt.name;cn.has(Fe)&&(cn.delete(Fe),yield Promise.all(pt.container.getProviders().map(ht=>ht.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function Yr(pt,Fe,ht){var Ot;let kt=null!==(Ot=tt[pt])&&void 0!==Ot?Ot:pt;ht&&(kt+=`-${ht}`);const G=kt.match(/\s|\//),W=Fe.match(/\s|\//);if(G||W){const te=[`Unable to register library "${kt}" with version "${Fe}":`];return G&&te.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),G&&W&&te.push("and"),W&&te.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void K.warn(te.join(" "))}pr(new u.wA(`${kt}-version`,()=>({library:kt,version:Fe}),"VERSION"))}function zi(pt,Fe){if(null!==pt&&"function"!=typeof pt)throw Zr.create("invalid-log-argument");(0,B.Am)(pt,Fe)}function gr(pt){(0,B.Ub)(pt)}const Bn="firebase-heartbeat-store";let Un=null;function Gt(){return Un||(Un=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(pt,Fe)=>{0===Fe&&pt.createObjectStore(Bn)}}).catch(pt=>{throw Zr.create("idb-open",{originalErrorMessage:pt.message})})),Un}function vt(){return(vt=(0,I.Z)(function*(pt){var Fe;try{return(yield Gt()).transaction(Bn).objectStore(Bn).get(Pn(pt))}catch(ht){if(ht instanceof Q.ZR)K.warn(ht.message);else{const Ot=Zr.create("idb-get",{originalErrorMessage:null===(Fe=ht)||void 0===Fe?void 0:Fe.message});K.warn(Ot.message)}}})).apply(this,arguments)}function Cn(pt,Fe){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,I.Z)(function*(pt,Fe){var ht;try{const kt=(yield Gt()).transaction(Bn,"readwrite");return yield kt.objectStore(Bn).put(Fe,Pn(pt)),kt.done}catch(Ot){if(Ot instanceof Q.ZR)K.warn(Ot.message);else{const kt=Zr.create("idb-set",{originalErrorMessage:null===(ht=Ot)||void 0===ht?void 0:ht.message});K.warn(kt.message)}}})).apply(this,arguments)}function Pn(pt){return`${pt.name}!${pt.options.appId}`}class xi{constructor(Fe){this.container=Fe,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new _n(ht),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var Fe=this;return(0,I.Z)(function*(){const Ot=Fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=hn();if(null===Fe._heartbeatsCache&&(Fe._heartbeatsCache=yield Fe._heartbeatsCachePromise),Fe._heartbeatsCache.lastSentHeartbeatDate!==kt&&!Fe._heartbeatsCache.heartbeats.some(G=>G.date===kt))return Fe._heartbeatsCache.heartbeats.push({date:kt,agent:Ot}),Fe._heartbeatsCache.heartbeats=Fe._heartbeatsCache.heartbeats.filter(G=>{const W=new Date(G.date).valueOf();return Date.now()-W<=2592e6}),Fe._storage.overwrite(Fe._heartbeatsCache)})()}getHeartbeatsHeader(){var Fe=this;return(0,I.Z)(function*(){if(null===Fe._heartbeatsCache&&(yield Fe._heartbeatsCachePromise),null===Fe._heartbeatsCache||0===Fe._heartbeatsCache.heartbeats.length)return"";const ht=hn(),{heartbeatsToSend:Ot,unsentEntries:kt}=function qi(pt,Fe=1024){const ht=[];let Ot=pt.slice();for(const kt of pt){const G=ht.find(W=>W.agent===kt.agent);if(G){if(G.dates.push(kt.date),mr(ht)>Fe){G.dates.pop();break}}else if(ht.push({agent:kt.agent,dates:[kt.date]}),mr(ht)>Fe){ht.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:ht,unsentEntries:Ot}}(Fe._heartbeatsCache.heartbeats),G=(0,Q.L)(JSON.stringify({version:2,heartbeats:Ot}));return Fe._heartbeatsCache.lastSentHeartbeatDate=ht,kt.length>0?(Fe._heartbeatsCache.heartbeats=kt,yield Fe._storage.overwrite(Fe._heartbeatsCache)):(Fe._heartbeatsCache.heartbeats=[],Fe._storage.overwrite(Fe._heartbeatsCache)),G})()}}function hn(){return(new Date).toISOString().substring(0,10)}class _n{constructor(Fe){this.app=Fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,Q.hl)()&&(0,Q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Fe=this;return(0,I.Z)(function*(){return(yield Fe._canUseIndexedDBPromise)&&(yield function Ct(pt){return vt.apply(this,arguments)}(Fe.app))||{heartbeats:[]}})()}overwrite(Fe){var ht=this;return(0,I.Z)(function*(){var Ot;if(yield ht._canUseIndexedDBPromise){const G=yield ht.read();return Cn(ht.app,{lastSentHeartbeatDate:null!==(Ot=Fe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:G.lastSentHeartbeatDate,heartbeats:Fe.heartbeats})}})()}add(Fe){var ht=this;return(0,I.Z)(function*(){var Ot;if(yield ht._canUseIndexedDBPromise){const G=yield ht.read();return Cn(ht.app,{lastSentHeartbeatDate:null!==(Ot=Fe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:G.lastSentHeartbeatDate,heartbeats:[...G.heartbeats,...Fe.heartbeats]})}})()}}function mr(pt){return(0,Q.L)(JSON.stringify({version:2,heartbeats:pt})).length}!function Br(pt){pr(new u.wA("platform-logger",Fe=>new ge(Fe),"PRIVATE")),pr(new u.wA("heartbeat",Fe=>new xi(Fe),"PRIVATE")),Yr(me,"0.8.0",pt),Yr(me,"0.8.0","esm2017"),Yr("fire-js","")}("")},4859:(dt,De,V)=>{"use strict";V.d(De,{H0:()=>me,wA:()=>B});var I=V(5861),u=V(2090);class B{constructor(K,q,Z){this.name=K,this.instanceFactory=q,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const Q="[DEFAULT]";class ie{constructor(K,q){this.name=K,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(q)){const Z=new u.BH;if(this.instancesDeferred.set(q,Z),this.isInitialized(q)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:q});ke&&Z.resolve(ke)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(K){var q;const Z=this.normalizeInstanceIdentifier(K?.identifier),ke=null!==(q=K?.optional)&&void 0!==q&&q;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Te){if(ke)return null;throw Te}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function we(de){return"EAGER"===de.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[q,Z]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(q);try{const Te=this.getOrInitializeService({instanceIdentifier:ke});Z.resolve(Te)}catch{}}}}clearInstance(K=Q){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,I.Z)(function*(){const q=Array.from(K.instances.values());yield Promise.all([...q.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...q.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=Q){return this.instances.has(K)}getOptions(K=Q){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:q={}}=K,Z=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:Z,options:q});for(const[Te,Ie]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Te)&&Ie.resolve(ke);return ke}onInit(K,q){var Z;const ke=this.normalizeInstanceIdentifier(q),Te=null!==(Z=this.onInitCallbacks.get(ke))&&void 0!==Z?Z:new Set;Te.add(K),this.onInitCallbacks.set(ke,Te);const Ie=this.instances.get(ke);return Ie&&K(Ie,ke),()=>{Te.delete(K)}}invokeOnInitCallbacks(K,q){const Z=this.onInitCallbacks.get(q);if(Z)for(const ke of Z)try{ke(K,q)}catch{}}getOrInitializeService({instanceIdentifier:K,options:q={}}){let Z=this.instances.get(K);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(de=K,de===Q?void 0:de),options:q}),this.instances.set(K,Z),this.instancesOptions.set(K,q),this.invokeOnInitCallbacks(Z,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,Z)}catch{}var de;return Z||null}normalizeInstanceIdentifier(K=Q){return this.component?this.component.multipleInstances?K:Q:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const q=this.getProvider(K.name);if(q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const q=new ie(K,this);return this.providers.set(K,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,De,V)=>{"use strict";V.d(De,{Am:()=>de,Ub:()=>me,Yd:()=>we,in:()=>u});const I=[];var u=(()=>{return(K=u||(u={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",u;var K})();const B={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},Q=u.INFO,ie={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},ge=(K,q,...Z)=>{if(q<K.logLevel)return;const ke=(new Date).toISOString(),Te=ie[q];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Te](`[${ke}]  ${K.name}:`,...Z)};class we{constructor(q){this.name=q,this._logLevel=Q,this._logHandler=ge,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in u))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?B[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...q),this._logHandler(this,u.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...q),this._logHandler(this,u.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,u.INFO,...q),this._logHandler(this,u.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,u.WARN,...q),this._logHandler(this,u.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...q),this._logHandler(this,u.ERROR,...q)}}function me(K){I.forEach(q=>{q.setLogLevel(K)})}function de(K,q){for(const Z of I){let ke=null;q&&q.level&&(ke=B[q.level]),Z.userLogHandler=null===K?null:(Te,Ie,...Xe)=>{const Ee=Xe.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");Ie>=(ke??Te.logLevel)&&K({level:u[Ie].toLowerCase(),message:Ee,args:Xe,type:Te.name})}}}},8766:(dt,De,V)=>{"use strict";V.d(De,{Lj:()=>Be,X3:()=>mt});var I=V(5861);let B,Q;const we=new WeakMap,me=new WeakMap,de=new WeakMap,K=new WeakMap,q=new WeakMap;let Te={get(z,Ce,ee){if(z instanceof IDBTransaction){if("done"===Ce)return me.get(z);if("objectStoreNames"===Ce)return z.objectStoreNames||de.get(z);if("store"===Ce)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return fe(z[Ce])},set:(z,Ce,ee)=>(z[Ce]=ee,!0),has:(z,Ce)=>z instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in z};function Ee(z){return"function"==typeof z?function Xe(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...Ce){return z.apply(ct(this),Ce),fe(we.get(this))}:function(...Ce){return fe(z.apply(ct(this),Ce))}:function(Ce,...ee){const re=z.call(ct(this),Ce,...ee);return de.set(re,Ce.sort?Ce.sort():[Ce]),fe(re)}}(z):(z instanceof IDBTransaction&&function ke(z){if(me.has(z))return;const Ce=new Promise((ee,re)=>{const ue=()=>{z.removeEventListener("complete",ae),z.removeEventListener("error",Pe),z.removeEventListener("abort",Pe)},ae=()=>{ee(),ue()},Pe=()=>{re(z.error||new DOMException("AbortError","AbortError")),ue()};z.addEventListener("complete",ae),z.addEventListener("error",Pe),z.addEventListener("abort",Pe)});me.set(z,Ce)}(z),((z,Ce)=>Ce.some(ee=>z instanceof ee))(z,function ie(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,Te):z)}function fe(z){if(z instanceof IDBRequest)return function Z(z){const Ce=new Promise((ee,re)=>{const ue=()=>{z.removeEventListener("success",ae),z.removeEventListener("error",Pe)},ae=()=>{ee(fe(z.result)),ue()},Pe=()=>{re(z.error),ue()};z.addEventListener("success",ae),z.addEventListener("error",Pe)});return Ce.then(ee=>{ee instanceof IDBCursor&&we.set(ee,z)}).catch(()=>{}),q.set(Ce,z),Ce}(z);if(K.has(z))return K.get(z);const Ce=Ee(z);return Ce!==z&&(K.set(z,Ce),q.set(Ce,z)),Ce}const ct=z=>q.get(z);function mt(z,Ce,{blocked:ee,upgrade:re,blocking:ue,terminated:ae}={}){const Pe=indexedDB.open(z,Ce),$e=fe(Pe);return re&&Pe.addEventListener("upgradeneeded",It=>{re(fe(Pe.result),It.oldVersion,It.newVersion,fe(Pe.transaction))}),ee&&Pe.addEventListener("blocked",()=>ee()),$e.then(It=>{ae&&It.addEventListener("close",()=>ae()),ue&&It.addEventListener("versionchange",()=>ue())}).catch(()=>{}),$e}function Be(z,{blocked:Ce}={}){const ee=indexedDB.deleteDatabase(z);return Ce&&ee.addEventListener("blocked",()=>Ce()),fe(ee).then(()=>{})}const Ne=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],qe=new Map;function Ye(z,Ce){if(!(z instanceof IDBDatabase)||Ce in z||"string"!=typeof Ce)return;if(qe.get(Ce))return qe.get(Ce);const ee=Ce.replace(/FromIndex$/,""),re=Ce!==ee,ue=xe.includes(ee);if(!(ee in(re?IDBIndex:IDBObjectStore).prototype)||!ue&&!Ne.includes(ee))return;const ae=function(){var Pe=(0,I.Z)(function*($e,...It){const on=this.transaction($e,ue?"readwrite":"readonly");let Kt=on.store;return re&&(Kt=Kt.index(It.shift())),(yield Promise.all([Kt[ee](...It),ue&&on.done]))[0]});return function(It){return Pe.apply(this,arguments)}}();return qe.set(Ce,ae),ae}!function Ie(z){Te=z(Te)}(z=>({...z,get:(Ce,ee,re)=>Ye(Ce,ee)||z.get(Ce,ee,re),has:(Ce,ee)=>!!Ye(Ce,ee)||z.has(Ce,ee)}))},5861:(dt,De,V)=>{"use strict";function I(B,Q,ie,ge,we,me,de){try{var K=B[me](de),q=K.value}catch(Z){return void ie(Z)}K.done?Q(q):Promise.resolve(q).then(ge,we)}function u(B){return function(){var Q=this,ie=arguments;return new Promise(function(ge,we){var me=B.apply(Q,ie);function de(q){I(me,ge,we,de,K,"next",q)}function K(q){I(me,ge,we,de,K,"throw",q)}de(void 0)})}}V.d(De,{Z:()=>u})}},dt=>{dt(dt.s=1739)}]);